(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const Ss=!1;var ts=Array.isArray,Yi=Array.prototype.indexOf,ns=Array.from,ja=Object.defineProperty,tr=Object.getOwnPropertyDescriptor,Ha=Object.getOwnPropertyDescriptors,Vi=Object.prototype,Wi=Array.prototype,Ys=Object.getPrototypeOf,va=Object.isExtensible;function Qi(e){return typeof e=="function"}const dt=()=>{};function Xi(e){return e()}function Yr(e){for(var t=0;t<e.length;t++)e[t]()}function qa(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const Qe=2,Vs=4,rs=8,Ki=1<<24,jt=16,nn=32,jn=64,ss=128,Ct=512,Ve=1024,it=2048,Rt=4096,ft=8192,Jt=16384,as=32768,Ln=65536,da=1<<17,Ya=1<<18,or=1<<19,Va=1<<20,Gt=1<<25,zn=32768,As=1<<21,Ws=1<<22,un=1<<23,Sn=Symbol("$state"),Gi=Symbol("legacy props"),Zi=Symbol(""),Zn=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function Qs(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ji(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function eo(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function to(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function no(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ro(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function so(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ao(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function io(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function oo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function lo(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const co=1,uo=2,Wa=4,vo=8,fo=16,ho=2,po=4,_o=8,go=1,mo=2,bo=4,wo=1,yo=2,Xe=Symbol(),ko="http://www.w3.org/1999/xhtml";function xo(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Qa(e){return e===this.v}function Xs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Xa(e){return!Xs(e,this.v)}let lr=!1,Eo=!1;function To(){lr=!0}let Ie=null;function nr(e){Ie=e}function nt(e,t=!1,n){Ie={p:Ie,i:!1,c:null,e:null,s:e,x:null,l:lr&&!t?{s:null,u:null,$:[]}:null}}function rt(e){var t=Ie,n=t.e;if(n!==null){t.e=null;for(var r of n)ui(r)}return t.i=!0,Ie=t.p,{}}function Pr(){return!lr||Ie!==null&&Ie.l===null}let Tn=[];function Ka(){var e=Tn;Tn=[],Yr(e)}function Hn(e){if(Tn.length===0&&!br){var t=Tn;queueMicrotask(()=>{t===Tn&&Ka()})}Tn.push(e)}function Mo(){for(;Tn.length>0;)Ka()}function Ga(e){var t=Me;if(t===null)return xe.f|=un,e;if((t.f&as)===0){if((t.f&ss)===0)throw e;t.b.error(e)}else rr(e,t)}function rr(e,t){for(;t!==null;){if((t.f&ss)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const zr=new Set;let $e=null,Br=null,wt=null,gt=[],is=null,$s=!1,br=!1;class Nt{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#r=0;#l=null;#a=new Set;#s=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#r>0}process(t){gt=[],Br=null,this.apply();var n={parent:null,effect:null,effects:[],render_effects:[]};for(const r of t)this.#i(r,n);this.is_fork||this.#u(),this.is_deferred()?(this.#o(n.effects),this.#o(n.render_effects)):(Br=this,$e=null,fa(n.render_effects),fa(n.effects),Br=null,this.#l?.resolve()),wt=null}#i(t,n){t.f^=Ve;for(var r=t.first;r!==null;){var s=r.f,i=(s&(nn|jn))!==0,c=i&&(s&Ve)!==0,l=c||(s&ft)!==0||this.skipped_effects.has(r);if((r.f&ss)!==0&&r.b?.is_pending()&&(n={parent:n,effect:r,effects:[],render_effects:[]}),!l&&r.fn!==null){i?r.f^=Ve:(s&Vs)!==0?n.effects.push(r):ur(r)&&((r.f&jt)!==0&&this.#a.add(r),ar(r));var u=r.first;if(u!==null){r=u;continue}}var o=r.parent;for(r=r.next;r===null&&o!==null;)o===n.effect&&(this.#o(n.effects),this.#o(n.render_effects),n=n.parent),r=o.next,o=o.parent}}#o(t){for(const n of t)(n.f&it)!==0?this.#a.add(n):(n.f&Rt)!==0&&this.#s.add(n),this.#c(n.deps),We(n,Ve)}#c(t){if(t!==null)for(const n of t)(n.f&Qe)===0||(n.f&zn)===0||(n.f^=zn,this.#c(n.deps))}capture(t,n){this.previous.has(t)||this.previous.set(t,n),(t.f&un)===0&&(this.current.set(t,t.v),wt?.set(t,t.v))}activate(){$e=this,this.apply()}deactivate(){$e===this&&($e=null,wt=null)}flush(){if(this.activate(),gt.length>0){if(Za(),$e!==null&&$e!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(this.#r===0){for(const t of this.#e)t();this.#e.clear()}this.#n===0&&this.#v()}#v(){if(zr.size>1){this.previous.clear();var t=wt,n=!0,r={parent:null,effect:null,effects:[],render_effects:[]};for(const i of zr){if(i===this){n=!1;continue}const c=[];for(const[u,o]of this.current){if(i.current.has(u))if(n&&o!==i.current.get(u))i.current.set(u,o);else continue;c.push(u)}if(c.length===0)continue;const l=[...i.current.keys()].filter(u=>!this.current.has(u));if(l.length>0){var s=gt;gt=[];const u=new Set,o=new Map;for(const v of c)Ja(v,l,u,o);if(gt.length>0){$e=i,i.apply();for(const v of gt)i.#i(v,r);i.deactivate()}gt=s}}$e=null,wt=t}this.committed=!0,zr.delete(this)}increment(t){this.#n+=1,t&&(this.#r+=1)}decrement(t){this.#n-=1,t&&(this.#r-=1),this.revive()}revive(){for(const t of this.#a)this.#s.delete(t),We(t,it),In(t);for(const t of this.#s)We(t,Rt),In(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=qa()).promise}static ensure(){if($e===null){const t=$e=new Nt;zr.add($e),br||Nt.enqueue(()=>{$e===t&&t.flush()})}return $e}static enqueue(t){Hn(t)}apply(){}}function So(e){var t=br;br=!0;try{for(var n;;){if(Mo(),gt.length===0&&($e?.flush(),gt.length===0))return is=null,n;Za()}}finally{br=t}}function Za(){var e=$n;$s=!0;var t=null;try{var n=0;for(Wr(!0);gt.length>0;){var r=Nt.ensure();if(n++>1e3){var s,i;Ao()}r.process(gt),vn.clear()}}finally{$s=!1,Wr(e),is=null}}function Ao(){try{ro()}catch(e){rr(e,is)}}let Qt=null;function fa(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Jt|ft))===0&&ur(r)&&(Qt=new Set,ar(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?hi(r):r.fn=null),Qt?.size>0)){vn.clear();for(const s of Qt){if((s.f&(Jt|ft))!==0)continue;const i=[s];let c=s.parent;for(;c!==null;)Qt.has(c)&&(Qt.delete(c),i.push(c)),c=c.parent;for(let l=i.length-1;l>=0;l--){const u=i[l];(u.f&(Jt|ft))===0&&ar(u)}}Qt.clear()}}Qt=null}}function Ja(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const s of e.reactions){const i=s.f;(i&Qe)!==0?Ja(s,t,n,r):(i&(Ws|jt))!==0&&(i&it)===0&&ei(s,t,r)&&(We(s,it),In(s))}}function ei(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const s of e.deps){if(t.includes(s))return!0;if((s.f&Qe)!==0&&ei(s,t,n))return n.set(s,!0),!0}return n.set(e,!1),!1}function In(e){for(var t=is=e;t.parent!==null;){t=t.parent;var n=t.f;if($s&&t===Me&&(n&jt)!==0&&(n&Ya)===0)return;if((n&(jn|nn))!==0){if((n&Ve)===0)return;t.f^=Ve}}gt.push(t)}function $o(e){let t=0,n=Nn(0),r;return()=>{kr()&&(a(n),cr(()=>(t===0&&(r=T(()=>e(()=>wr(n)))),t+=1,()=>{Hn(()=>{t-=1,t===0&&(r?.(),r=void 0,wr(n))})})))}}var Po=Ln|or|ss;function Co(e,t,n){new Ro(e,t,n)}class Ro{parent;#e=!1;#t;#n=null;#r;#l;#a;#s=null;#i=null;#o=null;#c=null;#u=null;#v=0;#d=0;#h=!1;#f=null;#b=$o(()=>(this.#f=Nn(this.#v),()=>{this.#f=null}));constructor(t,n,r){this.#t=t,this.#r=n,this.#l=r,this.parent=Me.b,this.#e=!!this.#r.pending,this.#a=Gs(()=>{Me.b=this;{var s=this.#g();try{this.#s=mt(()=>r(s))}catch(i){this.error(i)}this.#d>0?this.#_():this.#e=!1}return()=>{this.#u?.remove()}},Po)}#w(){try{this.#s=mt(()=>this.#l(this.#t))}catch(t){this.error(t)}this.#e=!1}#y(){const t=this.#r.pending;t&&(this.#i=mt(()=>t(this.#t)),Nt.enqueue(()=>{var n=this.#g();this.#s=this.#p(()=>(Nt.ensure(),mt(()=>this.#l(n)))),this.#d>0?this.#_():(An(this.#i,()=>{this.#i=null}),this.#e=!1)}))}#g(){var t=this.#t;return this.#e&&(this.#u=en(),this.#t.before(this.#u),t=this.#u),t}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#r.pending}#p(t){var n=Me,r=xe,s=Ie;Ft(this.#a),st(this.#a),nr(this.#a.ctx);try{return t()}catch(i){return Ga(i),null}finally{Ft(n),st(r),nr(s)}}#_(){const t=this.#r.pending;this.#s!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#u),gi(this.#s,this.#c)),this.#i===null&&(this.#i=mt(()=>t(this.#t)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}this.#d+=t,this.#d===0&&(this.#e=!1,this.#i&&An(this.#i,()=>{this.#i=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(t){this.#m(t),this.#v+=t,this.#f&&sr(this.#f,this.#v)}get_effect_pending(){return this.#b(),a(this.#f)}error(t){var n=this.#r.onerror;let r=this.#r.failed;if(this.#h||!n&&!r)throw t;this.#s&&(at(this.#s),this.#s=null),this.#i&&(at(this.#i),this.#i=null),this.#o&&(at(this.#o),this.#o=null);var s=!1,i=!1;const c=()=>{if(s){xo();return}s=!0,i&&lo(),Nt.ensure(),this.#v=0,this.#o!==null&&An(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#s=this.#p(()=>(this.#h=!1,mt(()=>this.#l(this.#t)))),this.#d>0?this.#_():this.#e=!1};var l=xe;try{st(null),i=!0,n?.(t,c),i=!1}catch(u){rr(u,this.#a&&this.#a.parent)}finally{st(l)}r&&Hn(()=>{this.#o=this.#p(()=>{Nt.ensure(),this.#h=!0;try{return mt(()=>{r(this.#t,()=>t,()=>c)})}catch(u){return rr(u,this.#a.parent),null}finally{this.#h=!1}})})}}function Lo(e,t,n,r){const s=Pr()?os:He;if(n.length===0&&e.length===0){r(t.map(s));return}var i=$e,c=Me,l=zo();function u(){Promise.all(n.map(o=>Io(o))).then(o=>{l();try{r([...t.map(s),...o])}catch(v){(c.f&Jt)===0&&rr(v,c)}i?.deactivate(),Vr()}).catch(o=>{rr(o,c)})}e.length>0?Promise.all(e).then(()=>{l();try{return u()}finally{i?.deactivate(),Vr()}}):u()}function zo(){var e=Me,t=xe,n=Ie,r=$e;return function(i=!0){Ft(e),st(t),nr(n),i&&r?.activate()}}function Vr(){Ft(null),st(null),nr(null)}function os(e){var t=Qe|it,n=xe!==null&&(xe.f&Qe)!==0?xe:null;return Me!==null&&(Me.f|=or),{ctx:Ie,deps:null,effects:null,equals:Qa,f:t,fn:e,reactions:null,rv:0,v:Xe,wv:0,parent:n??Me,ac:null}}function Io(e,t){let n=Me;n===null&&Ji();var r=n.b,s=void 0,i=Nn(Xe),c=!xe,l=new Map;return Vo(()=>{var u=qa();s=u.promise;try{Promise.resolve(e()).then(u.resolve,u.reject).then(()=>{o===$e&&o.committed&&o.deactivate(),Vr()})}catch(d){u.reject(d),Vr()}var o=$e;if(c){var v=!r.is_pending();r.update_pending_count(1),o.increment(v),l.get(o)?.reject(Zn),l.delete(o),l.set(o,u)}const f=(d,h=void 0)=>{if(o.activate(),h)h!==Zn&&(i.f|=un,sr(i,h));else{(i.f&un)!==0&&(i.f^=un),sr(i,d);for(const[w,y]of l){if(l.delete(w),w===o)break;y.reject(Zn)}}c&&(r.update_pending_count(-1),o.decrement(v))};u.promise.then(f,d=>f(null,d||"unknown"))}),ls(()=>{for(const u of l.values())u.reject(Zn)}),new Promise(u=>{function o(v){function f(){v===s?u(i):o(s)}v.then(f,f)}o(s)})}function hr(e){const t=os(e);return mi(t),t}function He(e){const t=os(e);return t.equals=Xa,t}function ti(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)at(t[n])}}function No(e){for(var t=e.parent;t!==null;){if((t.f&Qe)===0)return(t.f&Jt)===0?t:null;t=t.parent}return null}function Ks(e){var t,n=Me;Ft(No(e));try{e.f&=~zn,ti(e),t=ki(e)}finally{Ft(n)}return t}function ni(e){var t=Ks(e);if(e.equals(t)||($e?.is_fork||(e.v=t),e.wv=wi()),!Yn)if(wt!==null)(kr()||$e?.is_fork)&&wt.set(e,t);else{var n=(e.f&Ct)===0?Rt:Ve;We(e,n)}}let Ps=new Set;const vn=new Map;let ri=!1;function Nn(e,t){var n={f:0,v:e,reactions:null,equals:Qa,rv:0,wv:0};return n}function an(e,t){const n=Nn(e);return mi(n),n}function C(e,t=!1,n=!0){const r=Nn(e);return t||(r.equals=Xa),lr&&n&&Ie!==null&&Ie.l!==null&&(Ie.l.s??=[]).push(r),r}function Ir(e,t){return g(e,T(()=>a(e))),t}function g(e,t,n=!1){xe!==null&&(!Dt||(xe.f&da)!==0)&&Pr()&&(xe.f&(Qe|jt|Ws|da))!==0&&!tn?.includes(e)&&oo();let r=n?Jn(t):t;return sr(e,r)}function sr(e,t){if(!e.equals(t)){var n=e.v;Yn?vn.set(e,t):vn.set(e,n),e.v=t;var r=Nt.ensure();r.capture(e,n),(e.f&Qe)!==0&&((e.f&it)!==0&&Ks(e),We(e,(e.f&Ct)!==0?Ve:Rt)),e.wv=wi(),si(e,it),Pr()&&Me!==null&&(Me.f&Ve)!==0&&(Me.f&(nn|jn))===0&&(_t===null?Qo([e]):_t.push(e)),!r.is_fork&&Ps.size>0&&!ri&&Oo()}return t}function Oo(){ri=!1;var e=$n;Wr(!0);const t=Array.from(Ps);try{for(const n of t)(n.f&Ve)!==0&&We(n,Rt),ur(n)&&ar(n)}finally{Wr(e)}Ps.clear()}function wr(e){g(e,e.v+1)}function si(e,t){var n=e.reactions;if(n!==null)for(var r=Pr(),s=n.length,i=0;i<s;i++){var c=n[i],l=c.f;if(!(!r&&c===Me)){var u=(l&it)===0;if(u&&We(c,t),(l&Qe)!==0){var o=c;wt?.delete(o),(l&zn)===0&&(l&Ct&&(c.f|=zn),si(o,Rt))}else u&&((l&jt)!==0&&Qt!==null&&Qt.add(c),In(c))}}}function Jn(e){if(typeof e!="object"||e===null||Sn in e)return e;const t=Ys(e);if(t!==Vi&&t!==Wi)return e;var n=new Map,r=ts(e),s=an(0),i=Pn,c=l=>{if(Pn===i)return l();var u=xe,o=Pn;st(null),_a(i);var v=l();return st(u),_a(o),v};return r&&n.set("length",an(e.length)),new Proxy(e,{defineProperty(l,u,o){(!("value"in o)||o.configurable===!1||o.enumerable===!1||o.writable===!1)&&ao();var v=n.get(u);return v===void 0?v=c(()=>{var f=an(o.value);return n.set(u,f),f}):g(v,o.value,!0),!0},deleteProperty(l,u){var o=n.get(u);if(o===void 0){if(u in l){const v=c(()=>an(Xe));n.set(u,v),wr(s)}}else g(o,Xe),wr(s);return!0},get(l,u,o){if(u===Sn)return e;var v=n.get(u),f=u in l;if(v===void 0&&(!f||tr(l,u)?.writable)&&(v=c(()=>{var h=Jn(f?l[u]:Xe),w=an(h);return w}),n.set(u,v)),v!==void 0){var d=a(v);return d===Xe?void 0:d}return Reflect.get(l,u,o)},getOwnPropertyDescriptor(l,u){var o=Reflect.getOwnPropertyDescriptor(l,u);if(o&&"value"in o){var v=n.get(u);v&&(o.value=a(v))}else if(o===void 0){var f=n.get(u),d=f?.v;if(f!==void 0&&d!==Xe)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return o},has(l,u){if(u===Sn)return!0;var o=n.get(u),v=o!==void 0&&o.v!==Xe||Reflect.has(l,u);if(o!==void 0||Me!==null&&(!v||tr(l,u)?.writable)){o===void 0&&(o=c(()=>{var d=v?Jn(l[u]):Xe,h=an(d);return h}),n.set(u,o));var f=a(o);if(f===Xe)return!1}return v},set(l,u,o,v){var f=n.get(u),d=u in l;if(r&&u==="length")for(var h=o;h<f.v;h+=1){var w=n.get(h+"");w!==void 0?g(w,Xe):h in l&&(w=c(()=>an(Xe)),n.set(h+"",w))}if(f===void 0)(!d||tr(l,u)?.writable)&&(f=c(()=>an(void 0)),g(f,Jn(o)),n.set(u,f));else{d=f.v!==Xe;var y=c(()=>Jn(o));g(f,y)}var _=Reflect.getOwnPropertyDescriptor(l,u);if(_?.set&&_.set.call(v,o),!d){if(r&&typeof u=="string"){var k=n.get("length"),N=Number(u);Number.isInteger(N)&&N>=k.v&&g(k,N+1)}wr(s)}return!0},ownKeys(l){a(s);var u=Reflect.ownKeys(l).filter(f=>{var d=n.get(f);return d===void 0||d.v!==Xe});for(var[o,v]of n)v.v!==Xe&&!(o in l)&&u.push(o);return u},setPrototypeOf(){io()}})}var kn,ai,ii,oi;function Do(){if(kn===void 0){kn=window,ai=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ii=tr(t,"firstChild").get,oi=tr(t,"nextSibling").get,va(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),va(n)&&(n.__t=void 0)}}function en(e=""){return document.createTextNode(e)}function ln(e){return ii.call(e)}function Cr(e){return oi.call(e)}function p(e,t){return ln(e)}function be(e,t=!1){{var n=ln(e);return n instanceof Comment&&n.data===""?Cr(n):n}}function x(e,t=1,n=!1){let r=e;for(;t--;)r=Cr(r);return r}function Fo(e){e.textContent=""}function li(){return!1}let ha=!1;function Bo(){ha||(ha=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function Uo(e,t,n,r=!0){r&&n();for(var s of t)e.addEventListener(s,n);ls(()=>{for(var i of t)e.removeEventListener(i,n)})}function qn(e){var t=xe,n=Me;st(null),Ft(null);try{return e()}finally{st(t),Ft(n)}}function jo(e,t,n,r=n){e.addEventListener(t,()=>qn(n));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Bo()}function ci(e){Me===null&&(xe===null&&no(),to()),Yn&&eo()}function Ho(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ht(e,t,n){var r=Me;r!==null&&(r.f&ft)!==0&&(e|=ft);var s={ctx:Ie,deps:null,nodes:null,f:e|it|Ct,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{ar(s),s.f|=as}catch(l){throw at(s),l}else t!==null&&In(s);var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&or)===0&&(i=i.first,(e&jt)!==0&&(e&Ln)!==0&&i!==null&&(i.f|=Ln)),i!==null&&(i.parent=r,r!==null&&Ho(i,r),xe!==null&&(xe.f&Qe)!==0&&(e&jn)===0)){var c=xe;(c.effects??=[]).push(i)}return s}function kr(){return xe!==null&&!Dt}function ls(e){const t=Ht(rs,null,!1);return We(t,Ve),t.teardown=e,t}function Cs(e){ci();var t=Me.f,n=!xe&&(t&nn)!==0&&(t&as)===0;if(n){var r=Ie;(r.e??=[]).push(e)}else return ui(e)}function ui(e){return Ht(Vs|Va,e,!1)}function qo(e){return ci(),Ht(rs|Va,e,!0)}function Yo(e){Nt.ensure();const t=Ht(jn|or,e,!0);return(n={})=>new Promise(r=>{n.outro?An(t,()=>{at(t),r(void 0)}):(at(t),r(void 0))})}function Ot(e){return Ht(Vs,e,!1)}function te(e,t){var n=Ie,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=cr(()=>{e(),!r.ran&&(r.ran=!0,T(t))})}function qt(){var e=Ie;cr(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&Ve)!==0&&We(n,Rt),ur(n)&&ar(n),t.ran=!1}})}function Vo(e){return Ht(Ws|or,e,!0)}function cr(e,t=0){return Ht(rs|t,e,!0)}function me(e,t=[],n=[],r=[]){Lo(r,t,n,s=>{Ht(rs,()=>e(...s.map(a)),!0)})}function Gs(e,t=0){var n=Ht(jt|t,e,!0);return n}function mt(e){return Ht(nn|or,e,!0)}function vi(e){var t=e.teardown;if(t!==null){const n=Yn,r=xe;pa(!0),st(null);try{t.call(null)}finally{pa(n),st(r)}}}function di(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&qn(()=>{s.abort(Zn)});var r=n.next;(n.f&jn)!==0?n.parent=null:at(n,t),n=r}}function Wo(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&nn)===0&&at(t),t=n}}function at(e,t=!0){var n=!1;(t||(e.f&Ya)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(fi(e.nodes.start,e.nodes.end),n=!0),di(e,t&&!n),Qr(e,0),We(e,Jt);var r=e.nodes&&e.nodes.t;if(r!==null)for(const i of r)i.stop();vi(e);var s=e.parent;s!==null&&s.first!==null&&hi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function fi(e,t){for(;e!==null;){var n=e===t?null:Cr(e);e.remove(),e=n}}function hi(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function An(e,t,n=!0){var r=[];pi(e,r,!0);var s=()=>{n&&at(e),t&&t()},i=r.length;if(i>0){var c=()=>--i||s();for(var l of r)l.out(c)}else s()}function pi(e,t,n){if((e.f&ft)===0){e.f^=ft;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var s=e.first;s!==null;){var i=s.next,c=(s.f&Ln)!==0||(s.f&nn)!==0&&(e.f&jt)!==0;pi(s,t,c?n:!1),s=i}}}function Zs(e){_i(e,!0)}function _i(e,t){if((e.f&ft)!==0){e.f^=ft,(e.f&Ve)===0&&(We(e,it),In(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&Ln)!==0||(n.f&nn)!==0;_i(n,s?t:!1),n=r}var i=e.nodes&&e.nodes.t;if(i!==null)for(const c of i)(c.is_global||t)&&c.in()}}function gi(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var s=n===r?null:Cr(n);t.append(n),n=s}}let $n=!1;function Wr(e){$n=e}let Yn=!1;function pa(e){Yn=e}let xe=null,Dt=!1;function st(e){xe=e}let Me=null;function Ft(e){Me=e}let tn=null;function mi(e){xe!==null&&(tn===null?tn=[e]:tn.push(e))}let tt=null,ut=0,_t=null;function Qo(e){_t=e}let bi=1,xr=0,Pn=xr;function _a(e){Pn=e}function wi(){return++bi}function ur(e){var t=e.f;if((t&it)!==0)return!0;if(t&Qe&&(e.f&=~zn),(t&Rt)!==0){var n=e.deps;if(n!==null)for(var r=n.length,s=0;s<r;s++){var i=n[s];if(ur(i)&&ni(i),i.wv>e.wv)return!0}(t&Ct)!==0&&wt===null&&We(e,Ve)}return!1}function yi(e,t,n=!0){var r=e.reactions;if(r!==null&&!tn?.includes(e))for(var s=0;s<r.length;s++){var i=r[s];(i.f&Qe)!==0?yi(i,t,!1):t===i&&(n?We(i,it):(i.f&Ve)!==0&&We(i,Rt),In(i))}}function ki(e){var t=tt,n=ut,r=_t,s=xe,i=tn,c=Ie,l=Dt,u=Pn,o=e.f;tt=null,ut=0,_t=null,xe=(o&(nn|jn))===0?e:null,tn=null,nr(e.ctx),Dt=!1,Pn=++xr,e.ac!==null&&(qn(()=>{e.ac.abort(Zn)}),e.ac=null);try{e.f|=As;var v=e.fn,f=v(),d=e.deps;if(tt!==null){var h;if(Qr(e,ut),d!==null&&ut>0)for(d.length=ut+tt.length,h=0;h<tt.length;h++)d[ut+h]=tt[h];else e.deps=d=tt;if(kr()&&(e.f&Ct)!==0)for(h=ut;h<d.length;h++)(d[h].reactions??=[]).push(e)}else d!==null&&ut<d.length&&(Qr(e,ut),d.length=ut);if(Pr()&&_t!==null&&!Dt&&d!==null&&(e.f&(Qe|Rt|it))===0)for(h=0;h<_t.length;h++)yi(_t[h],e);return s!==null&&s!==e&&(xr++,_t!==null&&(r===null?r=_t:r.push(..._t))),(e.f&un)!==0&&(e.f^=un),f}catch(w){return Ga(w)}finally{e.f^=As,tt=t,ut=n,_t=r,xe=s,tn=i,nr(c),Dt=l,Pn=u}}function Xo(e,t){let n=t.reactions;if(n!==null){var r=Yi.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}n===null&&(t.f&Qe)!==0&&(tt===null||!tt.includes(t))&&(We(t,Rt),(t.f&Ct)!==0&&(t.f^=Ct,t.f&=~zn),ti(t),Qr(t,0))}function Qr(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)Xo(e,n[r])}function ar(e){var t=e.f;if((t&Jt)===0){We(e,Ve);var n=Me,r=$n;Me=e,$n=!0;try{(t&(jt|Ki))!==0?Wo(e):di(e),vi(e);var s=ki(e);e.teardown=typeof s=="function"?s:null,e.wv=bi;var i;Ss&&Eo&&(e.f&it)!==0&&e.deps}finally{$n=r,Me=n}}}async function Er(){await Promise.resolve(),So()}function a(e){var t=e.f,n=(t&Qe)!==0;if(xe!==null&&!Dt){var r=Me!==null&&(Me.f&Jt)!==0;if(!r&&!tn?.includes(e)){var s=xe.deps;if((xe.f&As)!==0)e.rv<xr&&(e.rv=xr,tt===null&&s!==null&&s[ut]===e?ut++:tt===null?tt=[e]:tt.includes(e)||tt.push(e));else{(xe.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[xe]:i.includes(xe)||i.push(xe)}}}if(Yn){if(vn.has(e))return vn.get(e);if(n){var c=e,l=c.v;return((c.f&Ve)===0&&c.reactions!==null||Ei(c))&&(l=Ks(c)),vn.set(c,l),l}}else n&&(!wt?.has(e)||$e?.is_fork&&!kr())&&(c=e,ur(c)&&ni(c),$n&&kr()&&(c.f&Ct)===0&&xi(c));if(wt?.has(e))return wt.get(e);if((e.f&un)!==0)throw e.v;return e.v}function xi(e){if(e.deps!==null){e.f^=Ct;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&Qe)!==0&&(t.f&Ct)===0&&xi(t)}}function Ei(e){if(e.v===Xe)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(vn.has(t)||(t.f&Qe)!==0&&Ei(t))return!0;return!1}function T(e){var t=Dt;try{return Dt=!0,e()}finally{Dt=t}}const Ko=-7169;function We(e,t){e.f=e.f&Ko|t}function W(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Sn in e)Rs(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Sn in n&&Rs(n)}}}function Rs(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Rs(e[r],t)}catch{}const n=Ys(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Ha(n);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}const Go=["touchstart","touchmove"];function Zo(e){return Go.includes(e)}const Jo=new Set,ga=new Set;function el(e,t,n,r={}){function s(i){if(r.capture||gr.call(t,i),!i.cancelBubble)return qn(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Hn(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function L(e,t,n,r,s){var i={capture:r,passive:s},c=el(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&ls(()=>{t.removeEventListener(e,c,i)})}let ma=null;function gr(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],i=s[0]||e.target;ma=e;var c=0,l=ma===e&&e.__root;if(l){var u=s.indexOf(l);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var o=s.indexOf(t);if(o===-1)return;u<=o&&(c=u)}if(i=s[c]||e.target,i!==t){ja(e,"currentTarget",{configurable:!0,get(){return i||n}});var v=xe,f=Me;st(null),Ft(null);try{for(var d,h=[];i!==null;){var w=i.assignedSlot||i.parentNode||i.host||null;try{var y=i["__"+r];y!=null&&(!i.disabled||e.target===i)&&y.call(i,e)}catch(_){d?h.push(_):d=_}if(e.cancelBubble||w===t||w===null)break;i=w}if(d){for(let _ of h)queueMicrotask(()=>{throw _});throw d}}finally{e.__root=t,delete e.currentTarget,st(v),Ft(f)}}}function Ti(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Tr(e,t){var n=Me;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function P(e,t){var n=(t&wo)!==0,r=(t&yo)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=Ti(i?e:"<!>"+e),n||(s=ln(s)));var c=r||ai?document.importNode(s,!0):s.cloneNode(!0);if(n){var l=ln(c),u=c.lastChild;Tr(l,u)}else Tr(c,c);return c}}function Wn(e=""){{var t=en(e+"");return Tr(t,t),t}}function Oe(){var e=document.createDocumentFragment(),t=document.createComment(""),n=en();return e.append(t,n),Tr(t,n),e}function b(e,t){e!==null&&e.before(t)}let Ls=!0;function ge(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function tl(e,t){return nl(e,t)}const Qn=new Map;function nl(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:c=!0}){Do();var l=new Set,u=f=>{for(var d=0;d<f.length;d++){var h=f[d];if(!l.has(h)){l.add(h);var w=Zo(h);t.addEventListener(h,gr,{passive:w});var y=Qn.get(h);y===void 0?(document.addEventListener(h,gr,{passive:w}),Qn.set(h,1)):Qn.set(h,y+1)}}};u(ns(Jo)),ga.add(u);var o=void 0,v=Yo(()=>{var f=n??t.appendChild(en());return Co(f,{pending:()=>{}},d=>{if(i){nt({});var h=Ie;h.c=i}s&&(r.$$events=s),Ls=c,o=e(d,r)||{},Ls=!0,i&&rt()}),()=>{for(var d of l){t.removeEventListener(d,gr);var h=Qn.get(d);--h===0?(document.removeEventListener(d,gr),Qn.delete(d)):Qn.set(d,h)}ga.delete(u),f!==n&&f.parentNode?.removeChild(f)}});return rl.set(o,v),o}let rl=new WeakMap;class sl{anchor;#e=new Map;#t=new Map;#n=new Map;#r=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#a=()=>{var t=$e;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)Zs(r),this.#r.delete(n);else{var s=this.#n.get(n);s&&(this.#t.set(n,s.effect),this.#n.delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[i,c]of this.#e){if(this.#e.delete(i),i===t)break;const l=this.#n.get(c);l&&(at(l.effect),this.#n.delete(c))}for(const[i,c]of this.#t){if(i===n||this.#r.has(i))continue;const l=()=>{if(Array.from(this.#e.values()).includes(i)){var o=document.createDocumentFragment();gi(c,o),o.append(en()),this.#n.set(i,{effect:c,fragment:o})}else at(c);this.#r.delete(i),this.#t.delete(i)};this.#l||!r?(this.#r.add(i),An(c,l,!1)):l()}}};#s=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,s]of this.#n)n.includes(r)||(at(s.effect),this.#n.delete(r))};ensure(t,n){var r=$e,s=li();if(n&&!this.#t.has(t)&&!this.#n.has(t))if(s){var i=document.createDocumentFragment(),c=en();i.append(c),this.#n.set(t,{effect:mt(()=>n(c)),fragment:i})}else this.#t.set(t,mt(()=>n(this.anchor)));if(this.#e.set(r,t),s){for(const[l,u]of this.#t)l===t?r.skipped_effects.delete(u):r.skipped_effects.add(u);for(const[l,u]of this.#n)l===t?r.skipped_effects.delete(u.effect):r.skipped_effects.add(u.effect);r.oncommit(this.#a),r.ondiscard(this.#s)}else this.#a()}}function J(e,t,n=!1){var r=new sl(e),s=n?Ln:0;function i(c,l){r.ensure(c,l)}Gs(()=>{var c=!1;t((l,u=!0)=>{c=!0,i(u,l)}),c||i(!1,null)},s)}function fn(e,t){return t}function al(e,t,n){for(var r=[],s=t.length,i,c=t.length,l=0;l<s;l++){let f=t[l];An(f,()=>{if(i){if(i.pending.delete(f),i.done.add(f),i.pending.size===0){var d=e.outrogroups;zs(ns(i.done)),d.delete(i),d.size===0&&(e.outrogroups=null)}}else c-=1},!1)}if(c===0){var u=r.length===0&&n!==null;if(u){var o=n,v=o.parentNode;Fo(v),v.append(o),e.items.clear()}zs(t,!u)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function zs(e,t=!0){for(var n=0;n<e.length;n++)at(e[n],t)}var ba;function Lt(e,t,n,r,s,i=null){var c=e,l=new Map,u=(t&Wa)!==0;if(u){var o=e;c=o.appendChild(en())}var v=null,f=He(()=>{var k=n();return ts(k)?k:k==null?[]:ns(k)}),d,h=!0;function w(){_.fallback=v,il(_,d,c,t,r),v!==null&&(d.length===0?(v.f&Gt)===0?Zs(v):(v.f^=Gt,mr(v,null,c)):An(v,()=>{v=null}))}var y=Gs(()=>{d=a(f);for(var k=d.length,N=new Set,q=$e,Q=li(),ie=0;ie<k;ie+=1){var Z=d[ie],Y=r(Z,ie),A=h?null:l.get(Y);A?(A.v&&sr(A.v,Z),A.i&&sr(A.i,ie),Q&&q.skipped_effects.delete(A.e)):(A=ol(l,h?c:ba??=en(),Z,Y,ie,s,t,n),h||(A.e.f|=Gt),l.set(Y,A)),N.add(Y)}if(k===0&&i&&!v&&(h?v=mt(()=>i(c)):(v=mt(()=>i(ba??=en())),v.f|=Gt)),!h)if(Q){for(const[E,V]of l)N.has(E)||q.skipped_effects.add(V.e);q.oncommit(w),q.ondiscard(()=>{})}else w();a(f)}),_={effect:y,items:l,outrogroups:null,fallback:v};h=!1}function il(e,t,n,r,s){var i=(r&vo)!==0,c=t.length,l=e.items,u=e.effect.first,o,v=null,f,d=[],h=[],w,y,_,k;if(i)for(k=0;k<c;k+=1)w=t[k],y=s(w,k),_=l.get(y).e,(_.f&Gt)===0&&(_.nodes?.a?.measure(),(f??=new Set).add(_));for(k=0;k<c;k+=1){if(w=t[k],y=s(w,k),_=l.get(y).e,e.outrogroups!==null)for(const V of e.outrogroups)V.pending.delete(_),V.done.delete(_);if((_.f&Gt)!==0)if(_.f^=Gt,_===u)mr(_,null,n);else{var N=v?v.next:u;_===e.effect.last&&(e.effect.last=_.prev),_.prev&&(_.prev.next=_.next),_.next&&(_.next.prev=_.prev),on(e,v,_),on(e,_,N),mr(_,N,n),v=_,d=[],h=[],u=v.next;continue}if((_.f&ft)!==0&&(Zs(_),i&&(_.nodes?.a?.unfix(),(f??=new Set).delete(_))),_!==u){if(o!==void 0&&o.has(_)){if(d.length<h.length){var q=h[0],Q;v=q.prev;var ie=d[0],Z=d[d.length-1];for(Q=0;Q<d.length;Q+=1)mr(d[Q],q,n);for(Q=0;Q<h.length;Q+=1)o.delete(h[Q]);on(e,ie.prev,Z.next),on(e,v,ie),on(e,Z,q),u=q,v=Z,k-=1,d=[],h=[]}else o.delete(_),mr(_,u,n),on(e,_.prev,_.next),on(e,_,v===null?e.effect.first:v.next),on(e,v,_),v=_;continue}for(d=[],h=[];u!==null&&u!==_;)(o??=new Set).add(u),h.push(u),u=u.next;if(u===null)continue}(_.f&Gt)===0&&d.push(_),v=_,u=_.next}if(e.outrogroups!==null){for(const V of e.outrogroups)V.pending.size===0&&(zs(ns(V.done)),e.outrogroups?.delete(V));e.outrogroups.size===0&&(e.outrogroups=null)}if(u!==null||o!==void 0){var Y=[];if(o!==void 0)for(_ of o)(_.f&ft)===0&&Y.push(_);for(;u!==null;)(u.f&ft)===0&&u!==e.fallback&&Y.push(u),u=u.next;var A=Y.length;if(A>0){var E=(r&Wa)!==0&&c===0?n:null;if(i){for(k=0;k<A;k+=1)Y[k].nodes?.a?.measure();for(k=0;k<A;k+=1)Y[k].nodes?.a?.fix()}al(e,Y,E)}}i&&Hn(()=>{if(f!==void 0)for(_ of f)_.nodes?.a?.apply()})}function ol(e,t,n,r,s,i,c,l){var u=(c&co)!==0?(c&fo)===0?C(n,!1,!1):Nn(n):null,o=(c&uo)!==0?Nn(s):null;return{v:u,i:o,e:mt(()=>(i(t,u??n,o??s,l),()=>{e.delete(r)}))}}function mr(e,t,n){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end,i=t&&(t.f&Gt)===0?t.nodes.start:n;r!==null;){var c=Cr(r);if(i.before(r),r===s)return;r=c}}function on(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function re(e,t,n=!1,r=!1,s=!1){var i=e,c="";me(()=>{var l=Me;if(c!==(c=t()??"")&&(l.nodes!==null&&(fi(l.nodes.start,l.nodes.end),l.nodes=null),c!=="")){var u=c+"";n?u=`<svg>${u}</svg>`:r&&(u=`<math>${u}</math>`);var o=Ti(u);if((n||r)&&(o=ln(o)),Tr(ln(o),o.lastChild),n||r)for(;ln(o);)i.before(ln(o));else i.before(o)}})}function Ur(e,t,n,r,s){var i=t.$$slots?.[n],c=!1;i===!0&&(i=t[n==="default"?"children":n],c=!0),i===void 0||i(e,c?()=>r:r)}const ll=()=>performance.now(),Xt={tick:e=>requestAnimationFrame(e),now:()=>ll(),tasks:new Set};function Mi(){const e=Xt.now();Xt.tasks.forEach(t=>{t.c(e)||(Xt.tasks.delete(t),t.f())}),Xt.tasks.size!==0&&Xt.tick(Mi)}function cl(e){let t;return Xt.tasks.size===0&&Xt.tick(Mi),{promise:new Promise(n=>{Xt.tasks.add(t={c:e,f:n})}),abort(){Xt.tasks.delete(t)}}}function Nr(e,t){qn(()=>{e.dispatchEvent(new CustomEvent(t))})}function ul(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function wa(e){const t={},n=e.split(";");for(const r of n){const[s,i]=r.split(":");if(!s||i===void 0)break;const c=ul(s.trim());t[c]=i.trim()}return t}const vl=e=>e;function Bt(e,t,n,r){var s=(e&go)!==0,i=(e&mo)!==0,c=s&&i,l=(e&bo)!==0,u=c?"both":s?"in":"out",o,v=t.inert,f=t.style.overflow,d,h;function w(){return qn(()=>o??=n()(t,r?.()??{},{direction:u}))}var y={is_global:l,in(){if(t.inert=v,!s){h?.abort(),h?.reset?.();return}i||d?.abort(),Nr(t,"introstart"),d=Is(t,w(),h,1,()=>{Nr(t,"introend"),d?.abort(),d=o=void 0,t.style.overflow=f})},out(q){if(!i){q?.(),o=void 0;return}t.inert=!0,Nr(t,"outrostart"),h=Is(t,w(),d,0,()=>{Nr(t,"outroend"),q?.()})},stop:()=>{d?.abort(),h?.abort()}},_=Me;if((_.nodes.t??=[]).push(y),s&&Ls){var k=l;if(!k){for(var N=_.parent;N&&(N.f&Ln)!==0;)for(;(N=N.parent)&&(N.f&jt)===0;);k=!N||(N.f&as)!==0}k&&Ot(()=>{T(()=>y.in())})}}function Is(e,t,n,r,s){var i=r===1;if(Qi(t)){var c,l=!1;return Hn(()=>{if(!l){var _=t({direction:i?"in":"out"});c=Is(e,_,n,r,s)}}),{abort:()=>{l=!0,c?.abort()},deactivate:()=>c.deactivate(),reset:()=>c.reset(),t:()=>c.t()}}if(n?.deactivate(),!t?.duration)return s(),{abort:dt,deactivate:dt,reset:dt,t:()=>r};const{delay:u=0,css:o,tick:v,easing:f=vl}=t;var d=[];if(i&&n===void 0&&(v&&v(0,1),o)){var h=wa(o(0,1));d.push(h,h)}var w=()=>1-r,y=e.animate(d,{duration:u,fill:"forwards"});return y.onfinish=()=>{y.cancel();var _=n?.t()??1-r;n?.abort();var k=r-_,N=t.duration*Math.abs(k),q=[];if(N>0){var Q=!1;if(o)for(var ie=Math.ceil(N/16.666666666666668),Z=0;Z<=ie;Z+=1){var Y=_+k*f(Z/ie),A=wa(o(Y,1-Y));q.push(A),Q||=A.overflow==="hidden"}Q&&(e.style.overflow="hidden"),w=()=>{var E=y.currentTime;return _+k*f(E/N)},v&&cl(()=>{if(y.playState!=="running")return!1;var E=w();return v(E,1-E),!0})}y=e.animate(q,{duration:N,fill:"forwards"}),y.onfinish=()=>{w=()=>r,v?.(r,1-r),s()}},{abort:()=>{y&&(y.cancel(),y.effect=null,y.onfinish=dt)},deactivate:()=>{s=dt},reset:()=>{r===0&&v?.(1,0)},t:()=>w()}}function Si(e,t,n){Ot(()=>{var r=T(()=>t(e,n?.())||{});if(n&&r?.update){var s=!1,i={};cr(()=>{var c=n();W(c),s&&Xs(i,c)&&(i=c,r.update(c))}),s=!0}if(r?.destroy)return()=>r.destroy()})}const ya=[...` 	
\r\fÂ \v\uFEFF`];function dl(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,c=0;(c=r.indexOf(s,c))>=0;){var l=c+i;(c===0||ya.includes(r[c-1]))&&(l===r.length||ya.includes(r[l]))?r=(c===0?"":r.substring(0,c))+r.substring(l+1):c=l}}return r===""?null:r}function ka(e,t=!1){var n=t?" !important;":";",r="";for(var s in e){var i=e[s];i!=null&&i!==""&&(r+=" "+s+": "+i+n)}return r}function gs(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function fl(e,t){if(t){var n="",r,s;if(Array.isArray(t)?(r=t[0],s=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,c=0,l=!1,u=[];r&&u.push(...Object.keys(r).map(gs)),s&&u.push(...Object.keys(s).map(gs));var o=0,v=-1;const y=e.length;for(var f=0;f<y;f++){var d=e[f];if(l?d==="/"&&e[f-1]==="*"&&(l=!1):i?i===d&&(i=!1):d==="/"&&e[f+1]==="*"?l=!0:d==='"'||d==="'"?i=d:d==="("?c++:d===")"&&c--,!l&&i===!1&&c===0){if(d===":"&&v===-1)v=f;else if(d===";"||f===y-1){if(v!==-1){var h=gs(e.substring(o,v).trim());if(!u.includes(h)){d!==";"&&f++;var w=e.substring(o,f).trim();n+=" "+w+";"}}o=f+1,v=-1}}}}return r&&(n+=ka(r)),s&&(n+=ka(s,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function De(e,t,n,r,s,i){var c=e.__className;if(c!==n||c===void 0){var l=dl(n,r,i);l==null?e.removeAttribute("class"):e.className=l,e.__className=n}else if(i&&s!==i)for(var u in i){var o=!!i[u];(s==null||o!==!!s[u])&&e.classList.toggle(u,o)}return i}function ms(e,t={},n,r){for(var s in n){var i=n[s];t[s]!==i&&(n[s]==null?e.style.removeProperty(s):e.style.setProperty(s,i,r))}}function Be(e,t,n,r){var s=e.__style;if(s!==t){var i=fl(t,r);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}else r&&(Array.isArray(r)?(ms(e,n?.[0],r[0]),ms(e,n?.[1],r[1],"important")):ms(e,n,r));return r}const hl=Symbol("is custom element"),pl=Symbol("is html");function _l(e,t){var n=Ai(e);n.value===(n.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function zt(e,t,n,r){var s=Ai(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[Zi]=n),n==null?e.removeAttribute(t):typeof n!="string"&&gl(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Ai(e){return e.__attributes??={[hl]:e.nodeName.includes("-"),[pl]:e.namespaceURI===ko}}var xa=new Map;function gl(e){var t=e.getAttribute("is")||e.nodeName,n=xa.get(t);if(n)return n;xa.set(t,n=[]);for(var r,s=e,i=Element.prototype;i!==s;){r=Ha(s);for(var c in r)r[c].set&&n.push(c);s=Ys(s)}return n}function Js(e,t,n=t){var r=new WeakSet;jo(e,"input",async s=>{var i=s?e.defaultValue:e.value;if(i=bs(e)?ws(i):i,n(i),$e!==null&&r.add($e),await Er(),i!==(i=t())){var c=e.selectionStart,l=e.selectionEnd,u=e.value.length;if(e.value=i??"",l!==null){var o=e.value.length;c===l&&l===u&&o>u?(e.selectionStart=o,e.selectionEnd=o):(e.selectionStart=c,e.selectionEnd=Math.min(l,o))}}}),T(t)==null&&e.value&&(n(bs(e)?ws(e.value):e.value),$e!==null&&r.add($e)),cr(()=>{var s=t();if(e===document.activeElement){var i=Br??$e;if(r.has(i))return}bs(e)&&s===ws(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function bs(e){var t=e.type;return t==="number"||t==="range"}function ws(e){return e===""?null:+e}class ea{#e=new WeakMap;#t;#n;static entries=new WeakMap;constructor(t){this.#n=t}observe(t,n){var r=this.#e.get(t)||new Set;return r.add(n),this.#e.set(t,r),this.#r().observe(t,this.#n),()=>{var s=this.#e.get(t);s.delete(n),s.size===0&&(this.#e.delete(t),this.#t.unobserve(t))}}#r(){return this.#t??(this.#t=new ResizeObserver(t=>{for(var n of t){ea.entries.set(n.target,n);for(var r of this.#e.get(n.target)||[])r(n)}}))}}var ml=new ea({box:"border-box"});function Ea(e,t,n){var r=ml.observe(e,()=>n(e[t]));Ot(()=>(T(()=>n(e[t])),r))}function Ta(e,t){return e===t||e?.[Sn]===t}function On(e={},t,n,r){return Ot(()=>{var s,i;return cr(()=>{s=i,i=[],T(()=>{e!==n(...i)&&(t(e,...i),s&&Ta(n(...s),e)&&t(null,...s))})}),()=>{Hn(()=>{i&&Ta(n(...i),e)&&t(null,...i)})}}),e}function Ma(e,t){Uo(window,["resize"],()=>qn(()=>t(window[e])))}function $t(e){return function(...t){var n=t[0];return n.stopPropagation(),e?.apply(this,t)}}function ot(e=!1){const t=Ie,n=t.l.u;if(!n)return;let r=()=>W(t.s);if(e){let s=0,i={};const c=os(()=>{let l=!1;const u=t.s;for(const o in u)u[o]!==i[o]&&(i[o]=u[o],l=!0);return l&&s++,s});r=()=>a(c)}n.b.length&&qo(()=>{Sa(t,r),Yr(n.b)}),Cs(()=>{const s=T(()=>n.m.map(Xi));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&Cs(()=>{Sa(t,r),Yr(n.a)})}function Sa(e,t){if(e.l.s)for(const n of e.l.s)a(n);t()}function Xr(e,t){var n=e.$$events?.[t.type],r=ts(n)?n.slice():n==null?[]:[n];for(var s of r)s.call(this,t)}function ta(e,t,n){if(e==null)return t(void 0),n&&n(void 0),dt;const r=T(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const Xn=[];function bl(e,t){return{subscribe:ke(e,t).subscribe}}function ke(e,t=dt){let n=null;const r=new Set;function s(l){if(Xs(e,l)&&(e=l,n)){const u=!Xn.length;for(const o of r)o[1](),Xn.push(o,e);if(u){for(let o=0;o<Xn.length;o+=2)Xn[o][0](Xn[o+1]);Xn.length=0}}}function i(l){s(l(e))}function c(l,u=dt){const o=[l,u];return r.add(o),r.size===1&&(n=t(s,i)||dt),l(e),()=>{r.delete(o),r.size===0&&n&&(n(),n=null)}}return{set:s,update:i,subscribe:c}}function $i(e,t,n){const r=!Array.isArray(e),s=r?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=t.length<2;return bl(n,(c,l)=>{let u=!1;const o=[];let v=0,f=dt;const d=()=>{if(v)return;f();const w=t(r?o[0]:o,c,l);i?c(w):f=typeof w=="function"?w:dt},h=s.map((w,y)=>ta(w,_=>{o[y]=_,v&=~(1<<y),u&&d()},()=>{v|=1<<y}));return u=!0,d(),function(){Yr(h),f(),u=!1}})}function ye(e){let t;return ta(e,n=>t=n)(),t}let Or=!1,Ns=Symbol();function le(e,t,n){const r=n[t]??={store:null,source:C(void 0),unsubscribe:dt};if(r.store!==e&&!(Ns in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=dt;else{var s=!0;r.unsubscribe=ta(e,i=>{s?r.source.v=i:g(r.source,i)}),s=!1}return e&&Ns in n?ye(e):a(r.source)}function yt(){const e={};function t(){ls(()=>{for(var n in e)e[n].unsubscribe();ja(e,Ns,{enumerable:!1,value:!0})})}return[e,t]}function wl(e){var t=Or;try{return Or=!1,[e(),Or]}finally{Or=t}}function Ye(e,t,n,r){var s=!lr||(n&ho)!==0,i=(n&_o)!==0,c=r,l=!0,u=()=>(l&&(l=!1,c=r),c),o;{var v=Sn in e||Gi in e;o=tr(e,t)?.set??(v&&t in e?N=>e[t]=N:void 0)}var f,d=!1;[f,d]=wl(()=>e[t]),f===void 0&&r!==void 0&&(f=u(),o&&(s&&so(),o(f)));var h;if(s?h=()=>{var N=e[t];return N===void 0?u():(l=!0,N)}:h=()=>{var N=e[t];return N!==void 0&&(c=void 0),N===void 0?c:N},s&&(n&po)===0)return h;if(o){var w=e.$$legacy;return(function(N,q){return arguments.length>0?((!s||!q||w||d)&&o(q?h():N),N):h()})}var y=!1,_=He(()=>(y=!1,h()));a(_);var k=Me;return(function(N,q){if(arguments.length>0){const Q=q?a(_):s&&i?Jn(N):N;return g(_,Q),y=!0,c!==void 0&&(c=Q),N}return Yn&&y||(k.f&Jt)!==0?_.v:a(_)})}function vr(e){Ie===null&&Qs(),lr&&Ie.l!==null?xl(Ie).m.push(e):Cs(()=>{const t=T(e);if(typeof t=="function")return t})}function yl(e){Ie===null&&Qs(),vr(()=>()=>T(e))}function kl(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function na(){const e=Ie;return e===null&&Qs(),(t,n,r)=>{const s=e.s.$$events?.[t];if(s){const i=ts(s)?s.slice():[s],c=kl(t,n,r);for(const l of i)l.call(e.x,c);return!c.defaultPrevented}return!0}}function xl(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const El="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(El);To();const Tl=e=>e;function Pi(e){const t=e-1;return t*t*t+1}function Aa(e){const t=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return t?[parseFloat(t[1]),t[2]||"px"]:[e,"px"]}function Dn(e,{delay:t=0,duration:n=400,easing:r=Tl}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:i=>`opacity: ${i*s}`}}function Ci(e,{delay:t=0,duration:n=400,easing:r=Pi,x:s=0,y:i=0,opacity:c=0}={}){const l=getComputedStyle(e),u=+l.opacity,o=l.transform==="none"?"":l.transform,v=u*(1-c),[f,d]=Aa(s),[h,w]=Aa(i);return{delay:t,duration:n,easing:r,css:(y,_)=>`
			transform: ${o} translate(${(1-y)*f}${d}, ${(1-y)*h}${w});
			opacity: ${u-v*_}`}}function Ml(e,{delay:t=0,duration:n=400,easing:r=Pi,start:s=0,opacity:i=0}={}){const c=getComputedStyle(e),l=+c.opacity,u=c.transform==="none"?"":c.transform,o=1-s,v=l*(1-i);return{delay:t,duration:n,easing:r,css:(f,d)=>`
			transform: ${u} scale(${1-o*d});
			opacity: ${l-v*d}
		`}}const Sl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-arrows-shuffle-2"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 4l3 3l-3 3" /><path d="M18 20l3 -3l-3 -3" /><path d="M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5" /><path d="M3 17h3a5 5 0 0 0 5 -5a5 5 0 0 1 5 -5h5" /></svg>',Al='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-deezer"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 16.5h2v.5h-2z" /><path d="M8 16.5h2.5v.5h-2.5z" /><path d="M16 17h-2.5v-.5h2.5z" /><path d="M21.5 17h-2.5v-.5h2.5z" /><path d="M21.5 13h-2.5v.5h2.5z" /><path d="M21.5 9.5h-2.5v.5h2.5z" /><path d="M21.5 6h-2.5v.5h2.5z" /><path d="M16 13h-2.5v.5h2.5z" /><path d="M8 13.5h2.5v-.5h-2.5z" /><path d="M8 9.5h2.5v.5h-2.5z" /></svg>',$l='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-compact-down"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 11l8 3l8 -3" /></svg>',Pl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-compact-left"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 20l-3 -8l3 -8" /></svg>',Cl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-left"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 6l-6 6l6 6" /></svg>',$a='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-disc"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /><path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M7 12a5 5 0 0 1 5 -5" /><path d="M12 17a5 5 0 0 0 5 -5" /></svg>',Rl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-grip-horizontal"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M5 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M19 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M19 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /></svg>',Ll='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-heart"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" /></svg>',zl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-heart"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z" /></svg>',Il='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-menu-2"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 6l16 0" /><path d="M4 12l16 0" /><path d="M4 18l16 0" /></svg>',ys='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-music"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" /><path d="M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" /><path d="M9 17v-13h10v13" /><path d="M9 8h10" /></svg>',Nl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-player-pause"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z" /><path d="M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z" /></svg>',Ol='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-player-play"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 4v16l13 -8z" /></svg>',Dl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-player-play"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z" /></svg>',Fl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-player-skip-back"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.496 4.136l-12 7a1 1 0 0 0 0 1.728l12 7a1 1 0 0 0 1.504 -.864v-14a1 1 0 0 0 -1.504 -.864z" /><path d="M4 4a1 1 0 0 1 .993 .883l.007 .117v14a1 1 0 0 1 -1.993 .117l-.007 -.117v-14a1 1 0 0 1 1 -1z" /></svg>',Bl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-player-skip-forward"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 5v14a1 1 0 0 0 1.504 .864l12 -7a1 1 0 0 0 0 -1.728l-12 -7a1 1 0 0 0 -1.504 .864z" /><path d="M20 4a1 1 0 0 1 .993 .883l.007 .117v14a1 1 0 0 1 -1.993 .117l-.007 -.117v-14a1 1 0 0 1 1 -1z" /></svg>',Ul='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-playlist"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M17 17v-13h4" /><path d="M13 5h-10" /><path d="M3 9l10 0" /><path d="M9 13h-6" /></svg>',jl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-radio"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5" /><path d="M4 12h16" /><path d="M7 12v-2" /><path d="M17 16v.01" /><path d="M13 16v.01" /></svg>',Hl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-refresh"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4" /><path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4" /></svg>',ql='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-repeat"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3" /><path d="M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3" /></svg>',Yl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-search"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" /><path d="M21 21l-6 -6" /></svg>',Vl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-settings"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z" /><path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" /></svg>',Wl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-trash"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',Ql='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-volume"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 8a5 5 0 0 1 0 8" /><path d="M17.7 5a9 9 0 0 1 0 14" /><path d="M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5" /></svg>',Xl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-volume-2"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 8a5 5 0 0 1 0 8" /><path d="M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5" /></svg>',Kl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-volume-3"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5" /><path d="M16 10l4 4m0 -4l-4 4" /></svg>',Gl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-volume-off"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 8a5 5 0 0 1 1.912 4.934m-1.377 2.602a5 5 0 0 1 -.535 .464" /><path d="M17.7 5a9 9 0 0 1 2.362 11.086m-1.676 2.299a9 9 0 0 1 -.686 .615" /><path d="M9.069 5.054l.431 -.554a.8 .8 0 0 1 1.5 .5v2m0 4v8a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l1.294 -1.664" /><path d="M3 3l18 18" /></svg>',Zl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg>',Jl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-device-floppy"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2" /><path d="M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M14 4l0 4l-6 0l0 -4" /></svg>',ec='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-file-pencil"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M10 18l5 -5a1.414 1.414 0 0 0 -2 -2l-5 5v2h2z" /></svg>',Pa='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',tc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-circle-check"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /><path d="M9 12l2 2l4 -4" /></svg>',nc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-dots"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /></svg>',m={ARTISTS:ys,ALBUMS:$a,GENRES:ys,PLAYLISTS:Ul,RADIO:jl,SEARCH:Yl,PLAY:Dl,PLAY_OUTLINE:Ol,PAUSE:Nl,PREVIOUS:Fl,NEXT:Bl,SHUFFLE:Sl,REPEAT:ql,VOLUME_FULL:Ql,VOLUME_MEDIUM:Xl,VOLUME_MUTE:Kl,VOLUME_OFF:Gl,HEART:Ll,HEART_FILLED:zl,SYNC:Hl,SETTINGS:Vl,CLOSE:Zl,MENU:Il,BACK:Cl,BACK_COMPACT:Pl,CHEVRON_DOWN:$l,DRAG_HANDLE:Rl,REMOVE:Wl,DEEZER:Al,SAVE:Jl,EDIT:ec,ADD:Pa,ACCEPT:tc,DOTS:nc,ADD_TO_PLAYLIST:Pa,ALBUM_LINK:$a,ARTIST_LINK:ys},Mr={DEFAULT_IP:typeof window<"u"?window.location.hostname:"localhost",get MOODE_IP(){try{return typeof localStorage<"u"?localStorage.getItem("moode_ip")||this.DEFAULT_IP:this.DEFAULT_IP}catch{return this.DEFAULT_IP}}};function ir(e){if(!e||!e.image)return null;if(e.image.startsWith("http"))return e.image;let t="";return e.image==="local"?t=`${e.name}.jpg`:t=e.image,`/imagesw/radio-logos/thumbs/${encodeURIComponent(t)}`}function rc(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}function sc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ks={exports:{}},xs={exports:{}},Ca;function ac(){return Ca||(Ca=1,(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t={rotl:function(n,r){return n<<r|n>>>32-r},rotr:function(n,r){return n<<32-r|n>>>r},endian:function(n){if(n.constructor==Number)return t.rotl(n,8)&16711935|t.rotl(n,24)&4278255360;for(var r=0;r<n.length;r++)n[r]=t.endian(n[r]);return n},randomBytes:function(n){for(var r=[];n>0;n--)r.push(Math.floor(Math.random()*256));return r},bytesToWords:function(n){for(var r=[],s=0,i=0;s<n.length;s++,i+=8)r[i>>>5]|=n[s]<<24-i%32;return r},wordsToBytes:function(n){for(var r=[],s=0;s<n.length*32;s+=8)r.push(n[s>>>5]>>>24-s%32&255);return r},bytesToHex:function(n){for(var r=[],s=0;s<n.length;s++)r.push((n[s]>>>4).toString(16)),r.push((n[s]&15).toString(16));return r.join("")},hexToBytes:function(n){for(var r=[],s=0;s<n.length;s+=2)r.push(parseInt(n.substr(s,2),16));return r},bytesToBase64:function(n){for(var r=[],s=0;s<n.length;s+=3)for(var i=n[s]<<16|n[s+1]<<8|n[s+2],c=0;c<4;c++)s*8+c*6<=n.length*8?r.push(e.charAt(i>>>6*(3-c)&63)):r.push("=");return r.join("")},base64ToBytes:function(n){n=n.replace(/[^A-Z0-9+\/]/ig,"");for(var r=[],s=0,i=0;s<n.length;i=++s%4)i!=0&&r.push((e.indexOf(n.charAt(s-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(n.charAt(s))>>>6-i*2);return r}};xs.exports=t})()),xs.exports}var Es,Ra;function La(){if(Ra)return Es;Ra=1;var e={utf8:{stringToBytes:function(t){return e.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(e.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var n=[],r=0;r<t.length;r++)n.push(t.charCodeAt(r)&255);return n},bytesToString:function(t){for(var n=[],r=0;r<t.length;r++)n.push(String.fromCharCode(t[r]));return n.join("")}}};return Es=e,Es}var Ts,za;function ic(){if(za)return Ts;za=1,Ts=function(n){return n!=null&&(e(n)||t(n)||!!n._isBuffer)};function e(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function t(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&e(n.slice(0,0))}return Ts}var Ia;function oc(){return Ia||(Ia=1,(function(){var e=ac(),t=La().utf8,n=ic(),r=La().bin,s=function(i,c){i.constructor==String?c&&c.encoding==="binary"?i=r.stringToBytes(i):i=t.stringToBytes(i):n(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var l=e.bytesToWords(i),u=i.length*8,o=1732584193,v=-271733879,f=-1732584194,d=271733878,h=0;h<l.length;h++)l[h]=(l[h]<<8|l[h]>>>24)&16711935|(l[h]<<24|l[h]>>>8)&4278255360;l[u>>>5]|=128<<u%32,l[(u+64>>>9<<4)+14]=u;for(var w=s._ff,y=s._gg,_=s._hh,k=s._ii,h=0;h<l.length;h+=16){var N=o,q=v,Q=f,ie=d;o=w(o,v,f,d,l[h+0],7,-680876936),d=w(d,o,v,f,l[h+1],12,-389564586),f=w(f,d,o,v,l[h+2],17,606105819),v=w(v,f,d,o,l[h+3],22,-1044525330),o=w(o,v,f,d,l[h+4],7,-176418897),d=w(d,o,v,f,l[h+5],12,1200080426),f=w(f,d,o,v,l[h+6],17,-1473231341),v=w(v,f,d,o,l[h+7],22,-45705983),o=w(o,v,f,d,l[h+8],7,1770035416),d=w(d,o,v,f,l[h+9],12,-1958414417),f=w(f,d,o,v,l[h+10],17,-42063),v=w(v,f,d,o,l[h+11],22,-1990404162),o=w(o,v,f,d,l[h+12],7,1804603682),d=w(d,o,v,f,l[h+13],12,-40341101),f=w(f,d,o,v,l[h+14],17,-1502002290),v=w(v,f,d,o,l[h+15],22,1236535329),o=y(o,v,f,d,l[h+1],5,-165796510),d=y(d,o,v,f,l[h+6],9,-1069501632),f=y(f,d,o,v,l[h+11],14,643717713),v=y(v,f,d,o,l[h+0],20,-373897302),o=y(o,v,f,d,l[h+5],5,-701558691),d=y(d,o,v,f,l[h+10],9,38016083),f=y(f,d,o,v,l[h+15],14,-660478335),v=y(v,f,d,o,l[h+4],20,-405537848),o=y(o,v,f,d,l[h+9],5,568446438),d=y(d,o,v,f,l[h+14],9,-1019803690),f=y(f,d,o,v,l[h+3],14,-187363961),v=y(v,f,d,o,l[h+8],20,1163531501),o=y(o,v,f,d,l[h+13],5,-1444681467),d=y(d,o,v,f,l[h+2],9,-51403784),f=y(f,d,o,v,l[h+7],14,1735328473),v=y(v,f,d,o,l[h+12],20,-1926607734),o=_(o,v,f,d,l[h+5],4,-378558),d=_(d,o,v,f,l[h+8],11,-2022574463),f=_(f,d,o,v,l[h+11],16,1839030562),v=_(v,f,d,o,l[h+14],23,-35309556),o=_(o,v,f,d,l[h+1],4,-1530992060),d=_(d,o,v,f,l[h+4],11,1272893353),f=_(f,d,o,v,l[h+7],16,-155497632),v=_(v,f,d,o,l[h+10],23,-1094730640),o=_(o,v,f,d,l[h+13],4,681279174),d=_(d,o,v,f,l[h+0],11,-358537222),f=_(f,d,o,v,l[h+3],16,-722521979),v=_(v,f,d,o,l[h+6],23,76029189),o=_(o,v,f,d,l[h+9],4,-640364487),d=_(d,o,v,f,l[h+12],11,-421815835),f=_(f,d,o,v,l[h+15],16,530742520),v=_(v,f,d,o,l[h+2],23,-995338651),o=k(o,v,f,d,l[h+0],6,-198630844),d=k(d,o,v,f,l[h+7],10,1126891415),f=k(f,d,o,v,l[h+14],15,-1416354905),v=k(v,f,d,o,l[h+5],21,-57434055),o=k(o,v,f,d,l[h+12],6,1700485571),d=k(d,o,v,f,l[h+3],10,-1894986606),f=k(f,d,o,v,l[h+10],15,-1051523),v=k(v,f,d,o,l[h+1],21,-2054922799),o=k(o,v,f,d,l[h+8],6,1873313359),d=k(d,o,v,f,l[h+15],10,-30611744),f=k(f,d,o,v,l[h+6],15,-1560198380),v=k(v,f,d,o,l[h+13],21,1309151649),o=k(o,v,f,d,l[h+4],6,-145523070),d=k(d,o,v,f,l[h+11],10,-1120210379),f=k(f,d,o,v,l[h+2],15,718787259),v=k(v,f,d,o,l[h+9],21,-343485551),o=o+N>>>0,v=v+q>>>0,f=f+Q>>>0,d=d+ie>>>0}return e.endian([o,v,f,d])};s._ff=function(i,c,l,u,o,v,f){var d=i+(c&l|~c&u)+(o>>>0)+f;return(d<<v|d>>>32-v)+c},s._gg=function(i,c,l,u,o,v,f){var d=i+(c&u|l&~u)+(o>>>0)+f;return(d<<v|d>>>32-v)+c},s._hh=function(i,c,l,u,o,v,f){var d=i+(c^l^u)+(o>>>0)+f;return(d<<v|d>>>32-v)+c},s._ii=function(i,c,l,u,o,v,f){var d=i+(l^(c|~u))+(o>>>0)+f;return(d<<v|d>>>32-v)+c},s._blocksize=16,s._digestsize=16,ks.exports=function(i,c){if(i==null)throw new Error("Illegal argument "+i);var l=e.wordsToBytes(s(i,c));return c&&c.asBytes?l:c&&c.asString?r.bytesToString(l):e.bytesToHex(l)}})()),ks.exports}var lc=oc();const cc=sc(lc),Na=ke("Disconnected"),Os=ke(null);let Ms;function Te(e,t="info"){Os.set({text:e,type:t}),Ms&&clearTimeout(Ms),Ms=setTimeout(()=>{Os.set(null)},3e3)}const Ke=ke({state:"stop",volume:50,elapsed:0,duration:0,random:!1,repeat:!1,bitrate:0,format:""}),Ut=ke({title:"Not Playing",artist:"",album:"",file:"",stationName:null}),Kr=ke(!1),jr=ke(!1),Ds=ke(!1),Fs=ke(!1),vt=ke("library"),Rr=ke(null),At=ke(!1),pn=ke([]),ra=ke([]),xn=ke([]),cn=ke(new Set),je=ke(!1),bt=ke([{view:"root"}]),Sr=ke([]),Ri=ke(0),Gr=ke(""),Li=ke({});function uc(e,t){Li.update(n=>({...n,[e]:t}))}function vc(e){return ye(Li)[e]||0}const sa=ke({isOpen:!1,track:null,context:{type:"general",playlistName:null,index:null},x:0,y:0,triggerRect:null});function dc(){if(typeof navigator<"u"&&navigator.vibrate)try{navigator.vibrate(70)}catch{}}function Zr(e,t,n={}){if(!t)return;dc();let r=0,s=0,i=null,c=e.currentTarget;!c&&e.target&&e.target.closest&&(c=e.target.closest("button")||e.target),c&&c.getBoundingClientRect&&(i=c.getBoundingClientRect());const l=e.detail?.originalEvent||e;l.touches&&l.touches.length>0?(r=l.touches[0].clientX,s=l.touches[0].clientY):l.clientX&&(r=l.clientX,s=l.clientY);const u={type:"general",playlistName:null,index:null,...n};sa.set({isOpen:!0,track:t,context:u,x:r,y:s,triggerRect:i})}function Wt(){sa.set({isOpen:!1,track:null,context:{},x:0,y:0,triggerRect:null})}let Bs=null,Us=null;function fc(e){Us=e}function dn(e,t=null){t&&(Bs=t),Us?Us(e,t):console.warn("Router callback not set!")}function hc(){const e=Bs;return Bs=null,e}function pc(){window.history.back()}function Fn(e,t=[],n=null){if(!e||!e.file)return"/images/default_cover.png";if(zi(e.file)||e.genre==="Radio")return e.image?ir(e):Ii(e,t,n)||"/images/radio_placeholder.png";let r=e.file.startsWith("/")?e.file.slice(1):e.file;return`/coverart.php/${encodeURI(r)}`}function Jr(e,t=[],n=null){if(!e||!e.file)return"/images/default_icon.png";if(zi(e.file)||e.genre==="Radio")return e.image?ir(e):Ii(e,t,n)||"/images/radio_icon.png";if(e.cachedThumbUrl)return e.cachedThumbUrl;try{const r=e.file.lastIndexOf("/"),s=r===-1?".":e.file.substring(0,r);return`/imagesw/thmcache/${cc(s)}_sm.jpg`}catch{let s=e.file.startsWith("/")?e.file.slice(1):e.file;return`/coverart.php/${encodeURI(s)}`}}function zi(e){return e?e.startsWith("http")||e.includes("://")||e.includes("RADIO"):!1}function Ii(e,t,n){const r=u=>(u||"").toString().toLowerCase().replace(/[^a-z0-9]/g,""),s=r(e.title),i=r(e.stationName),c=r(n);if(t&&t.length>0){const u=t.find(o=>{const v=r(o.name);return v?v===i||v===c||s&&v===s||s&&s.includes(v)&&v.length>3:!1});if(u)return ir(u)}const l=e.stationName||n;return l?ir({name:l,image:"local"}):null}$i([Ut,pn,Rr],([e,t,n])=>Fn(e,t,n));$i(Ut,e=>!e||!e.file||e.file.startsWith("http")?null:`/coverart.php/${encodeURI(e.file)}`);const Ne={NAME:"MoodePlayerDB",STORE_NAME:"music",VERSION:2},_c={SYNC:"/wave-api.php",STATIONS:e=>"/wave-api.php?action=stations",COVER_ART:e=>`/coverart.php?u=${encodeURIComponent(e)}`,RADIO_LOGOS:e=>`/imagesw/radio-logos/thumbs/${e}`},er={open(){return new Promise((e,t)=>{const n=indexedDB.open(Ne.NAME,Ne.VERSION);n.onupgradeneeded=r=>{const s=r.target.result,i=r.target.transaction;let c;s.objectStoreNames.contains(Ne.STORE_NAME)?c=i.objectStore(Ne.STORE_NAME):c=s.createObjectStore(Ne.STORE_NAME,{keyPath:"file"}),c.indexNames.contains("artist")||c.createIndex("artist","artist",{unique:!1}),c.indexNames.contains("album")||c.createIndex("album","album",{unique:!1}),c.indexNames.contains("genre")||c.createIndex("genre","genre",{unique:!1}),c.indexNames.contains("album_artist")||c.createIndex("album_artist","album_artist",{unique:!1})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})},async clear(){const e=await this.open();return new Promise((t,n)=>{const r=e.transaction(Ne.STORE_NAME,"readwrite");r.objectStore(Ne.STORE_NAME).clear(),r.oncomplete=()=>t(),r.onerror=()=>n(r.error)})},async bulkAdd(e){const t=await this.open();return new Promise((n,r)=>{const s=t.transaction(Ne.STORE_NAME,"readwrite"),i=s.objectStore(Ne.STORE_NAME);e.forEach(c=>{i.put(c)}),s.oncomplete=()=>n(),s.onerror=()=>r(s.error)})},async getArtists(){const e=await this.open();return new Promise((t,n)=>{const s=e.transaction(Ne.STORE_NAME,"readonly").objectStore(Ne.STORE_NAME),i=new Map,c=s.openCursor();c.onsuccess=l=>{const u=l.target.result;if(u){const o=u.value,v=o.album_artist||o.artist;v&&!i.has(v)&&i.set(v,{name:v,file:o.file,cachedThumbUrl:o.cachedThumbUrl}),u.continue()}else{const o=Array.from(i.values()).sort((v,f)=>v.name.localeCompare(f.name,void 0,{sensitivity:"base"}));t(o)}},c.onerror=()=>n(c.error)})},async getAlbums(){const e=await this.open();return new Promise((t,n)=>{const s=e.transaction(Ne.STORE_NAME,"readonly").objectStore(Ne.STORE_NAME).index("album"),i=[],c=s.openCursor(null,"nextunique");c.onsuccess=l=>{const u=l.target.result;if(u){const o=u.value;i.push({name:o.album,artist:o.album_artist||o.artist,file:o.file,cachedThumbUrl:o.cachedThumbUrl}),u.continue()}else t(i)},c.onerror=()=>n(c.error)})},async getArtistAlbums(e){if(!e)return[];const t=await this.open();return new Promise((n,r)=>{const i=t.transaction(Ne.STORE_NAME,"readonly").objectStore(Ne.STORE_NAME),c=new Promise(u=>{i.indexNames.contains("album_artist")?i.index("album_artist").getAll(IDBKeyRange.only(e)).onsuccess=o=>u(o.target.result):u([])}),l=new Promise(u=>{i.index("artist").getAll(IDBKeyRange.only(e)).onsuccess=o=>u(o.target.result)});Promise.all([c,l]).then(([u,o])=>{const v=[...u,...o],f=[],d=new Set;v.forEach(h=>{d.has(h.album)||(d.add(h.album),f.push({name:h.album,artist:h.album_artist||h.artist,file:h.file,cachedThumbUrl:h.cachedThumbUrl}))}),n(f)}).catch(u=>r(u))})},async getAlbumTracks(e){const t=await this.open();return new Promise((n,r)=>{const i=t.transaction(Ne.STORE_NAME,"readonly").objectStore(Ne.STORE_NAME).index("album"),c=IDBKeyRange.only(e),l=i.getAll(c);l.onsuccess=()=>{const u=l.result;u.sort((o,v)=>{const f=parseInt(o.disc||1),d=parseInt(v.disc||1);if(f!==d)return f-d;const h=parseInt(o.track||0),w=parseInt(v.track||0);return h-w}),n(u)},l.onerror=()=>r(l.error)})},async getGenres(){const e=await this.open();return new Promise((t,n)=>{const s=e.transaction(Ne.STORE_NAME,"readonly").objectStore(Ne.STORE_NAME).index("genre"),i=[],c=s.openKeyCursor(null,"nextunique");c.onsuccess=l=>{const u=l.target.result;u?(i.push(u.key),u.continue()):t(i)},c.onerror=()=>n(c.error)})},async getGenreTracks(e){const t=await this.open();return new Promise((n,r)=>{const c=t.transaction(Ne.STORE_NAME,"readonly").objectStore(Ne.STORE_NAME).index("genre").getAll(IDBKeyRange.only(e));c.onsuccess=()=>n(c.result),c.onerror=()=>r(c.error)})},async search(e){if(!e)return[];const t=e.toLowerCase(),n=await this.open();return new Promise((r,s)=>{const c=n.transaction(Ne.STORE_NAME,"readonly").objectStore(Ne.STORE_NAME),l=[],u=100,o=c.openCursor();o.onsuccess=v=>{const f=v.target.result;if(f){const d=f.value;if((d.title&&d.title.toLowerCase().includes(t)||d.artist&&d.artist.toLowerCase().includes(t)||d.album&&d.album.toLowerCase().includes(t)||d.album_artist&&d.album_artist.toLowerCase().includes(t))&&l.push(d),l.length>=u){r(l);return}f.continue()}else r(l)},o.onerror=()=>s(o.error)})}};var gc=P('<div class="skeleton svelte-tl058d"></div>');function hn(e,t){let n=Ye(t,"width",8,"100%"),r=Ye(t,"height",8,"20px"),s=Ye(t,"radius",8,"4px"),i=Ye(t,"style",8,"");var c=gc();me(()=>Be(c,`width: ${n()??""}; height: ${r()??""}; border-radius: ${s()??""}; ${i()??""}`)),b(e,c)}var mc=P('<div class="skel svelte-1b8que2"><!></div>'),bc=P('<img loading="lazy"/>'),wc=P('<div class="loader svelte-1b8que2"><!> <!> <!></div>');function Bn(e,t){nt(t,!1);let n=Ye(t,"src",8),r=Ye(t,"alt",8,""),s=Ye(t,"radius",8,"0px");const i=na();let c=C("loading");function l(){g(c,"loaded")}function u(_){i("error",_),g(c,"error")}te(()=>W(n()),()=>{n()?g(c,"loading"):g(c,"error")}),qt(),ot();var o=wc(),v=p(o);{var f=_=>{var k=mc(),N=p(k);hn(N,{width:"100%",height:"100%",get radius(){return s()}}),Bt(2,k,()=>Dn,()=>({duration:200})),b(_,k)};J(v,_=>{a(c)==="loading"&&_(f)})}var d=x(v,2);{var h=_=>{var k=bc();let N;me(()=>{zt(k,"src",n()),zt(k,"alt",r()),Be(k,`border-radius: ${s()??""}`),N=De(k,1,"svelte-1b8que2",null,N,{vis:a(c)==="loaded"})}),L("load",k,l),L("error",k,u),b(_,k)};J(d,_=>{n()&&a(c)!=="error"&&_(h)})}var w=x(d,2);{var y=_=>{var k=Oe(),N=be(k);Ur(N,t,"fallback",{}),b(_,k)};J(w,_=>{a(c)==="error"&&_(y)})}me(()=>Be(o,`border-radius: ${s()??""}`)),b(e,o),rt()}class yc{constructor(){this.socket=null,this.queue=[],this.isProcessing=!1,this.reconnectTimer=null,this.watchdogTimer=null}get isConnected(){return this.socket&&this.socket.readyState===WebSocket.OPEN}connect(){if(this.socket&&(this.socket.readyState===WebSocket.CONNECTING||this.socket.readyState===WebSocket.OPEN))return;this.reconnectTimer&&clearTimeout(this.reconnectTimer);let t=Mr.MOODE_IP||window.location.hostname;t=t.replace(/^https?:\/\//,"").split(":")[0].split("/")[0];const n=Mr.WS_PORT||"8080",r=`ws://${t}:${n}`;console.log("[MPD] Attempting connection to:",r);try{this.socket=new WebSocket(r,["binary"])}catch(s){console.error("[MPD] WebSocket URL is still invalid:",r,s),this.reconnectTimer=setTimeout(()=>this.connect(),5e3);return}this.socket.onopen=()=>{console.log("[MPD] Connected"),Na.set("Connected"),Te("Connected to Moode","success"),this._processQueue()},this.socket.onmessage=s=>this._handleMessage(s),this.socket.onclose=s=>{console.warn("[MPD] Socket closed",s.code,s.reason),Na.set("Disconnected"),this._cleanup(),this.reconnectTimer=setTimeout(()=>this.connect(),3e3)},this.socket.onerror=s=>{console.error("[MPD] Socket error",s)}}send(t){return new Promise((n,r)=>{this.queue.push({cmd:t,resolve:n,reject:r}),this._processQueue()})}_cleanup(){for(this.isProcessing=!1,this.watchdogTimer&&clearTimeout(this.watchdogTimer);this.queue.length>0;){const{reject:t,cmd:n}=this.queue.shift();console.warn(`[MPD] Dropping cmd due to disconnect: ${n}`),t(new Error("Connection lost"))}}async _processQueue(){if(this.isProcessing||this.queue.length===0||!this.isConnected)return;this.isProcessing=!0;const{cmd:t}=this.queue[0];this.watchdogTimer&&clearTimeout(this.watchdogTimer),this.watchdogTimer=setTimeout(()=>{console.error("[MPD] Watchdog timeout for cmd:",t),this.socket&&this.socket.close()},5e3);try{const n=t.endsWith(`
`)?t:t+`
`;this.socket.send(new TextEncoder().encode(n))}catch(n){console.error("[MPD] Send error",n),this._cleanup()}}async _handleMessage(t){let n=t.data;n instanceof Blob&&(n=await n.text()),this.watchdogTimer&&(clearTimeout(this.watchdogTimer),this.watchdogTimer=null);const r=this.queue[0],s=n===`OK
`||n.endsWith(`
OK
`),i=n.startsWith("ACK");if(s||i){if(this.queue.shift(),this.isProcessing=!1,r)if(i)console.error(`[MPD] CMD: ${r.cmd} -> ERROR: ${n.trim()}`),r.reject(new Error(n.trim()));else{const c=n.replace(/\nOK\n$/,"").replace(/^OK\n$/,"");r.resolve(c)}this._processQueue()}else if(this._buffer||(this._buffer=""),this._buffer+=n,this._buffer.endsWith(`
OK
`)||this._buffer===`OK
`||this._buffer.startsWith("ACK")){const c=new MessageEvent("message",{data:this._buffer});this._buffer="",this._handleMessage(c)}}}const de=new yc,Zt={parseKeyValue(e){const t={};if(!e)return t;const n=e.split(`
`);for(const r of n){const s=r.indexOf(": ");if(s===-1)continue;const i=r.substring(0,s).toLowerCase(),c=r.substring(s+2);t[i]=c}return t},parseStatus(e){const t=this.parseKeyValue(e);let n="";if(t.audio){const r=t.audio.split(":");r[1]&&(n=`${r[1]}-bit`)}return{state:t.state||"stop",volume:parseInt(t.volume)||0,elapsed:parseFloat(t.elapsed)||0,duration:parseFloat(t.duration)||0,random:t.random==="1",repeat:t.repeat==="1",songId:parseInt(t.songid)||-1,playlistLength:parseInt(t.playlistlength)||0,bitrate:parseInt(t.bitrate)||0,format:n,playlistVersion:parseInt(t.playlist)||0}},parseCurrentSong(e){const t=this.parseKeyValue(e);return this._normalizeTrack(t)},parsePlaylists(e){const t=e.split(`
`),n=[];let r=null;for(const s of t)s.startsWith("playlist: ")?(r&&n.push(r),r={playlist:s.substring(10)}):s.startsWith("Last-Modified: ")&&r&&(r["last-modified"]=s.substring(15));return r&&n.push(r),n.map(s=>({name:s.playlist,lastModified:s["last-modified"]}))},parseTracks(e){const t=[];let n=null,r=0,s=e.indexOf(`
`,r);for(;s!==-1;){const i=e.substring(r,s),c=i.indexOf(": ");if(c!==-1){const l=i.substring(0,c).toLowerCase(),u=i.substring(c+2);l==="file"?(n&&t.push(this._normalizeTrack(n)),n={file:u}):n&&(n[l]=u)}r=s+1,s=e.indexOf(`
`,r)}return n&&t.push(this._normalizeTrack(n)),t},_normalizeTrack(e){const t=e.file||e.File||"",n=e.Title||e.title||e.Name||e.name||t.split("/").pop()||"Unknown";return{file:t,title:n,artist:e.Artist||e.artist||"Unknown Artist",album:e.Album||e.album||"Unknown Album",genre:e.Genre||e.genre||"Unknown",time:parseFloat(e.Time||e.time||0),track:e.Track||e.track||"",id:e.Id||e.id,stationName:e.name||e.Name||null}}},kc=1e3,xc=250;let Hr=null,yr=null,qr=0,En=1,es=!0,Kt=!1,Mn=0,Kn=null;function pr(e){return e?String(e).replace(/\\/g,"\\\\").replace(/"/g,'\\"'):""}function Ec(){Tc(),es=!0,Kt=!1,Mn=0,je.set(!1),St(),Hr=setInterval(()=>{de.isConnected&&!de.isProcessing&&St()},kc)}function Tc(){Hr&&(clearInterval(Hr),Hr=null),aa()}async function St(){try{const e=await de.send("status"),t=await de.send("currentsong"),n=Zt.parseStatus(e),r=Zt.parseCurrentSong(t);Sc(n,r);const s=ye(Ri);if(ye(je))return;(n.playlistLength>0&&n.playlistVersion!==s||n.playlistLength>0&&ye(Sr).length===0)&&Mc(n.playlistVersion)}catch(e){e.message!=="Connection lost"&&console.warn("[Player] Sync skip:",e.message)}}async function Mc(e){if(!ye(je))try{const t=await de.send("playlistinfo");if(ye(je))return;const r=Zt.parseTracks(t).map(s=>({...s,_uid:String(s.id||s.pos+s.file)}));Sr.set(r),Ri.set(e)}catch(t){console.error("Queue sync error",t)}}function Sc(e,t){const n=ye(Ut),r=ye(pn),s=t.file&&t.file.startsWith("http");if(s){const i=o=>(o||"").toString().toLowerCase().replace(/[^a-z0-9]/g,""),c=i(t.file),l=i(t.title),u=r.find(o=>{const v=i(o.station||o.file||o.url||(Array.isArray(o)?o[1]:"")),f=i(o.name||(Array.isArray(o)?o[0]:""));return v&&c.includes(v)||f&&l.includes(f)});u?t.stationName=u.name||u[0]:n.stationName&&n.file===t.file&&(t.stationName=n.stationName)}Ut.set(t),Ke.update(i=>{const c=e.state==="play",l=performance.now();if(e.state==="pause"||i.state==="pause")return Dr(!1),l<Mn?i:e;if(t.file!==n.file||es)return es=!1,Kt=!1,En=1,s&&(e.elapsed=0),Dr(c&&!s),e;if(l<Mn)return i;if(Kt)return Kt=!1,En=1,Dr(c&&!s),e;if(c&&!s){const u=e.elapsed-i.elapsed;if(Math.abs(u)>2)return En=1,e;if(Math.abs(u)<.05)En=1;else{let v=u/1.5;En=Math.max(.5,Math.min(1.5,1+v))}return{...e,elapsed:i.elapsed}}return Dr(!1),e})}function Dr(e){e?js():aa()}function js(){yr||es||(qr=performance.now(),yr=setInterval(()=>{const e=performance.now();let t=(e-qr)/1e3;t>2&&(t=0),qr=e,Ke.update(n=>{if(n.state!=="play")return n;let r=n.elapsed+t*En;return n.duration>0&&r>n.duration&&(r=n.duration),{...n,elapsed:r}})},xc))}function aa(){yr&&(clearInterval(yr),yr=null),En=1,qr=0}const Pt={async togglePlay(){const t=ye(Ke).state==="play";Mn=performance.now()+800,Ke.update(n=>{const r=t?"pause":"play";return r==="play"?js():aa(),{...n,state:r}}),await de.send(t?"pause 1":"play"),setTimeout(St,900)},async next(){Kt=!0,Mn=0,await de.send("next"),St()},async previous(){Kt=!0,Mn=0,Ke.update(e=>({...e,elapsed:0})),await de.send("previous"),St()},async setVolume(e){Ke.update(t=>({...t,volume:e})),await de.send(`setvol ${e}`)},async seek(e){Kt=!0,Mn=performance.now()+500,Ke.update(t=>({...t,elapsed:e})),await de.send(`seekcur ${e}`),setTimeout(St,600)},async toggleRandom(){const t=!ye(Ke).random;Ke.update(n=>({...n,random:t})),await de.send(`random ${t?1:0}`)},async toggleRepeat(){const t=!ye(Ke).repeat;Ke.update(n=>({...n,repeat:t})),await de.send(`repeat ${t?1:0}`)},async playUri(e,t={}){je.set(!0);const n=pr(e);Kt=!0,Ke.update(r=>({...r,state:"play",elapsed:0})),Ut.set({title:t.title||e.split("/").pop(),artist:t.artist||"",file:e}),js();try{await de.send("stop"),await de.send("clear"),await de.send(`add "${n}"`),await de.send("play")}catch(r){console.error("Play error",r),Te("Failed to play","error")}setTimeout(()=>{je.set(!1),St()},1200)},async addToQueue(e){const t=pr(e);try{await de.send(`add "${t}"`),Te("Added to queue","success")}catch(n){console.error("Add queue error",n),Te("Failed to add","error")}},async playNext(e){je.set(!0);const t=pr(e);try{const n=await de.send("currentsong"),r=parseInt(Zt.parseKeyValue(n).pos||-1);if(r===-1)je.set(!1),await this.playUri(e);else{const s=await de.send(`addid "${t}"`),i=parseInt(Zt.parseKeyValue(s).id);isNaN(i)||(await de.send(`moveid ${i} ${r+1}`),Te("Will play next","success")),setTimeout(()=>je.set(!1),1e3)}}catch(n){console.error("Play Next error",n),Te("Failed to set next","error"),je.set(!1)}},async removeFromQueue(e){je.set(!0),Kn&&clearTimeout(Kn);try{Sr.update(t=>{const n=[...t];return n.splice(e,1),n}),await de.send(`delete ${e}`)}catch{Te("Failed to remove","error"),je.set(!1);return}Kn=setTimeout(()=>{je.set(!1)},1e3)},async moveTrack(e,t){if(e!==t){je.set(!0),Kn&&clearTimeout(Kn);try{await de.send(`move ${e} ${t}`)}catch(n){console.error("Move failed",n),Te("Move failed","error"),je.set(!1),St();return}Kn=setTimeout(()=>{je.set(!1),St()},2e3)}},async playAllTracks(e){if(!(!e||e.length===0)){je.set(!0),Kt=!0;try{await de.send("stop"),await de.send("clear");for(const t of e){const n=pr(t.file);await de.send(`add "${n}"`)}await de.send("play 0"),Te(`Playing ${e.length} tracks`,"success")}catch(t){console.error("Play All error",t),Te("Failed to play all tracks","error")}setTimeout(()=>{je.set(!1),St()},1500)}},async addAllToQueue(e){if(!(!e||e.length===0)){je.set(!0);try{for(const t of e){const n=pr(t.file);await de.send(`add "${n}"`)}Te(`Added ${e.length} tracks to queue`,"success")}catch(t){console.error("Add All error",t),Te("Failed to add tracks","error")}setTimeout(()=>{je.set(!1),St()},1e3)}},async saveQueue(e){if(!e)return;const t=e.replace(/"/g,'\\"');try{await de.send(`save "${t}"`),Te(`Playlist "${e}" saved`,"success")}catch(n){if(n.message.includes("exist")){if(confirm(`Playlist "${e}" exists. Overwrite?`))try{await de.send(`rm "${t}"`),await de.send(`save "${t}"`),Te(`Playlist "${e}" overwritten`,"success")}catch{Te("Failed to overwrite","error")}}else console.error(n)}}};function Ni(e){return new Worker("/assets/sync.worker-Bw0aGZUp.js",{name:e?.name})}const _r="Favorites";let Oa=Promise.resolve();const Gn=e=>e?e.toLowerCase().replace(/^https?:\/\//,"").replace(/^www\./,"").split("?")[0].replace(/\/$/,""):"";function Ac(e){if(e==="Favorites")return"linear-gradient(135deg, hsl(348, 95%, 58%), hsl(348, 90%, 40%))";let t=0;for(let r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);const n=Math.abs(t%360);return`linear-gradient(135deg, hsl(${n}, 60%, 40%), hsl(${(n+40)%360}, 60%, 30%))`}const Un={async syncLibrary(){if(ye(At))return;At.set(!0);const e=new Ni;e.postMessage({type:"START_SYNC",payload:{url:`http://${Mr.MOODE_IP}/wave-api.php`}}),e.onmessage=t=>{const{type:n,count:r}=t.data;n==="DONE"&&(Te(`Library updated: ${r} tracks`,"success"),At.set(!1),e.terminate()),n==="ERROR"&&(Te("Sync Failed","error"),At.set(!1),e.terminate())},e.onerror=()=>{At.set(!1),e.terminate()}},async loadPlaylists(){Ds.set(!0);try{const e=await de.send("listplaylists"),n=Zt.parsePlaylists(e).map(r=>({...r,color:Ac(r.name)}));ra.set(n)}catch(e){console.error(e)}finally{Ds.set(!1)}},async openPlaylistDetails(e){if(!e)return;Fs.set(!0);const t=e.replace(/"/g,'\\"');try{const n=await de.send(`listplaylistinfo "${t}"`),s=Zt.parseTracks(n).map(i=>({...i,_uid:rc()}));xn.set(s)}catch{Te("Could not load playlist","error")}finally{Fs.set(!1)}},async movePlaylistTrack(e,t,n){const r=e.replace(/"/g,'\\"');try{await de.send(`playlistmove "${r}" ${t} ${n}`)}catch{Te("Move failed","error")}},async removeFromPlaylist(e,t){const n=e.replace(/"/g,'\\"');try{await de.send(`playlistdelete "${n}" ${t}`),Te("Track removed","success")}catch{Te("Delete failed","error")}},async loadFavorites(){try{const e=await de.send(`listplaylistinfo "${_r}"`),t=Zt.parseTracks(e),n=new Set;t.forEach(r=>{r.file&&n.add(r.file)}),cn.set(n)}catch{cn.set(new Set)}},async toggleFavorite(e){if(!e||!e.file)return;const t=e.file,n=t.replace(/"/g,'\\"'),r=t.startsWith("http"),s=ye(cn);let i=s.has(t);if(!i&&r){const c=Gn(t);for(const l of s)if(Gn(l)===c){i=!0;break}}cn.update(c=>{const l=new Set(c);if(i){if(l.delete(t),r){const u=Gn(t);for(const o of l)Gn(o)===u&&l.delete(o)}}else l.add(t);return l}),Oa=Oa.then(async()=>{try{const c=await de.send(`listplaylistinfo "${_r}"`),l=Zt.parseTracks(c);let u=[];if(l.forEach((o,v)=>{let f=!1;(o.file===t||r&&Gn(o.file)===Gn(t)||r&&(o.file.includes(t)||t.includes(o.file)))&&(f=!0),f&&u.push(v)}),i){if(u.length>0){u.sort((o,v)=>v-o);for(const o of u)await de.send(`playlistdelete "${_r}" ${o}`);Te("Removed from Favorites","info")}}else u.length>0?console.log("[Fav] Track already exists. Skipping."):(await de.send(`playlistadd "${_r}" "${n}"`),l.length>0&&await de.send(`playlistmove "${_r}" ${l.length} 0`),Te("Added to Favorites","success"))}catch(c){console.error("Fav action failed",c),Te("Action failed","error")}finally{await this.loadFavorites()}})}};function Oi(){de.connect(),Ec(),Un.loadPlaylists(),Un.loadFavorites()}function ia(e){return de.send(e)}const{togglePlay:cs,toggleRandom:Cn,toggleRepeat:Rn,setVolume:Ar,seek:oa,addToQueue:$c,playNext:Pc,removeFromQueue:Cc,moveTrack:Rc,saveQueue:Lc,playAllTracks:Di,addAllToQueue:Fi}=Pt,{syncLibrary:zc,loadRadioStations:Ic,loadPlaylists:la,openPlaylistDetails:Bi,toggleFavorite:Ui,loadFavorites:Nc,removeFromPlaylist:ji,movePlaylistTrack:Hi}=Un;function $r(e){const t=ye(Ut),n=ye(pn),r=ye(Rr);if(t.file&&t.file.startsWith("http")&&n.length>0&&(e==="next"||e==="previous")){let i=n.findIndex(l=>l.name===r);i===-1&&(i=0);let c;e==="next"?(c=i+1,c>=n.length&&(c=0)):(c=i-1,c<0&&(c=n.length-1)),ca(n[c])}else e==="next"&&Pt.next(),e==="previous"&&Pt.previous()}function ca(e){if(!e)return;Rr.set(e.name);const t=e[1]||e.station||e.file||e.url;t&&Pt.playUri(t,{title:e.name,artist:e.genre||"Radio Stream",stationName:e.name})}function ua(e){e&&(Rr.set(null),Pt.playUri(e.file,{title:e.title,artist:e.artist,album:e.album,stationName:null}))}async function Hs(e,t=0){if(!e)return;Rr.set(null);const n=e.replace(/"/g,'\\"');try{await de.send("stop"),await de.send("clear"),await de.send(`load "${n}"`),await de.send(`play ${t}`)}catch(r){console.error("Failed to play playlist context",r)}}const Oc=Object.freeze(Object.defineProperty({__proto__:null,addAllToQueue:Fi,addToQueue:$c,connect:Oi,loadFavorites:Nc,loadPlaylists:la,loadRadioStations:Ic,movePlaylistTrack:Hi,moveTrack:Rc,nav:$r,openPlaylistDetails:Bi,playAllTracks:Di,playNext:Pc,playPlaylistContext:Hs,playStation:ca,playTrackOptimistic:ua,removeFromPlaylist:ji,removeFromQueue:Cc,runMpdRequest:ia,saveQueue:Lc,seek:oa,setVolume:Ar,syncLibrary:zc,toggleFavorite:Ui,togglePlay:cs,toggleRandom:Cn,toggleRepeat:Rn},Symbol.toStringTag,{value:"Module"}));function qi(e,t=2e3){let n;const r=i=>{i.type==="mousedown"&&i.button!==0||(n=setTimeout(()=>{e.dispatchEvent(new CustomEvent("longpress",{detail:{originalEvent:i}}))},t))},s=()=>{clearTimeout(n)};return e.addEventListener("mousedown",r),e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("mouseup",s),e.addEventListener("mouseleave",s),e.addEventListener("touchend",s),e.addEventListener("touchcancel",s),e.addEventListener("touchmove",s),{destroy(){e.removeEventListener("mousedown",r),e.removeEventListener("touchstart",r),e.removeEventListener("mouseup",s),e.removeEventListener("mouseleave",s),e.removeEventListener("touchend",s),e.removeEventListener("touchcancel",s),e.removeEventListener("touchmove",s)}}}var Dc=P('<div class="drag-handle svelte-5cs2hz" title="Drag to reorder"><div class="icon-small svelte-5cs2hz"><!></div></div>'),Fc=P('<div class="eq-anim svelte-5cs2hz"><span class="bar b1 svelte-5cs2hz"></span> <span class="bar b2 svelte-5cs2hz"></span> <span class="bar b3 svelte-5cs2hz"></span></div>'),Bc=P('<div class="icon-small svelte-5cs2hz"><!></div>'),Uc=P('<div class="icon-small svelte-5cs2hz"><!></div>'),jc=P('<div class="icon-small accent svelte-5cs2hz"><!></div>'),Hc=P('<span class="num svelte-5cs2hz"> </span>'),qc=P('<button class="num-box svelte-5cs2hz"><!></button>'),Yc=P('<div slot="fallback" class="icon-ph svelte-5cs2hz"><!></div>'),Vc=P('<button class="btn-icon small remove svelte-5cs2hz"><!></button>'),Wc=P('<div class="dur svelte-5cs2hz"> </div>'),Qc=P('<div role="button" tabindex="0"><div class="left svelte-5cs2hz"><!> <div class="thumb svelte-5cs2hz"><!></div></div> <div class="info svelte-5cs2hz"><div class="title text-ellipsis svelte-5cs2hz"> </div> <div> </div></div> <div class="right svelte-5cs2hz"><button class="btn-icon small context-menu-btn svelte-5cs2hz" title="Options"><!></button> <button><!></button> <!></div></div>');function us(e,t){nt(t,!1);const n=()=>le(cn,"$favorites",u),r=()=>le(Ut,"$currentSong",u),s=()=>le(Ke,"$status",u),i=()=>le(pn,"$stations",u),c=()=>le(bt,"$navigationStack",u),l=()=>le(vt,"$activeMenuTab",u),[u,o]=yt(),v=C(),f=C(),d=C(),h=C(),w=C(),y=C(),_=C(),k=C(),N=C(),q=C(),Q=C(),ie=C(),Z=C();let Y=Ye(t,"track",8),A=Ye(t,"index",8),E=Ye(t,"isEditable",8,!1);const V=na();let F=C(!1),z=C(!1);function B(pe){if(a(h))return"â";if(!pe)return"0:00";const ue=parseInt(pe,10),Le=Math.floor(ue/60),Ge=ue%60;return`${Le}:${Ge.toString().padStart(2,"0")}`}function O(pe){pe.stopPropagation(),a(f)?cs():V("play")}function $(){const pe=c(),ue=pe[pe.length-1],Le=l();return ue?.view==="details"&&ue.data?.name?{type:"playlist",playlistName:ue.data.name,index:A()}:ue?.view==="queue"||ue?.view==="root"&&Le==="queue"?{type:"queue",index:A()}:{type:"general"}}function U(pe){pe.stopPropagation(),Zr(pe,Y(),$())}function S(pe){E()||Zr(pe.detail.originalEvent,Y(),$())}te(()=>W(Y()),()=>{Y()&&g(z,!1)}),te(()=>(n(),W(Y())),()=>{g(v,n().has(Y().file))}),te(()=>(W(Y()),r()),()=>{g(f,Y().file===r().file)}),te(()=>s(),()=>{g(d,s().state==="play")}),te(()=>W(Y()),()=>{g(h,Y().file&&(Y().file.startsWith("http")||Y().file.includes("RADIO")))}),te(()=>(a(f),a(d),a(F)),()=>{g(w,a(f)&&a(d)&&a(F))}),te(()=>(a(f),a(d),a(F)),()=>{g(y,a(f)&&!a(d)&&a(F)||!a(f)&&a(F))}),te(()=>(a(f),a(d),a(F)),()=>{g(_,a(f)&&a(d)&&!a(F))}),te(()=>(a(f),a(d),a(F)),()=>{g(k,a(f)&&!a(d)&&!a(F))}),te(()=>W(Y()),()=>{g(N,Y().title||Y().file?.split("/").pop())}),te(()=>W(Y()),()=>{g(q,Y().artist||"Unknown")}),te(()=>W(Y()),()=>{g(Q,B(Y().time))}),te(()=>(a(f),r()),()=>{g(ie,a(f)?r().stationName:null)}),te(()=>(a(z),W(Y()),i(),a(ie),Jr),()=>{g(Z,a(z)?Fn(Y(),i(),a(ie)):Jr(Y(),i(),a(ie)))}),qt(),ot();var R=Qc();let j;var I=p(R),ee=p(I);{var se=pe=>{var ue=Dc(),Le=p(ue),Ge=p(Le);re(Ge,()=>(W(m),T(()=>m.DRAG_HANDLE))),L("mousedown",ue,Ze=>V("startdrag",Ze)),L("touchstart",ue,Ze=>V("startdrag",Ze),void 0,!0),L("click",ue,$t(function(Ze){Xr.call(this,t,Ze)})),b(pe,ue)},ae=pe=>{var ue=qc(),Le=p(ue);{var Ge=lt=>{var kt=Fc();b(lt,kt)},Ze=lt=>{var kt=Oe(),_n=be(kt);{var rn=ze=>{var Ue=Bc(),qe=p(Ue);re(qe,()=>(W(m),T(()=>m.PAUSE))),b(ze,Ue)},xt=ze=>{var Ue=Oe(),qe=be(Ue);{var Je=et=>{var ct=Uc(),Tt=p(ct);re(Tt,()=>(W(m),T(()=>m.PLAY))),b(et,ct)},Et=et=>{var ct=Oe(),Tt=be(ct);{var dr=It=>{var Yt=jc(),mn=p(Yt);re(mn,()=>(W(m),T(()=>m.PLAY))),b(It,Yt)},gn=It=>{var Yt=Hc(),mn=p(Yt);me(()=>ge(mn,A()+1)),b(It,Yt)};J(Tt,It=>{a(k)?It(dr):It(gn,!1)},!0)}b(et,ct)};J(qe,et=>{a(y)?et(Je):et(Et,!1)},!0)}b(ze,Ue)};J(_n,ze=>{a(w)?ze(rn):ze(xt,!1)},!0)}b(lt,kt)};J(Le,lt=>{a(_)?lt(Ge):lt(Ze,!1)})}L("click",ue,O),b(pe,ue)};J(ee,pe=>{E()?pe(se):pe(ae,!1)})}var H=x(ee,2),X=p(H);Bn(X,{get src(){return a(Z)},get alt(){return a(N)},radius:"4px",$$events:{error:()=>g(z,!0)},$$slots:{fallback:(pe,ue)=>{var Le=Yc(),Ge=p(Le);re(Ge,()=>(a(h),W(m),T(()=>a(h)?m.RADIO:m.ALBUMS))),Bt(1,Le,()=>Dn),b(pe,Le)}}});var fe=x(I,2),G=p(fe),K=p(G),M=x(G,2);let D;var ne=p(M),he=x(fe,2),_e=p(he),ve=p(_e);re(ve,()=>(W(m),T(()=>m.DOTS)));var we=x(_e,2);let Ee;var Pe=p(we);re(Pe,()=>(a(v),W(m),T(()=>a(v)?m.HEART_FILLED:m.HEART)));var Ce=x(we,2);{var Se=pe=>{var ue=Vc(),Le=p(ue);re(Le,()=>(W(m),T(()=>m.REMOVE))),L("click",ue,$t(()=>V("remove",{index:A()}))),b(pe,ue)},Re=pe=>{var ue=Wc(),Le=p(ue);me(()=>ge(Le,a(Q))),b(pe,ue)};J(Ce,pe=>{E()?pe(Se):pe(Re,!1)})}Ot(()=>L("click",R,()=>!a(f)&&V("play"))),Ot(()=>L("mouseenter",R,()=>g(F,!0))),Ot(()=>L("mouseleave",R,()=>g(F,!1))),Si(R,pe=>qi?.(pe)),Ot(()=>L("longpress",R,S)),me(()=>{j=De(R,1,"row svelte-5cs2hz",null,j,{active:a(f),editable:E()}),zt(G,"title",a(N)),ge(K,a(N)),D=De(M,1,"artist text-ellipsis svelte-5cs2hz",null,D,{link:!a(h)}),ge(ne,a(q)),Ee=De(we,1,"btn-icon small svelte-5cs2hz",null,Ee,{liked:a(v)})}),L("click",M,$t(()=>{!a(h)&&Y().artist&&(vt.set("artists"),dn("albums_by_artist",Y().artist))})),L("click",_e,U),L("click",we,$t(()=>Ui(Y()))),b(e,R),rt(),o()}const Fr=100,Da=5,Fa=25,Ba=3;function Xc({tracksStore:e,onMoveTrack:t}){const n=ke(!1),r=ke(!1),s=ke(!1),i=ke(null),c=ke(null),l=ke(null),u=ke({x:0,y:0,width:0,height:0,grabOffsetX:0,grabOffsetY:0}),o=ke(null);let v=!1,f=0,d=0,h=0,w=0;const y={scrollContainer:null,listBodyContainer:null};let _=null;function k(z,B,O){const $=z.detail;if($.button===2||(window.getSelection&&window.getSelection().removeAllRanges(),!y.scrollContainer))return;const S=y.scrollContainer.querySelectorAll(".row-wrapper")[B];if(!S)return;const R=S.getBoundingClientRect(),j=$.touches?$.touches[0].clientX:$.clientX,I=$.touches?$.touches[0].clientY:$.clientY,ee=j-R.left,se=I-R.top;v=!0,n.set(!1),r.set(!1),f=j,d=I,h=j,w=I,i.set(B),c.set(B),o.set(O),l.set(null),u.set({x:j,y:I,width:R.width,height:R.height,grabOffsetX:ee,grabOffsetY:se})}function N(z){if(!v||ye(r))return;const B=z.touches?z.touches[0].clientX:z.clientX,O=z.touches?z.touches[0].clientY:z.clientY;if(!ye(n)){const $=Math.abs(B-f),U=Math.abs(O-d);if($<Ba&&U<Ba)return;n.set(!0)}z.cancelable&&z.preventDefault(),h=B,w=O,u.update($=>({...$,x:h,y:w})),A(w),q()}function q(){if(!y.listBodyContainer)return;const z=y.listBodyContainer.getBoundingClientRect(),B=ye(u),$=w-z.top-B.grabOffsetY+B.height/2,U=ye(e).length;if($<0){c.set(0);return}if($>z.height){c.set(U);return}const S=Array.from(y.listBodyContainer.querySelectorAll(".row-wrapper"));let R=-1,j=1/0;S.forEach((I,ee)=>{const se=I.offsetTop+I.offsetHeight/2,ae=Math.abs($-se);ae<j&&(j=ae,R=ee)}),R!==-1&&c.set(R)}function Q(z){if(v){if(v=!1,!ye(n)){Z();return}ie()}}async function ie(){V(),n.set(!1),r.set(!0);const z=ye(c);if(ye(u),y.listBodyContainer&&z!==null){const j=y.listBodyContainer.querySelectorAll(".row-wrapper")[z];if(j){const I=y.listBodyContainer.getBoundingClientRect(),ee=I.top+j.offsetTop,se=I.left+j.offsetLeft;u.update(ae=>({...ae,y:ee+ae.grabOffsetY,x:se+ae.grabOffsetX}))}}await new Promise(R=>setTimeout(R,200)),s.set(!0),await Er(),y.listBodyContainer&&y.listBodyContainer.offsetHeight;const B=ye(i),O=ye(e).length;let $=Math.max(0,Math.min(z,O)),U=$;if(B!==null&&B!==$){const R=[...ye(e)],[j]=R.splice(B,1);U=Math.max(0,Math.min(U,R.length)),R.splice(U,0,j),e.set(R),t&&t(B,U)}i.set(null),c.set(null),o.set(null),r.set(!1);const S=B!==$?U:B;l.set(S),await Er(),requestAnimationFrame(()=>{s.set(!1),setTimeout(()=>{l.set(null)},300)})}function Z(){v=!1,Y()}function Y(){n.set(!1),r.set(!1),i.set(null),c.set(null),o.set(null),V()}function A(z){if(!y.scrollContainer)return;const{top:B,bottom:O}=y.scrollContainer.getBoundingClientRect(),$=z-B,U=O-z;V();let S=0;if($<Fr&&$>0){const R=1-$/Fr;S=-(Da+Fa*(R*R))}else if(U<Fr&&U>0){const R=1-U/Fr;S=Da+Fa*(R*R)}S!==0&&E(S)}function E(z){_||(_=requestAnimationFrame(function B(){y.scrollContainer&&(y.scrollContainer.scrollTop+=z,ye(n)&&(u.update(O=>({...O,x:h,y:w})),q(),_=requestAnimationFrame(B)))}))}function V(){_&&(cancelAnimationFrame(_),_=null)}function F(z,B,O,$,U,S){return S||!B&&!O||$===null||U===null?"":z===$?"opacity: 0; pointer-events: none;":$===U?"":$<U&&z>$&&z<=U?"transform: translateY(-100%);":$>U&&z>=U&&z<$?"transform: translateY(100%);":""}return{isDragging:n,isDropping:r,isReordering:s,draggingIndex:i,hoverIndex:c,justDroppedIndex:l,draggedItemData:o,ghostCoords:u,refs:y,onDragInit:k,onPointerMove:N,onPointerUp:Q,getRowStyle:F,cancelDrag:Z}}var Kc=P('<div><div style="pointer-events: none; width: 100%; height: 100%;" class="svelte-ym6b2"><!></div></div>'),Gc=P('<div style="padding: 10px 0;" class="svelte-ym6b2"><!></div>'),Zc=P('<div class="skeletons-wrapper svelte-ym6b2"></div>'),Jc=P("<div><!></div>"),eu=P('<div class="content-padded svelte-ym6b2" style="text-align: center; opacity: 0.5;"> </div>'),tu=P("<!> <!>",1),nu=P('<div><!> <div class="list-body svelte-ym6b2"><!> <!></div></div>');function vs(e,t){nt(t,!1);const n=()=>le(bt,"$navigationStack",h),r=()=>le(vt,"$activeMenuTab",h),s=()=>le(V,"$isDragging",h),i=()=>le(F,"$isDropping",h),c=()=>le(U,"$draggedItemData",h),l=()=>le(S,"$ghostCoords",h),u=()=>le(B,"$draggingIndex",h),o=()=>le(y(),"$itemsStore",h),v=()=>le($,"$justDroppedIndex",h),f=()=>le(z,"$isReordering",h),d=()=>le(O,"$hoverIndex",h),[h,w]=yt();let y=Ye(t,"itemsStore",8),_=Ye(t,"isEditMode",8,!1),k=Ye(t,"isLoading",8,!1),N=Ye(t,"emptyText",8,"List is empty"),q=Ye(t,"onMoveItem",8,(M,D)=>{}),Q=C(""),ie=C(0),Z=C(!1);vr(async()=>{g(ie,vc(a(Q))),!k()&&a(ie)>0&&a(A).refs.scrollContainer&&(await Er(),Ir(A,a(A).refs.scrollContainer.scrollTop=a(ie)),g(Z,!0))});async function Y(){await Er(),a(A).refs.scrollContainer&&(Ir(A,a(A).refs.scrollContainer.scrollTop=a(ie)),g(Z,!0))}yl(()=>{a(A).cancelDrag(),a(A).refs.scrollContainer&&uc(a(Q),a(A).refs.scrollContainer.scrollTop)});const A=C(Xc({tracksStore:y(),onMoveTrack:(M,D)=>{q()(M,D)}})),E=a(A),V=E.isDragging,F=E.isDropping,z=E.isReordering,B=E.draggingIndex,O=E.hoverIndex,$=E.justDroppedIndex,U=E.draggedItemData,S=E.ghostCoords,R=C(E.refs);function j(M,D,ne){_()&&a(A).onDragInit(M,D,ne)}te(()=>(n(),r()),()=>{const M=n(),D=M[M.length-1],ne=r();if(D&&D.view==="root")g(Q,`root_${ne}`);else if(D){const he=D.data?D.data.name||D.data:"unknown";g(Q,`${D.view}_${he}`)}}),te(()=>(W(k()),a(Z),a(ie),a(A)),()=>{!k()&&!a(Z)&&a(ie)>0&&a(A).refs.scrollContainer&&Y()}),qt(),ot();var I=nu();L("mousemove",kn,function(...M){a(A).onPointerMove?.apply(this,M)}),L("mouseup",kn,function(...M){a(A).onPointerUp?.apply(this,M)}),L("touchmove",kn,function(...M){a(A).onPointerMove?.apply(this,M)},void 0,!1),L("touchend",kn,function(...M){a(A).onPointerUp?.apply(this,M)}),L("touchcancel",kn,function(...M){a(A).onPointerUp?.apply(this,M)});let ee;var se=p(I);{var ae=M=>{var D=Kc();let ne;var he=p(D),_e=p(he);Ur(_e,t,"row",{get item(){return c()},get index(){return u()},isGhost:!0,startDrag:()=>{}}),me(()=>{ne=De(D,1,"floating-item svelte-ym6b2",null,ne,{dropping:i()}),Be(D,`
            top: ${l(),T(()=>l().y-l().grabOffsetY)??""}px; 
            left: ${l(),T(()=>l().x-l().grabOffsetX)??""}px;
            width: ${l(),T(()=>l().width)??""}px; 
            height: ${l(),T(()=>l().height)??""}px;
        `)}),b(M,D)};J(se,M=>{(s()||i())&&c()&&M(ae)})}var H=x(se,2),X=p(H);Ur(X,t,"header",{});var fe=x(X,2);{var G=M=>{var D=Zc();Lt(D,4,()=>Array(6),fn,(ne,he)=>{var _e=Gc(),ve=p(_e);hn(ve,{width:"100%",height:"50px"}),b(ne,_e)}),b(M,D)},K=M=>{var D=tu(),ne=be(D);Lt(ne,3,o,(ve,we)=>ve._uid||we,(ve,we,Ee)=>{var Pe=Jc();let Ce;var Se=p(Pe);Ur(Se,t,"row",{get item(){return a(we)},get index(){return a(Ee)},isGhost:!1,startDrag:Re=>j(Re,a(Ee),a(we))}),me(Re=>{Ce=De(Pe,1,"row-wrapper svelte-ym6b2",null,Ce,{"ghost-placeholder":u()===a(Ee)&&(s()||i()),"just-dropped":v()===a(Ee),"no-transition":f()}),Be(Pe,Re)},[()=>(a(A),W(a(Ee)),s(),i(),u(),d(),f(),T(()=>a(A).getRowStyle(a(Ee),s(),i(),u(),d(),f())))]),b(ve,Pe)});var he=x(ne,2);{var _e=ve=>{var we=eu(),Ee=p(we);me(()=>ge(Ee,N())),b(ve,we)};J(he,ve=>{o(),T(()=>o().length===0)&&ve(_e)})}b(M,D)};J(fe,M=>{k()?M(G):M(K,!1)})}On(H,M=>Ir(R,a(R).listBodyContainer=M),()=>a(R)?.listBodyContainer),On(I,M=>Ir(R,a(R).scrollContainer=M),()=>a(R)?.scrollContainer),me(()=>ee=De(I,1,"base-list-scroll-container svelte-ym6b2",null,ee,{dragging:s()})),Bt(1,H,()=>Dn,()=>({duration:200})),b(e,I),rt(),w()}var ru=P('<div slot="fallback" class="icon-fallback svelte-1eh2rsb"><!></div>'),su=P('<h2 class="header-sub svelte-1eh2rsb"> </h2>'),au=P('<div slot="header" class="content-padded svelte-1eh2rsb"><div class="view-header svelte-1eh2rsb"><div class="header-art svelte-1eh2rsb"><!></div> <div class="header-info svelte-1eh2rsb"><div class="header-label svelte-1eh2rsb"> </div> <h1 class="header-title svelte-1eh2rsb"> </h1> <!> <div class="header-actions svelte-1eh2rsb"><button class="btn-primary svelte-1eh2rsb"> </button> <button class="btn-secondary svelte-1eh2rsb"> </button></div></div></div></div>'),iu=P('<div slot="row" class="svelte-1eh2rsb"><!></div>'),ou=P('<div class="music-card svelte-1eh2rsb"><!> <!></div>'),lu=P('<div class="music-grid svelte-1eh2rsb"></div>'),cu=P('<div slot="fallback" class="icon-fallback svelte-1eh2rsb"><!></div>'),uu=P('<div class="card-sub svelte-1eh2rsb"> </div>'),vu=P('<div class="music-card svelte-1eh2rsb" role="button" tabindex="0"><div class="card-img-container svelte-1eh2rsb"><!> <div class="play-overlay svelte-1eh2rsb"><span style="width:48px; color:#fff" class="svelte-1eh2rsb"><!></span></div></div> <div class="card-title svelte-1eh2rsb"> </div> <!></div>'),du=P('<div class="empty-text svelte-1eh2rsb">No results found</div>'),fu=P('<div class="music-grid svelte-1eh2rsb"></div>'),hu=P('<div class="content-padded svelte-1eh2rsb"><div class="search-input-container svelte-1eh2rsb"><span class="search-icon svelte-1eh2rsb"><!></span> <input type="text" class="svelte-1eh2rsb"/></div> <!></div>'),pu=P("<div><!></div>");function _u(e,t){nt(t,!1);const n=()=>le(o,"$itemsStore",s),r=()=>le(bt,"$navigationStack",s),[s,i]=yt(),c=C(),l=C();let u=Ye(t,"activeCategory",8,"artists");const o=ke([]);let v=C(!0),f=C(""),d=C(!1),h=C(!1),w=C(null);async function y(A,E){if(E){g(v,!0),g(w,E.data);try{let V=[];if(E.view==="root")V=A==="artists"?await er.getArtists():await er.getAlbums();else if(E.view==="albums_by_artist"){const z=E.data.name||E.data;V=await er.getArtistAlbums(z)}else if(E.view==="tracks_by_album"){const z=E.data.name||E.data;V=await er.getAlbumTracks(z)}const F=V.map((z,B)=>{const $=typeof z=="string"?{name:z}:z;return{...$,displayName:$.name||$.title||$.artist||"Unknown",thumbFile:$.file||null,_uid:($.file||$.name||B)+A+E.view}});o.set(F),E.view==="tracks_by_album"&&F.length>0&&g(w,F[0])}catch(V){console.error(V),o.set([])}finally{g(v,!1)}}}function _(A){a(l).view==="root"?u()==="artists"?dn("albums_by_artist",A):dn("tracks_by_album",A):a(l).view==="albums_by_artist"&&dn("tracks_by_album",A)}function k(){const A=n();A.length>0&&(g(d,!0),Di(A))}function N(){const A=n();A.length>0&&(g(h,!0),Fi(A),setTimeout(()=>{g(h,!1)},2e3))}te(()=>W(u()),()=>{u()&&g(f,"")}),te(()=>(n(),a(f)),()=>{g(c,n().filter(A=>{if(!a(f))return!0;const E=a(f).toLowerCase();return A.displayName.toLowerCase().includes(E)||A.artist&&A.artist.toLowerCase().includes(E)}))}),te(()=>r(),()=>{g(l,r()[r().length-1])}),te(()=>(W(u()),a(l)),()=>{y(u(),a(l))}),te(()=>a(l),()=>{a(l)&&(g(d,!1),g(h,!1))}),qt(),ot();var q=pu();let Q;var ie=p(q);{var Z=A=>{vs(A,{get itemsStore(){return o},get isLoading(){return a(v)},isEditMode:!1,emptyText:"No tracks found",$$slots:{header:(E,V)=>{var F=au(),z=p(F),B=p(z),O=p(B);{let G=He(()=>(W(Fn),a(w),T(()=>Fn(a(w)))));Bn(O,{get src(){return a(G)},alt:"Art",radius:"12px",$$slots:{fallback:(K,M)=>{var D=ru(),ne=p(D);re(ne,()=>(W(m),T(()=>m.ALBUMS))),b(K,D)}}})}var $=x(B,2),U=p($),S=p(U),R=x(U,2),j=p(R),I=x(R,2);{var ee=G=>{var K=su(),M=p(K);me(()=>ge(M,(a(l),T(()=>a(l).data.artist)))),b(G,K)};J(I,G=>{a(l),T(()=>a(l).data.artist)&&G(ee)})}var se=x(I,2),ae=p(se),H=p(ae),X=x(ae,2),fe=p(X);me(()=>{ge(S,(a(l),T(()=>a(l).view==="albums_by_artist"?"Artist":"Album"))),ge(j,(a(l),T(()=>a(l).data.name||a(l).data.displayName||"Unknown"))),ae.disabled=a(d),ge(H,a(d)?"Playing...":"Play All"),X.disabled=a(h),ge(fe,a(h)?"Added":"To Queue")}),L("click",ae,k),L("click",X,N),b(E,F)},row:(E,V)=>{var F=iu();const z=He(()=>V.item),B=He(()=>V.index);var O=p(F);us(O,{get track(){return a(z)},get index(){return a(B)},isEditable:!1,$$events:{play:()=>ua(a(z))}}),b(E,F)}}})},Y=A=>{var E=hu(),V=p(E),F=p(V),z=p(F);re(z,()=>(W(m),T(()=>m.SEARCH)));var B=x(F,2),O=x(V,2);{var $=S=>{var R=lu();Lt(R,4,()=>Array(12),fn,(j,I)=>{var ee=ou(),se=p(ee);hn(se,{width:"100%",style:"aspect-ratio:1; border-radius:12px; margin-bottom:12px;"});var ae=x(se,2);hn(ae,{width:"80%",height:"16px"}),b(j,ee)}),b(S,R)},U=S=>{var R=fu();Lt(R,5,()=>a(c),j=>j._uid,(j,I)=>{var ee=vu(),se=p(ee),ae=p(se);{let ne=He(()=>(W(Jr),a(I),T(()=>Jr(a(I)))));Bn(ae,{get src(){return a(ne)},get alt(){return a(I),T(()=>a(I).displayName)},radius:"8px",$$slots:{fallback:(he,_e)=>{var ve=cu(),we=p(ve);{var Ee=Ce=>{var Se=Oe(),Re=be(Se);re(Re,()=>(W(m),T(()=>m.ARTISTS))),b(Ce,Se)},Pe=Ce=>{var Se=Oe(),Re=be(Se);re(Re,()=>(W(m),T(()=>m.ALBUMS))),b(Ce,Se)};J(we,Ce=>{u()==="artists"?Ce(Ee):Ce(Pe,!1)})}b(he,ve)}}})}var H=x(ae,2),X=p(H),fe=p(X);re(fe,()=>(W(m),T(()=>m.PLAY)));var G=x(se,2),K=p(G),M=x(G,2);{var D=ne=>{var he=uu(),_e=p(he);me(()=>ge(_e,(a(I),T(()=>a(I).artist)))),b(ne,he)};J(M,ne=>{W(u()),a(I),T(()=>u()==="albums"&&a(I).artist)&&ne(D)})}me(()=>ge(K,(a(I),T(()=>a(I).displayName)))),L("click",ee,()=>_(a(I))),L("keypress",ee,ne=>ne.key==="Enter"&&_(a(I))),b(j,ee)},j=>{var I=du();b(j,I)}),b(S,R)};J(O,S=>{a(v)?S($):S(U,!1)})}me(()=>zt(B,"placeholder",`Filter ${u()??""}...`)),Js(B,()=>a(f),S=>g(f,S)),b(A,E)};J(ie,A=>{a(l),T(()=>a(l)?.view==="tracks_by_album")?A(Z):A(Y,!1)})}me(()=>Q=De(q,1,"view-container svelte-1eh2rsb",null,Q,{scrollable:a(l)?.view!=="tracks_by_album"})),b(e,q),rt(),i()}var gu=P('<div class="music-card svelte-1otxnt7"><div class="skeleton-img svelte-1otxnt7"><!></div> <!></div>'),mu=P('<div class="music-grid svelte-1otxnt7"></div>'),bu=P('<div slot="fallback" class="icon-fallback svelte-1otxnt7">ð»</div>'),wu=P('<div class="quality-tag svelte-1otxnt7"> </div>'),yu=P('<div class="status-badge playing svelte-1otxnt7">PLAYING</div>'),ku=P('<div class="status-badge paused svelte-1otxnt7">PAUSED</div>'),xu=P('<span class="play-icon-wrap svelte-1otxnt7"><!></span>'),Eu=P('<div class="card-sub svelte-1otxnt7"> </div>'),Tu=P('<div role="button" tabindex="0"><div class="card-img-container svelte-1otxnt7"><!> <!> <div class="play-overlay svelte-1otxnt7"><!></div></div> <div class="card-title svelte-1otxnt7"> </div> <!></div>'),Mu=P('<div class="empty-state-container svelte-1otxnt7"><div class="empty-state-icon svelte-1otxnt7">ð</div> <div class="svelte-1otxnt7">No stations found</div></div>'),Su=P('<div class="music-grid svelte-1otxnt7"></div> <!>',1),Au=P('<div class="view-container scrollable content-padded svelte-1otxnt7"><div class="search-input-container svelte-1otxnt7"><span class="search-icon svelte-1otxnt7"><!></span> <input type="text" placeholder="Find station..." class="svelte-1otxnt7"/></div> <!></div>');function $u(e,t){nt(t,!1);const n=()=>le(pn,"$stations",c),r=()=>le(Ke,"$status",c),s=()=>le(jr,"$isLoadingRadio",c),i=()=>le(Ut,"$currentSong",c),[c,l]=yt(),u=C(),o=C();let v=C("");te(()=>(n(),a(v)),()=>{g(u,n().filter(q=>{const Q=a(v).toLowerCase();return q.name.toLowerCase().includes(Q)||q.genre&&q.genre.toLowerCase().includes(Q)}))}),te(()=>r(),()=>{g(o,r().bitrate?`${r().bitrate} kbps`:r().format||"")}),qt(),ot();var f=Au(),d=p(f),h=p(d),w=p(h);re(w,()=>(W(m),T(()=>m.SEARCH)));var y=x(h,2),_=x(d,2);{var k=q=>{var Q=mu();Lt(Q,4,()=>Array(12),fn,(ie,Z)=>{var Y=gu(),A=p(Y),E=p(A);hn(E,{width:"100%",height:"100%"});var V=x(A,2);hn(V,{width:"70%",height:"16px"}),b(ie,Y)}),b(q,Q)},N=q=>{var Q=Su(),ie=be(Q);Lt(ie,5,()=>a(u),fn,(A,E)=>{const V=He(()=>(a(E),T(()=>a(E).file))),F=He(()=>(i(),a(E),W(a(V)),T(()=>i().stationName===a(E).name||i().file===a(V)))),z=He(()=>(W(ir),a(E),T(()=>ir(a(E)))));var B=Tu();let O;var $=p(B),U=p($);Bn(U,{get src(){return a(z)},get alt(){return a(E),T(()=>a(E).name)},radius:"var(--radius-md)",$$slots:{fallback:(G,K)=>{var M=bu();b(G,M)}}});var S=x(U,2);{var R=G=>{var K=wu(),M=p(K);me(()=>ge(M,a(o))),Bt(1,K,()=>Dn),b(G,K)};J(S,G=>{a(F)&&a(o)&&G(R)})}var j=x(S,2),I=p(j);{var ee=G=>{var K=Oe(),M=be(K);{var D=he=>{var _e=yu();b(he,_e)},ne=he=>{var _e=ku();b(he,_e)};J(M,he=>{r(),T(()=>r().state==="play")?he(D):he(ne,!1)})}b(G,K)},se=G=>{var K=xu(),M=p(K);re(M,()=>(W(m),T(()=>m.PLAY))),b(G,K)};J(I,G=>{a(F)?G(ee):G(se,!1)})}var ae=x($,2),H=p(ae),X=x(ae,2);{var fe=G=>{var K=Eu(),M=p(K);me(()=>ge(M,(a(E),T(()=>a(E).genre)))),b(G,K)};J(X,G=>{a(E),T(()=>a(E).genre)&&G(fe)})}me(()=>{O=De(B,1,"music-card svelte-1otxnt7",null,O,{"is-active":a(F)}),ge(H,(a(E),T(()=>a(E).name)))}),L("click",B,()=>ca(a(E))),b(A,B)});var Z=x(ie,2);{var Y=A=>{var E=Mu();b(A,E)};J(Z,A=>{a(u),n(),T(()=>a(u).length===0&&n().length>0)&&A(Y)})}b(q,Q)};J(_,q=>{s()?q(k):q(N,!1)})}Js(y,()=>a(v),q=>g(v,q)),Bt(1,f,()=>Dn,()=>({duration:200})),b(e,f),rt(),l()}var Pu=P('<div slot="header" class="content-padded svelte-m7c4tz"><div class="view-header svelte-m7c4tz"><div class="header-art svelte-m7c4tz"><div class="header-icon-wrap svelte-m7c4tz"><!></div></div> <div class="header-info svelte-m7c4tz"><div class="header-label svelte-m7c4tz">Playlist</div> <h1 class="header-title svelte-m7c4tz"> </h1> <div class="track-count-sub svelte-m7c4tz"> </div> <div class="header-actions svelte-m7c4tz"><button class="btn-primary svelte-m7c4tz"> </button> <button class="btn-secondary svelte-m7c4tz"> </button> <button><!></button></div></div></div></div>'),Cu=P('<div slot="row" class="svelte-m7c4tz"><!></div>'),Ru=P('<div class="music-card svelte-m7c4tz"><!> <!></div>'),Lu=P('<div class="content-padded svelte-m7c4tz"><div class="music-grid svelte-m7c4tz"></div></div>'),zu=P('<div class="music-card svelte-m7c4tz"><div class="card-img-container svelte-m7c4tz"><div class="icon-wrap svelte-m7c4tz"><!></div> <div class="play-overlay svelte-m7c4tz"><span class="overlay-icon svelte-m7c4tz"><!></span></div></div> <div class="card-title svelte-m7c4tz"> </div> <div class="card-sub svelte-m7c4tz"> </div></div>'),Iu=P('<div class="content-padded svelte-m7c4tz"><div class="music-grid svelte-m7c4tz"><div class="music-card svelte-m7c4tz"><div class="card-img-container dashed-cover svelte-m7c4tz"><div class="icon-wrap svelte-m7c4tz"><!></div></div> <div class="card-title svelte-m7c4tz">New Playlist</div></div> <!></div></div>'),Nu=P("<div><!></div>");function Ou(e,t){nt(t,!1);const n=()=>le(bt,"$navigationStack",l),r=()=>le(xn,"$activePlaylistTracks",l),s=()=>le(ra,"$playlists",l),i=()=>le(Fs,"$isLoadingTracks",l),c=()=>le(Ds,"$isLoadingPlaylists",l),[l,u]=yt(),o=C(),v=C(),f=C();let d=C(!1),h=C(!1),w=C(!1);vr(()=>{!a(v)&&s().length===0&&la()});function y(F){dn("details",F)}function _(){g(h,!0),Hs(a(o).data.name,0)}function k(F){a(d)||Hs(a(o).data.name,F)}function N(){if(r().length>0){const F=a(o).data.name.replace(/"/g,'\\"');ia(`load "${F}"`),g(w,!0),setTimeout(()=>{g(w,!1)},2e3)}}function q(){g(d,!a(d))}function Q(F){const z=a(o).data.name,B=r();B.splice(F,1),xn.set(B),ji(z,F)}function ie(F,z){const B=a(o).data.name;Hi(B,F,z)}te(()=>n(),()=>{g(o,n()[n().length-1])}),te(()=>a(o),()=>{g(v,a(o).view==="details")}),te(()=>a(o),()=>{a(o)&&(g(h,!1),g(w,!1))}),te(()=>(a(v),r(),xn),()=>{if(a(v)&&r().length>0){const F=r();if(!F[0]._uid){const z=F.map(B=>({...B,_uid:Math.random()}));xn.set(z)}}}),te(()=>(a(v),a(o),Oc),()=>{a(v)&&a(o).data&&(g(d,!1),Bi(a(o).data.name))}),te(()=>a(o),()=>{g(f,a(o)?.data?.name==="Favorites")}),qt(),ot();var Z=Nu();let Y;var A=p(Z);{var E=F=>{vs(F,{get itemsStore(){return xn},get isLoading(){return i()},get isEditMode(){return a(d)},emptyText:"This playlist is empty.",onMoveItem:ie,$$slots:{header:(z,B)=>{var O=Pu(),$=p(O),U=p($),S=p(U),R=p(S);re(R,()=>(a(f),W(m),T(()=>a(f)?m.HEART_FILLED:m.PLAYLISTS)));var j=x(U,2),I=x(p(j),2),ee=p(I),se=x(I,2),ae=p(se),H=x(se,2),X=p(H),fe=p(X),G=x(X,2),K=p(G),M=x(G,2);let D;var ne=p(M);re(ne,()=>(a(d),W(m),T(()=>a(d)?m.ACCEPT:m.EDIT))),me(()=>{Be(U,`background: ${a(f),a(o),T(()=>a(f)?"linear-gradient(135deg, hsl(348, 95%, 58%), hsl(348, 90%, 40%))":a(o).data.color||"#333")??""};`),zt(I,"title",(a(o),T(()=>a(o).data.name))),ge(ee,(a(o),T(()=>a(o).data.name))),ge(ae,(i(),r(),T(()=>i()?"Loading...":`${r().length} tracks`))),X.disabled=a(h),ge(fe,a(h)?"Playing...":"Play All"),G.disabled=a(w),ge(K,a(w)?"Added":"To Queue"),D=De(M,1,"btn-action svelte-m7c4tz",null,D,{active:a(d)}),zt(M,"title",a(d)?"Finish Editing":"Edit Playlist")}),L("click",X,_),L("click",G,N),L("click",M,q),b(z,O)},row:(z,B)=>{var O=Cu();const $=He(()=>B.item),U=He(()=>B.index),S=He(()=>B.startDrag);var R=p(O);us(R,{get track(){return a($)},get index(){return a(U)},get isEditable(){return a(d)},$$events:{play:()=>k(a(U)),remove:()=>Q(a(U)),startdrag(...j){a(S)?.apply(this,j)}}}),b(z,O)}}})},V=F=>{var z=Oe(),B=be(z);{var O=U=>{var S=Lu(),R=p(S);Lt(R,4,()=>Array(8),fn,(j,I)=>{var ee=Ru(),se=p(ee);hn(se,{width:"100%",style:"aspect-ratio: 1; border-radius: 12px; margin-bottom: 12px;"});var ae=x(se,2);hn(ae,{width:"60%",height:"16px"}),b(j,ee)}),b(U,S)},$=U=>{var S=Iu(),R=p(S),j=p(R),I=p(j),ee=p(I),se=p(ee);re(se,()=>(W(m),T(()=>m.ADD)));var ae=x(j,2);Lt(ae,1,s,fn,(H,X)=>{const fe=He(()=>(a(X),T(()=>a(X).name==="Favorites")));var G=zu(),K=p(G),M=p(K),D=p(M);re(D,()=>(W(a(fe)),W(m),T(()=>a(fe)?m.HEART_FILLED:m.PLAYLISTS)));var ne=x(M,2),he=p(ne),_e=p(he);re(_e,()=>(W(m),T(()=>m.PLAY)));var ve=x(K,2),we=p(ve),Ee=x(ve,2),Pe=p(Ee);me(Ce=>{Be(K,`background: ${a(X),T(()=>a(X).color)??""};`),ge(we,(a(X),T(()=>a(X).name))),ge(Pe,Ce)},[()=>(a(X),T(()=>a(X).lastModified?new Date(a(X).lastModified).toLocaleDateString():"Playlist"))]),L("click",G,()=>y(a(X))),b(H,G)}),b(U,S)};J(B,U=>{c()?U(O):U($,!1)},!0)}b(F,z)};J(A,F=>{a(v)?F(E):F(V,!1)})}me(()=>Y=De(Z,1,"view-container svelte-m7c4tz",null,Y,{scrollable:!a(v)})),b(e,Z),rt(),u()}var Du=P('<div class="spinner svelte-1d3z1zm"></div>'),Fu=P('<div class="placeholder-state svelte-1d3z1zm"><div class="placeholder-icon svelte-1d3z1zm">ð</div> <p class="svelte-1d3z1zm">Type to search your library</p></div>'),Bu=P('<div class="empty-text svelte-1d3z1zm"> </div>'),Uu=P('<div slot="fallback" class="icon-fallback svelte-1d3z1zm">ð¿</div>'),ju=P('<div class="music-card svelte-1d3z1zm"><div class="card-img-container svelte-1d3z1zm"><!> <div class="play-overlay svelte-1d3z1zm"><span class="play-icon-wrap svelte-1d3z1zm"><!></span></div></div> <div class="card-title svelte-1d3z1zm"> </div> <div class="card-sub svelte-1d3z1zm"> </div></div>'),Hu=P('<div class="header-label section-spacing svelte-1d3z1zm">Albums</div> <div class="albums-scroller section-mb svelte-1d3z1zm"></div>',1),qu=P('<div class="header-label svelte-1d3z1zm">Tracks</div>'),Yu=P("<!> <!>",1),Vu=P('<div slot="header" class="content-padded svelte-1d3z1zm"><!></div>'),Wu=P('<div slot="row" class="svelte-1d3z1zm"><!></div>'),Qu=P('<div class="view-container svelte-1d3z1zm"><div class="content-padded no-bottom-pad svelte-1d3z1zm"><div class="search-input-container svelte-1d3z1zm"><span class="search-icon svelte-1d3z1zm"><!></span> <input type="text" placeholder="Artists, songs, or albums" autoFocus class="svelte-1d3z1zm"/> <!></div></div> <!></div>');function Xu(e,t){nt(t,!1);const n=()=>le(Gr,"$searchQuery",s),r=()=>le(c,"$tracksStore",s),[s,i]=yt(),c=ke([]);let l=C([]),u=C(!1),o,v=C(!1);vr(()=>{n().length>=2&&d(n())});function f(E){Gr.set(E.target.value),clearTimeout(o),o=setTimeout(()=>{d(n())},300)}async function d(E){const V=E.trim().toLowerCase();if(V.length<2){c.set([]),g(l,[]),g(v,!1);return}g(u,!0),g(v,!0);try{const F=await er.search(V),z=F.map((O,$)=>({...O,_uid:O.file?`${O.file}-${$}`:`search-${$}`}));c.set(z);const B=new Map;F.forEach(O=>{const $=O.album;if($&&!B.has($)){const U=$.toLowerCase().includes(V),S=O.artist&&O.artist.toLowerCase().includes(V);(U||S)&&B.set($,{name:$,artist:O.artist,file:O.file,_uid:`alb-${$}`})}}),g(l,Array.from(B.values()))}finally{g(u,!1)}}function h(E){ua(E)}function w(E){dn("tracks_by_album",E)}function y(E){E.deltaY!==0&&(E.currentTarget.scrollLeft+=E.deltaY)}ot();var _=Qu(),k=p(_),N=p(k),q=p(N),Q=p(q);re(Q,()=>m.SEARCH);var ie=x(q,2),Z=x(ie,2);{var Y=E=>{var V=Du();b(E,V)};J(Z,E=>{a(u)&&E(Y)})}var A=x(k,2);vs(A,{get itemsStore(){return c},isEditMode:!1,isLoading:!1,emptyText:"",$$slots:{header:(E,V)=>{var F=Vu(),z=p(F);{var B=$=>{var U=Fu();b($,U)},O=$=>{var U=Oe(),S=be(U);{var R=I=>{var ee=Bu(),se=p(ee);me(()=>ge(se,`No results found for "${n()??""}"`)),b(I,ee)},j=I=>{var ee=Yu(),se=be(ee);{var ae=fe=>{var G=Hu(),K=x(be(G),2);Lt(K,5,()=>a(l),M=>M._uid,(M,D)=>{var ne=ju(),he=p(ne),_e=p(he);{let pe=He(()=>Fn(a(D)));Bn(_e,{get src(){return a(pe)},get alt(){return a(D).name},radius:"var(--radius-md)",$$slots:{fallback:(ue,Le)=>{var Ge=Uu();b(ue,Ge)}}})}var ve=x(_e,2),we=p(ve),Ee=p(we);re(Ee,()=>m.PLAY);var Pe=x(he,2),Ce=p(Pe),Se=x(Pe,2),Re=p(Se);me(()=>{zt(Pe,"title",a(D).name),ge(Ce,a(D).name),ge(Re,a(D).artist)}),L("click",ne,()=>w(a(D))),b(M,ne)}),L("wheel",K,y),b(fe,G)};J(se,fe=>{a(l).length>0&&fe(ae)})}var H=x(se,2);{var X=fe=>{var G=qu();b(fe,G)};J(H,fe=>{r().length>0&&fe(X)})}b(I,ee)};J(S,I=>{!a(u)&&r().length===0&&a(l).length===0&&a(v)?I(R):I(j,!1)},!0)}b($,U)};J(z,$=>{n().length<2?$(B):$(O,!1)})}b(E,F)},row:(E,V)=>{var F=Wu();const z=He(()=>V.item),B=He(()=>V.index);var O=p(F);us(O,{get track(){return a(z)},get index(){return a(B)},isEditable:!1,$$events:{play:()=>h(a(z))}}),b(E,F)}}}),me(()=>_l(ie,n())),L("input",ie,f),b(e,_),rt(),i()}var Ku=P('<div class="knob svelte-1jla3sy"></div>'),Gu=P('<div class="tooltip current svelte-1jla3sy"> </div> <span></span>',1),Zu=P('<div slot="fallback" class="icon-fallback svelte-1jla3sy"><!></div>'),Ju=P('<span class="badge svelte-1jla3sy"> </span>'),ev=P('<div class="dot svelte-1jla3sy"></div>'),tv=P("<button><!> <!></button>"),nv=P('<div class="dock svelte-1jla3sy"><div class="progress-shadow svelte-1jla3sy"></div> <div><div class="rail svelte-1jla3sy"></div> <div class="fill svelte-1jla3sy"><!></div> <!></div> <div class="grid svelte-1jla3sy"><div class="info svelte-1jla3sy"><div class="art svelte-1jla3sy"><!></div> <div class="meta svelte-1jla3sy"><div class="title-row svelte-1jla3sy"><div class="title text-ellipsis svelte-1jla3sy"> </div> <button class="btn-icon tiny-dots svelte-1jla3sy"><!></button></div> <div class="artist-row svelte-1jla3sy"><div class="artist text-ellipsis svelte-1jla3sy"> </div> <!></div></div></div> <div class="controls svelte-1jla3sy"><button><!></button> <button class="btn-icon"><!></button> <button class="play-btn flex-center svelte-1jla3sy"><!></button> <button class="btn-icon"><!></button> <!></div> <div class="volume desktop svelte-1jla3sy"><div class="vol-icon svelte-1jla3sy"><!></div> <div class="custom-slider svelte-1jla3sy"><div class="slider-bg svelte-1jla3sy"><div class="slider-fill svelte-1jla3sy"></div> <div class="slider-knob svelte-1jla3sy"></div></div></div></div></div></div>');function rv(e,t){nt(t,!1);const n=()=>le(Ke,"$status",l),r=()=>le(Ut,"$currentSong",l),s=()=>le(cn,"$favorites",l),i=()=>le(pn,"$stations",l),c=()=>le(Kr,"$isFullPlayerOpen",l),[l,u]=yt(),o=C(),v=C(),f=C(),d=C(),h=C(),w=C(),y=C(),_=C(),k=C(),N=C(),q=C(),Q=C();let ie=C(!1),Z=C(!1),Y=!1,A=C(0),E=C(),V=C();const F=H=>X=>{X.stopPropagation(),H()};function z(H){if(isNaN(H)||H===null)return"0:00";const X=Math.floor(H/60),fe=Math.floor(H%60);return`${X}:${fe<10?"0":""}${fe}`}function B(H,X){const fe=X.getBoundingClientRect();return Math.max(0,Math.min(1,(H.clientX-fe.left)/fe.width))}function O(H){a(d)||(g(Z,!0),g(A,B(H,a(E))),window.addEventListener("mousemove",$),window.addEventListener("mouseup",U))}function $(H){if(a(Z)&&g(A,B(H,a(E))),Y){const X=Math.round(B(H,a(V))*100);Ar(X)}}function U(){a(Z)&&!a(d)&&oa(a(A)*a(o)),g(Z,!1),Y=!1,window.removeEventListener("mousemove",$),window.removeEventListener("mouseup",U)}function S(H){Y=!0;const X=Math.round(B(H,a(V))*100);Ar(X),window.addEventListener("mousemove",$),window.addEventListener("mouseup",U)}function R(){const H=(a(Q)+1)%3;H===0?(n().random&&Cn(),n().repeat&&Rn()):H===1?(n().random||Cn(),n().repeat&&Rn()):H===2&&(n().random&&Cn(),n().repeat||Rn())}function j(H){H.stopPropagation(),Zr(H,r(),{type:"general",source:"miniplayer"})}function I(H){Zr(H.detail.originalEvent,r(),{type:"general",source:"miniplayer"})}te(()=>n(),()=>{g(o,n().duration>0?n().duration:1)}),te(()=>n(),()=>{g(v,n().elapsed||0)}),te(()=>n(),()=>{g(f,n().state==="play")}),te(()=>r(),()=>{g(d,r().file?.startsWith("http"))}),te(()=>r(),()=>{g(h,r().title||"Not Playing")}),te(()=>r(),()=>{g(w,r().stationName||r().artist||"Moode")}),te(()=>(r(),s()),()=>{g(y,r().file&&s().has(r().file))}),te(()=>(r(),i()),()=>{g(_,Fn(r(),i(),r().stationName))}),te(()=>(a(d),a(Z),a(A),a(v),a(o)),()=>{g(k,a(d)?0:a(Z)?a(A)*100:a(v)/a(o)*100)}),te(()=>(a(f),a(Z),a(d)),()=>{g(N,a(f)&&!a(Z)&&!a(d))}),te(()=>n(),()=>{g(q,n().bitrate?`${n().bitrate} kbps`:n().format||"")}),te(()=>n(),()=>{g(Q,n().repeat?2:n().random?1:0)}),qt(),ot();var ee=Oe(),se=be(ee);{var ae=H=>{var X=nv(),fe=p(X),G=x(fe,2);let K;var M=x(p(G),2),D=p(M);{var ne=ce=>{var Fe=Ku();b(ce,Fe)};J(D,ce=>{a(d)||ce(ne)})}var he=x(M,2);{var _e=ce=>{var Fe=Gu(),Mt=be(Fe),sn=p(Mt);me(Vn=>{Be(Mt,`left: ${a(k)??""}%`),ge(sn,Vn)},[()=>(a(Z),a(A),a(o),a(v),T(()=>a(Z)?z(a(A)*a(o)):z(a(v))))]),b(ce,Fe)};J(he,ce=>{(a(ie)||a(Z))&&!a(d)&&ce(_e)})}On(G,ce=>g(E,ce),()=>a(E));var ve=x(G,2),we=p(ve),Ee=p(we),Pe=p(Ee);Bn(Pe,{get src(){return a(_)},alt:"art",radius:"4px",$$slots:{fallback:(ce,Fe)=>{var Mt=Zu(),sn=p(Mt);re(sn,()=>(a(d),W(m),T(()=>a(d)?m.RADIO:m.ALBUMS))),b(ce,Mt)}}});var Ce=x(Ee,2),Se=p(Ce),Re=p(Se),pe=p(Re),ue=x(Re,2),Le=p(ue);re(Le,()=>(W(m),T(()=>m.DOTS)));var Ge=x(Se,2),Ze=p(Ge),lt=p(Ze),kt=x(Ze,2);{var _n=ce=>{var Fe=Ju(),Mt=p(Fe);me(()=>ge(Mt,a(q))),b(ce,Fe)};J(kt,ce=>{a(q)&&ce(_n)})}var rn=x(we,2),xt=p(rn),ze=hr(()=>F(()=>Un.toggleFavorite(r())));let Ue;var qe=p(xt);re(qe,()=>(a(y),W(m),T(()=>a(y)?m.HEART_FILLED:m.HEART)));var Je=x(xt,2),Et=hr(()=>F(()=>$r("previous"))),et=p(Je);re(et,()=>(W(m),T(()=>m.PREVIOUS)));var ct=x(Je,2),Tt=hr(()=>F(cs)),dr=p(ct);re(dr,()=>(n(),W(m),T(()=>n().state==="play"?m.PAUSE:m.PLAY)));var gn=x(ct,2),It=hr(()=>F(()=>$r("next"))),Yt=p(gn);re(Yt,()=>(W(m),T(()=>m.NEXT)));var mn=x(gn,2);{var Lr=ce=>{var Fe=tv(),Mt=hr(()=>F(R));let sn;var Vn=p(Fe);{var ps=pt=>{var yn=Oe(),_s=be(yn);re(_s,()=>(W(m),T(()=>m.REPEAT))),b(pt,yn)},ht=pt=>{var yn=Oe(),_s=be(yn);re(_s,()=>(W(m),T(()=>m.SHUFFLE))),b(pt,yn)};J(Vn,pt=>{a(Q)===2?pt(ps):pt(ht,!1)})}var Vt=x(Vn,2);{var fr=pt=>{var yn=ev();b(pt,yn)};J(Vt,pt=>{a(Q)>0&&pt(fr)})}me(()=>sn=De(Fe,1,"btn-icon desktop mode-btn svelte-1jla3sy",null,sn,{active:a(Q)>0})),L("click",Fe,function(...pt){a(Mt)?.apply(this,pt)}),b(ce,Fe)};J(mn,ce=>{a(d)||ce(Lr)})}var ds=x(rn,2),bn=p(ds),fs=p(bn);re(fs,()=>(W(m),T(()=>m.VOLUME)));var wn=x(bn,2),hs=p(wn),oe=p(hs),Ae=x(oe,2);On(wn,ce=>g(V,ce),()=>a(V)),Ot(()=>L("click",X,()=>Kr.set(!0))),Si(X,(ce,Fe)=>qi?.(ce,Fe),()=>500),Ot(()=>L("longpress",X,I)),me(()=>{Be(fe,`width: ${a(k)??""}%; transition: ${a(N)?"width 0.25s linear":"none"}`),K=De(G,1,"progress-bar svelte-1jla3sy",null,K,{radio:a(d)}),Be(M,`width: ${a(k)??""}%; transition: ${a(N)?"width 0.25s linear":"none"}`),zt(Re,"title",a(h)),ge(pe,a(h)),zt(Ze,"title",a(w)),ge(lt,a(w)),Ue=De(xt,1,"btn-icon desktop svelte-1jla3sy",null,Ue,{liked:a(y)}),Be(oe,`width: ${n(),T(()=>n().volume)??""}%`),Be(Ae,`left: ${n(),T(()=>n().volume)??""}%`)}),L("mouseenter",G,()=>g(ie,!0)),L("mouseleave",G,()=>g(ie,!1)),L("mousedown",G,$t(O)),L("click",G,$t(function(ce){Xr.call(this,t,ce)})),L("click",ue,j),L("click",xt,function(...ce){a(ze)?.apply(this,ce)}),L("click",Je,function(...ce){a(Et)?.apply(this,ce)}),L("click",ct,function(...ce){a(Tt)?.apply(this,ce)}),L("click",gn,function(...ce){a(It)?.apply(this,ce)}),L("mousedown",wn,$t(S)),L("click",wn,$t(function(ce){Xr.call(this,t,ce)})),b(H,X)};J(se,H=>{c()||H(ae)})}b(e,ee),rt(),u()}var sv=P('<div slot="fallback" class="icon-fallback svelte-1olwzt8"><!></div>'),av=P('<span class="badge svelte-1olwzt8"> </span>'),iv=P('<span class="dot svelte-1olwzt8"></span>'),ov=P("<button><!> <!></button>"),lv=P('<div style="width: 44px;"></div>'),cv=P('<div class="full-player svelte-1olwzt8"><div class="drag-zone svelte-1olwzt8"><div class="drag-handle-icon svelte-1olwzt8"><!></div></div> <div class="bg-blur svelte-1olwzt8"></div> <div class="bg-overlay svelte-1olwzt8"></div> <div class="player-body svelte-1olwzt8"><div class="art-container svelte-1olwzt8"><div class="artwork svelte-1olwzt8"><!></div></div> <div class="controls-area svelte-1olwzt8"><div class="meta svelte-1olwzt8"><h1 class="title text-ellipsis svelte-1olwzt8"> </h1> <div class="artist-row svelte-1olwzt8"><h2 class="artist text-ellipsis svelte-1olwzt8"> </h2> <!></div></div> <div class="progress-section"><div class="bar-hit-area svelte-1olwzt8"><div class="common-track svelte-1olwzt8"><div class="common-fill svelte-1olwzt8"><div class="common-knob svelte-1olwzt8"></div></div></div></div> <div class="time-row svelte-1olwzt8"><span> </span> <span> </span></div></div> <div class="buttons-row svelte-1olwzt8"><button><!></button> <button class="btn-icon side-btn svelte-1olwzt8"><!></button> <button class="play-btn-large flex-center svelte-1olwzt8"><!></button> <button class="btn-icon side-btn svelte-1olwzt8"><!></button> <!></div> <div class="volume-row svelte-1olwzt8"><div class="vol-icon svelte-1olwzt8"><!></div> <div class="volume-hit-area svelte-1olwzt8"><div class="common-track svelte-1olwzt8"><div class="common-fill svelte-1olwzt8"></div> <div class="common-knob svelte-1olwzt8"></div></div></div></div></div></div></div>');function uv(e,t){nt(t,!1);const n=()=>le(Ut,"$currentSong",c),r=()=>le(pn,"$stations",c),s=()=>le(Ke,"$status",c),i=()=>le(cn,"$favorites",c),[c,l]=yt(),u=C(),o=C(),v=C(),f=C(),d=C(),h=C(),w=C(),y=C(),_=C(),k=C();let N=0,q=C(0),Q=C(!1);function ie(){Kr.set(!1)}function Z(oe){const Ae=oe.target;Ae.closest(".bar-hit-area")||Ae.closest(".volume-hit-area")||(N=oe.touches[0].clientY,g(Q,!0))}function Y(oe){if(!a(Q))return;const Ae=oe.touches[0].clientY-N;Ae>0&&(oe.cancelable&&Ae>10&&oe.preventDefault(),g(q,Ae))}function A(){g(Q,!1),a(q)>150?ie():g(q,0)}let E=C(!1),V=C(0),F=C();function z(oe){const Ae=Math.floor(oe/60)||0,ce=Math.floor(oe%60)||0;return`${Ae}:${ce.toString().padStart(2,"0")}`}function B(oe,Ae){const ce=Ae.getBoundingClientRect(),Fe=oe.touches?oe.touches[0].clientX:oe.clientX;return Math.max(0,Math.min(1,(Fe-ce.left)/ce.width))}function O(oe){a(f)||(g(E,!0),g(V,B(oe,a(F))))}function $(oe){a(E)&&g(V,B(oe,a(F)))}function U(){a(E)&&!a(f)&&oa(a(V)*a(o)),g(E,!1)}let S=!1,R=C();function j(oe){S=!0;const Ae=Math.round(B(oe,a(R))*100);Ar(Ae),window.addEventListener("mousemove",I),window.addEventListener("mouseup",ee),window.addEventListener("touchmove",I,{passive:!1}),window.addEventListener("touchend",ee)}function I(oe){if(S){oe.preventDefault();const Ae=Math.round(B(oe,a(R))*100);Ar(Ae)}}function ee(){S=!1,window.removeEventListener("mousemove",I),window.removeEventListener("mouseup",ee),window.removeEventListener("touchmove",I),window.removeEventListener("touchend",ee)}function se(){const oe=(a(y)+1)%3;oe===0?(s().random&&Cn(),s().repeat&&Rn()):oe===1?(s().random||Cn(),s().repeat&&Rn()):oe===2&&(s().random&&Cn(),s().repeat||Rn())}te(()=>(n(),r()),()=>{g(u,Fn(n(),r(),n().stationName))}),te(()=>s(),()=>{g(o,s().duration||1)}),te(()=>s(),()=>{g(v,s().elapsed||0)}),te(()=>n(),()=>{g(f,n().file?.startsWith("http"))}),te(()=>s(),()=>{g(d,s().state==="play")}),te(()=>(a(d),a(E),a(f)),()=>{g(h,a(d)&&!a(E)&&!a(f))}),te(()=>(a(f),a(E),a(V),a(v),a(o)),()=>{g(w,a(f)?0:a(E)?a(V)*100:a(v)/a(o)*100)}),te(()=>s(),()=>{g(y,s().repeat?2:s().random?1:0)}),te(()=>s(),()=>{g(_,s().bitrate?`${s().bitrate} kbps`:s().format||"")}),te(()=>(n(),i()),()=>{g(k,n().file&&i().has(n().file))}),qt(),ot();var ae=cv(),H=p(ae),X=p(H),fe=p(X);re(fe,()=>(W(m),T(()=>m.CHEVRON_DOWN)));var G=x(H,2),K=x(G,4),M=p(K),D=p(M),ne=p(D);Bn(ne,{get src(){return a(u)},alt:"Cover",radius:"var(--radius-xl)",$$slots:{fallback:(oe,Ae)=>{var ce=sv(),Fe=p(ce);re(Fe,()=>(a(f),W(m),T(()=>a(f)?m.RADIO:m.ALBUMS))),b(oe,ce)}}});var he=x(M,2),_e=p(he),ve=p(_e),we=p(ve),Ee=x(ve,2),Pe=p(Ee),Ce=p(Pe),Se=x(Pe,2);{var Re=oe=>{var Ae=av(),ce=p(Ae);me(()=>ge(ce,a(_))),b(oe,Ae)};J(Se,oe=>{a(_)&&oe(Re)})}var pe=x(_e,2),ue=p(pe),Le=p(ue),Ge=p(Le);On(ue,oe=>g(F,oe),()=>a(F));var Ze=x(ue,2),lt=p(Ze),kt=p(lt),_n=x(lt,2),rn=p(_n),xt=x(pe,2),ze=p(xt);let Ue;var qe=p(ze);re(qe,()=>(a(k),W(m),T(()=>a(k)?m.HEART_FILLED:m.HEART)));var Je=x(ze,2),Et=p(Je);re(Et,()=>(W(m),T(()=>m.PREVIOUS)));var et=x(Je,2),ct=p(et);re(ct,()=>(s(),W(m),T(()=>s().state==="play"?m.PAUSE:m.PLAY)));var Tt=x(et,2),dr=p(Tt);re(dr,()=>(W(m),T(()=>m.NEXT)));var gn=x(Tt,2);{var It=oe=>{var Ae=ov();let ce;var Fe=p(Ae);{var Mt=ht=>{var Vt=Oe(),fr=be(Vt);re(fr,()=>(W(m),T(()=>m.REPEAT))),b(ht,Vt)},sn=ht=>{var Vt=Oe(),fr=be(Vt);re(fr,()=>(W(m),T(()=>m.SHUFFLE))),b(ht,Vt)};J(Fe,ht=>{a(y)===2?ht(Mt):ht(sn,!1)})}var Vn=x(Fe,2);{var ps=ht=>{var Vt=iv();b(ht,Vt)};J(Vn,ht=>{a(y)>0&&ht(ps)})}me(()=>ce=De(Ae,1,"btn-icon side-btn mode-btn svelte-1olwzt8",null,ce,{active:a(y)>0})),L("click",Ae,se),b(oe,Ae)},Yt=oe=>{var Ae=lv();b(oe,Ae)};J(gn,oe=>{a(f)?oe(Yt,!1):oe(It)})}var mn=x(xt,2),Lr=p(mn),ds=p(Lr);re(ds,()=>(W(m),T(()=>m.VOLUME)));var bn=x(Lr,2),fs=p(bn),wn=p(fs),hs=x(wn,2);On(bn,oe=>g(R,oe),()=>a(R)),me((oe,Ae)=>{Be(ae,`transform: translateY(${a(q)??""}px); transition: ${a(Q)?"none":"transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)"}`),Be(G,`background-image: url(${a(u)??""})`),Be(D,`transform: scale(${1-a(q)/3e3})`),Be(he,`opacity: ${1-a(q)/400}`),ge(we,(n(),T(()=>n().title||"Not Playing"))),ge(Ce,(n(),T(()=>n().stationName||n().artist||"Moode Audio"))),Be(Ge,`width: ${a(w)??""}%; transition: ${a(h)?"width 0.3s linear":"none"}`),ge(kt,oe),ge(rn,Ae),Ue=De(ze,1,"btn-icon side-btn svelte-1olwzt8",null,Ue,{liked:a(k)}),Be(wn,`width: ${s(),T(()=>s().volume)??""}%`),Be(hs,`left: ${s(),T(()=>s().volume)??""}%; right: auto;`)},[()=>(a(E),a(V),a(o),a(v),T(()=>a(E)?z(a(V)*a(o)):z(a(v)))),()=>(a(f),a(o),T(()=>a(f)?"LIVE":z(a(o))))]),L("touchstart",H,Z),L("touchmove",H,Y),L("touchend",H,A),L("click",H,ie),L("mousedown",ue,O),L("touchstart",ue,O,void 0,!0),L("mousemove",ue,function(...oe){(a(E)?$:null)?.apply(this,oe)}),L("touchmove",ue,function(...oe){(a(E)?$:null)?.apply(this,oe)},void 0,!0),L("mouseup",ue,U),L("touchend",ue,U),L("click",ze,()=>Un.toggleFavorite(n())),L("click",Je,()=>$r("previous")),L("click",et,function(...oe){cs?.apply(this,oe)}),L("click",Tt,()=>$r("next")),L("mousedown",bn,$t(j)),L("touchstart",bn,$t(j)),Bt(3,ae,()=>Ci,()=>({y:800,duration:300,opacity:1})),b(e,ae),rt(),l()}const vv="/assets/wave-logo-C1390byt.svg",qs={async syncLibrary(){if(ye(At))return;At.set(!0);const e=new Ni,t=window.location.origin+"/wave-api.php";e.postMessage({type:"START_SYNC",payload:{url:t}}),e.onmessage=n=>{const{type:r,status:s,count:i,message:c}=n.data;if(r==="PROGRESS"){const l={connecting:"Requesting library...",downloading:"Downloading data...",parsing:"Processing metadata...",saving:`Saving ${i} tracks...`};l[s]&&Te(l[s],"info")}r==="DONE"&&(Te(`Library updated: ${i} tracks`,"success"),At.set(!1),e.terminate()),r==="ERROR"&&(console.error("[API] Sync Error:",c),Te(`Sync Failed: ${c}`,"error"),At.set(!1),e.terminate())},e.onerror=n=>{console.error("[API] Worker crash:",n),Te("Sync worker crashed","error"),At.set(!1),e.terminate()}},async loadRadioStations(){if(!ye(jr)){jr.set(!0);try{const t=await fetch(_c.STATIONS(!1));if(!t.ok)throw new Error("Network error");const n=await t.json();if(n.error)throw new Error(n.error);if(!Array.isArray(n))throw new Error("Invalid response format");const r=n.map(s=>({id:s.id,name:s.name,file:s.station,station:s.station,image:s.logo,genre:s.genre||"Radio"}));r.sort((s,i)=>s.name.localeCompare(i.name,void 0,{sensitivity:"base"})),pn.set(r)}catch(e){console.error("[API] Failed to load stations",e),Te("Failed to load radio","error")}finally{jr.set(!1)}}}};var dv=P('<div class="backdrop svelte-ji5owg"></div>'),fv=P('<button><span class="icon svelte-ji5owg"><!></span> <span> </span></button>'),hv=P('<!> <aside><div class="header svelte-ji5owg"><img alt="Logo" class="logo svelte-ji5owg"/> <button class="btn-icon mobile-close svelte-ji5owg"><!></button></div> <div class="scroll-area scroll-y svelte-ji5owg"><nav class="svelte-ji5owg"><!> <button><span class="icon svelte-ji5owg"><!></span> <span>Search</span></button> <div class="sep svelte-ji5owg"></div> <button class="nav-item sync svelte-ji5owg"><span><!></span> <span> </span></button></nav> <div class="settings svelte-ji5owg"><div class="sep svelte-ji5owg"></div> <div class="label svelte-ji5owg">MPD Server IP</div> <div class="row svelte-ji5owg"><input type="text" placeholder="192.168..." class="svelte-ji5owg"/> <button class="save svelte-ji5owg">Save</button></div> <div class="footer svelte-ji5owg">Moode WaveUI</div></div></div></aside>',1);function pv(e,t){nt(t,!1);const n=()=>le(At,"$isSyncingLibrary",s),r=()=>le(vt,"$activeMenuTab",s),[s,i]=yt(),c=C();let l=Ye(t,"isOpen",8,!1);const u=na();let o=C(0),v=C(0),f=C(!1);const d=[{id:"queue",label:"Queue",icon:m.MENU},{id:"favorites",label:"Favorites",icon:m.HEART},{id:"artists",label:"Artists",icon:m.ARTISTS},{id:"albums",label:"Albums",icon:m.ALBUMS},{id:"playlists",label:"Playlists",icon:m.PLAYLISTS},{id:"radio",label:"Radio",icon:m.RADIO}];let h=C(Mr.MOODE_IP);function w(D){window.location.hash=`/${D}`,u("close")}async function y(){n()||(await qs.syncLibrary(),window.location.hash="/artists")}function _(D){l()&&(g(o,D.touches[0].clientX),g(v,a(o)),g(f,!0))}function k(D){a(f)&&g(v,D.touches[0].clientX)}function N(){a(f)&&(a(v)-a(o)<-70&&u("close"),g(f,!1),g(o,0),g(v,0))}te(()=>(a(f),a(v),a(o)),()=>{g(c,a(f)?Math.min(0,a(v)-a(o)):0)}),qt(),ot();var q=hv(),Q=be(q);{var ie=D=>{var ne=dv();L("click",ne,()=>u("close")),Bt(3,ne,()=>Dn,()=>({duration:200})),b(D,ne)};J(Q,D=>{l()&&D(ie)})}var Z=x(Q,2);let Y,A;var E=p(Z),V=p(E),F=x(V,2),z=p(F);re(z,()=>(W(m),T(()=>m.CLOSE)));var B=x(E,2),O=p(B),$=p(O);Lt($,1,()=>d,fn,(D,ne)=>{var he=fv();let _e;var ve=p(he),we=p(ve);re(we,()=>(a(ne),T(()=>a(ne).icon)));var Ee=x(ve,2),Pe=p(Ee);me(()=>{_e=De(he,1,"nav-item svelte-ji5owg",null,_e,{active:r()===a(ne).id}),ge(Pe,(a(ne),T(()=>a(ne).label)))}),L("click",he,()=>w(a(ne).id)),b(D,he)});var U=x($,2);let S;var R=p(U),j=p(R);re(j,()=>(W(m),T(()=>m.SEARCH)));var I=x(U,4),ee=p(I);let se;var ae=p(ee);re(ae,()=>(W(m),T(()=>m.SYNC)));var H=x(ee,2),X=p(H),fe=x(O,2),G=x(p(fe),4),K=p(G),M=x(K,2);me(()=>{Y=De(Z,1,"side-menu svelte-ji5owg",null,Y,{"mobile-open":l()}),A=Be(Z,"",A,{transform:l()?`translateX(${a(c)}px)`:"",transition:a(f)?"none":"transform 0.3s ease"}),zt(V,"src",vv),S=De(U,1,"nav-item svelte-ji5owg",null,S,{active:r()==="search"}),I.disabled=n(),se=De(ee,1,"icon svelte-ji5owg",null,se,{spin:n()}),ge(X,n()?"Syncing...":"Update Library")}),L("click",F,()=>u("close")),L("click",U,()=>w("search")),L("click",I,y),Js(K,()=>a(h),D=>g(h,D)),L("click",M,()=>{Mr.setMoodeIp(a(h)),location.reload()}),L("touchstart",Z,_),L("touchmove",Z,k),L("touchend",Z,N),b(e,q),rt(),i()}var _v=P('<div slot="header" class="view-header-simple svelte-185fgrr"><div class="header-info svelte-185fgrr"><h1 class="header-title svelte-185fgrr">Current Queue</h1> <span class="header-subtitle svelte-185fgrr"> </span></div> <div class="header-actions svelte-185fgrr"><button class="btn-action svelte-185fgrr" title="Save Queue"><!></button> <button><!></button></div></div>'),gv=P('<div slot="row" class="svelte-185fgrr"><!></div>'),mv=P('<div class="view-container svelte-185fgrr"><!></div>');function bv(e,t){nt(t,!1);const n=()=>le(Sr,"$queue",r),[r,s]=yt();let i=C(!1);function c(){g(i,!a(i))}function l(h){a(i)||ia(`play ${h}`)}function u(h){Pt.removeFromQueue(h)}async function o(){const h=prompt("Enter playlist name:");h&&(await Pt.saveQueue(h),la())}function v(h,w){Pt.moveTrack(h,w)}ot();var f=mv(),d=p(f);vs(d,{get itemsStore(){return Sr},get isEditMode(){return a(i)},emptyText:"Queue is empty",onMoveItem:v,$$slots:{header:(h,w)=>{var y=_v(),_=p(y),k=x(p(_),2),N=p(k),q=x(_,2),Q=p(q),ie=p(Q);re(ie,()=>m.SAVE);var Z=x(Q,2);let Y;var A=p(Z);re(A,()=>a(i)?m.ACCEPT:m.EDIT),me(()=>{ge(N,`${n().length??""} track${n().length===1?"":"s"}`),Y=De(Z,1,"btn-action svelte-185fgrr",null,Y,{active:a(i)}),zt(Z,"title",a(i)?"Finish Editing":"Edit Queue")}),L("click",Q,o),L("click",Z,c),b(h,y)},row:(h,w)=>{var y=gv();const _=He(()=>w.item),k=He(()=>w.index),N=He(()=>w.startDrag);var q=p(y);us(q,{get track(){return a(_)},get index(){return a(k)},get isEditable(){return a(i)},$$events:{play:()=>l(a(k)),remove:()=>u(a(k)),startdrag(...Q){a(N)?.apply(this,Q)}}}),b(h,y)}}}),b(e,f),rt(),s()}var wv=P('<div class="toast-container svelte-k2bvk7"><div> </div></div>'),yv=P('<button class="back-btn svelte-k2bvk7"><span class="icon-inline svelte-k2bvk7"><!></span> Back</button>'),kv=P('<div class="view-title svelte-k2bvk7"><!></div>'),xv=P('<div class="app-container svelte-k2bvk7"><div class="app-layout svelte-k2bvk7"><!> <!> <main class="content-area svelte-k2bvk7"><header class="top-bar svelte-k2bvk7"><button class="hamburger-btn svelte-k2bvk7"><!></button> <!></header> <div class="scroll-container svelte-k2bvk7"><div class="view-wrapper svelte-k2bvk7"><!></div></div></main></div> <!></div> <!>',1);function Ev(e,t){nt(t,!1);const n=()=>le(bt,"$navigationStack",c),r=()=>le(Os,"$toastMessage",c),s=()=>le(vt,"$activeMenuTab",c),i=()=>le(Kr,"$isFullPlayerOpen",c),[c,l]=yt();let u=C(!1);vr(()=>{window.history.replaceState({depth:n().length},"","");const O=()=>void 0;return window.addEventListener("popstate",O),()=>window.removeEventListener("popstate",O)}),ot();var o=xv(),v=be(o),f=p(v),d=p(f);{var h=O=>{var $=wv(),U=p($),S=p(U);me(()=>{De(U,1,`toast-body ${r().type??""}`,"svelte-k2bvk7"),ge(S,r().text)}),Bt(3,$,()=>Ci,()=>({y:-50,duration:300})),b(O,$)};J(d,O=>{r()&&O(h)})}var w=x(d,2);pv(w,{get isOpen(){return a(u)},$$events:{close:()=>g(u,!1)}});var y=x(w,2),_=p(y),k=p(_),N=p(k);re(N,()=>m.MENU);var q=x(k,2);{var Q=O=>{var $=yv(),U=p($),S=p(U);re(S,()=>m.BACK),L("click",$,function(...R){pc?.apply(this,R)}),b(O,$)},ie=O=>{var $=kv(),U=p($);{var S=j=>{var I=Wn("Radio");b(j,I)},R=j=>{var I=Oe(),ee=be(I);{var se=H=>{var X=Wn("Playlists");b(H,X)},ae=H=>{var X=Oe(),fe=be(X);{var G=M=>{var D=Wn("Search");b(M,D)},K=M=>{var D=Oe(),ne=be(D);{var he=ve=>{var we=Wn("Queue");b(ve,we)},_e=ve=>{var we=Oe(),Ee=be(we);{var Pe=Se=>{var Re=Wn("Favorites");b(Se,Re)},Ce=Se=>{var Re=Wn();me(pe=>ge(Re,pe),[()=>(s()||"Library").charAt(0).toUpperCase()+(s()||"library").slice(1)]),b(Se,Re)};J(Ee,Se=>{s()==="favorites"?Se(Pe):Se(Ce,!1)},!0)}b(ve,we)};J(ne,ve=>{s()==="queue"?ve(he):ve(_e,!1)},!0)}b(M,D)};J(fe,M=>{s()==="search"?M(G):M(K,!1)},!0)}b(H,X)};J(ee,H=>{s()==="playlists"?H(se):H(ae,!1)},!0)}b(j,I)};J(U,j=>{s()==="radio"?j(S):j(R,!1)})}b(O,$)};J(q,O=>{n().length>1?O(Q):O(ie,!1)})}var Z=x(_,2),Y=p(Z),A=p(Y);{var E=O=>{$u(O,{})},V=O=>{var $=Oe(),U=be($);{var S=j=>{bv(j,{})},R=j=>{var I=Oe(),ee=be(I);{var se=H=>{Ou(H,{})},ae=H=>{var X=Oe(),fe=be(X);{var G=M=>{Xu(M,{})},K=M=>{_u(M,{get activeCategory(){return s()}})};J(fe,M=>{s()==="search"?M(G):M(K,!1)},!0)}b(H,X)};J(ee,H=>{s()==="playlists"||s()==="favorites"?H(se):H(ae,!1)},!0)}b(j,I)};J(U,j=>{s()==="queue"?j(S):j(R,!1)},!0)}b(O,$)};J(A,O=>{s()==="radio"?O(E):O(V,!1)})}var F=x(f,2);rv(F,{});var z=x(v,2);{var B=O=>{uv(O,{})};J(z,O=>{i()&&O(B)})}L("click",k,()=>g(u,!0)),b(e,o),rt(),l()}var Tv=P('<button class="back-btn-area svelte-l8h85k"><span class="back-icon svelte-l8h85k"><!></span></button> <span class="header-title svelte-l8h85k">Select Playlist</span>',1),Mv=P('<div class="track-info svelte-l8h85k"><div class="title text-ellipsis svelte-l8h85k"> </div> <div class="artist text-ellipsis svelte-l8h85k"> </div></div>'),Sv=P('<button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span> </span></button>'),Av=P('<div class="empty-msg svelte-l8h85k">No custom playlists</div>'),$v=P("<!> <!>",1),Pv=P('<button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Go to Album</span></button> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Go to Artist</span></button>',1),Cv=P('<div class="sep svelte-l8h85k"></div> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Remove from Playlist</span></button>',1),Rv=P('<div class="sep svelte-l8h85k"></div> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Remove from Queue</span></button>',1),Lv=P('<button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Play Next</span></button> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Add to Queue</span></button> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Add to Playlist...</span></button> <!> <button class="menu-row svelte-l8h85k"><span><!></span> <span> </span></button> <!> <!>',1),zv=P('<div class="backdrop svelte-l8h85k"><div class="menu-card svelte-l8h85k"><div class="menu-header svelte-l8h85k"><!></div> <div class="menu-items scroll-y svelte-l8h85k"><!></div></div></div>');function Iv(e,t){nt(t,!1);const n=()=>le(sa,"$contextMenu",i),r=()=>le(cn,"$favorites",i),s=()=>le(ra,"$playlists",i),[i,c]=yt(),l=C(),u=C(),o=C(),v=C(),f=C(),d=C();let h=C(),w=C(),y=C(),_=C(0),k=C(0),N=C("main");function q(){Wt()}function Q(){n().track&&Pt.playNext(n().track.file),Wt()}function ie(){n().track&&Pt.addToQueue(n().track.file),Wt()}function Z(){n().track&&Un.toggleFavorite(n().track),Wt()}function Y(){const S=n().track;S&&S.album&&dn("tracks_by_album",{name:S.album,artist:S.artist}),Wt()}function A(){const S=n().track;S&&S.artist&&dn("albums_by_artist",{name:S.artist}),Wt()}async function E(){const{playlistName:S,index:R}=n().context;S&&R!==null&&(xn.update(j=>{const I=[...j];return I.splice(R,1),I}),await Un.removeFromPlaylist(S,R)),Wt()}function V(){const{index:S}=n().context;S!=null&&Pt.removeFromQueue(S),Wt()}function F(){g(N,"playlists")}function z(){g(N,"main")}async function B(S){const R=n().track;if(R)try{const j=S.replace(/"/g,'\\"'),I=R.file.replace(/"/g,'\\"');await de.send(`playlistadd "${j}" "${I}"`),Te(`Added to "${S}"`,"success"),Wt()}catch(j){console.error(j),Te("Failed to add","error")}}te(()=>n(),()=>{n().isOpen&&g(N,"main")}),te(()=>(n(),r()),()=>{g(l,n().track&&r().has(n().track.file))}),te(()=>n(),()=>{g(u,n().track&&(n().track.file.includes("http")||n().track.file.includes("://")))}),te(()=>n(),()=>{g(o,n().context?.type==="playlist")}),te(()=>n(),()=>{g(v,n().context?.type==="queue")}),te(()=>n(),()=>{g(f,n().context?.source==="miniplayer")}),te(()=>(n(),a(k),a(_),a(h),a(f),a(w)),()=>{g(d,(()=>{if(!n().isOpen)return"";const S=n().triggerRect,R=n().x,j=n().y,I=a(k)||220,ee=a(_)||320;if(a(h)<=768&&a(f)&&S)return`
        position: fixed; 
        bottom: ${a(w)-S.top}px; 
        left: 50%; 
        transform: translateX(-50%); 
        margin: 0; 
        transform-origin: bottom center;
      `;let se=0,ae=0,H="top left";if(S){const fe=S.left+S.width/2,G=S.top+S.height/2,K=fe>a(h)/2,M=G>a(w)/2;K?(se=S.right-I,H=M?"bottom right":"top right"):(se=S.left,H=M?"bottom left":"top left"),M?ae=S.top-ee:ae=S.bottom}else se=R,ae=j,se+I>a(h)&&(se=a(h)-I-10),ae+ee>a(w)&&(ae=a(w)-ee-10);const X=8;return se<X&&(se=X),se+I>a(h)-X&&(se=a(h)-I-X),ae<X&&(ae=X),ae+ee>a(w)-X&&(ae=a(w)-ee-X),`position: fixed; top: ${ae}px; left: ${se}px; margin: 0; transform-origin: ${H};`})())}),qt(),ot();var O=Oe(),$=be(O);{var U=S=>{var R=zv(),j=p(R),I=p(j),ee=p(I);{var se=K=>{var M=Tv(),D=be(M),ne=p(D),he=p(ne);re(he,()=>(W(m),T(()=>m.BACK))),L("click",D,z),b(K,M)},ae=K=>{var M=Mv(),D=p(M),ne=p(D),he=x(D,2),_e=p(he);me(()=>{ge(ne,(n(),T(()=>n().track.title))),ge(_e,(n(),T(()=>n().track.artist)))}),b(K,M)};J(ee,K=>{a(N)==="playlists"?K(se):K(ae,!1)})}var H=x(I,2),X=p(H);{var fe=K=>{var M=$v(),D=be(M);Lt(D,1,s,fn,(_e,ve)=>{var we=Oe(),Ee=be(we);{var Pe=Ce=>{var Se=Sv(),Re=p(Se),pe=p(Re);re(pe,()=>(W(m),T(()=>m.PLAYLISTS)));var ue=x(Re,2),Le=p(ue);me(()=>ge(Le,(a(ve),T(()=>a(ve).name)))),L("click",Se,()=>B(a(ve).name)),b(Ce,Se)};J(Ee,Ce=>{a(ve),T(()=>a(ve).name!=="Favorites")&&Ce(Pe)})}b(_e,we)});var ne=x(D,2);{var he=_e=>{var ve=Av();b(_e,ve)};J(ne,_e=>{s(),T(()=>s().filter(ve=>ve.name!=="Favorites").length===0)&&_e(he)})}b(K,M)},G=K=>{var M=Lv(),D=be(M),ne=p(D),he=p(ne);re(he,()=>(W(m),T(()=>m.NEXT)));var _e=x(D,2),ve=p(_e),we=p(ve);re(we,()=>(W(m),T(()=>m.MENU)));var Ee=x(_e,2),Pe=p(Ee),Ce=p(Pe);re(Ce,()=>(W(m),T(()=>m.ADD_TO_PLAYLIST||m.ADD)));var Se=x(Ee,2);{var Re=ze=>{var Ue=Pv(),qe=be(Ue),Je=p(qe),Et=p(Je);re(Et,()=>(W(m),T(()=>m.ALBUM_LINK||m.ALBUMS)));var et=x(qe,2),ct=p(et),Tt=p(ct);re(Tt,()=>(W(m),T(()=>m.ARTIST_LINK||m.ARTISTS))),L("click",qe,Y),L("click",et,A),b(ze,Ue)};J(Se,ze=>{a(u)||ze(Re)})}var pe=x(Se,2),ue=p(pe);let Le;var Ge=p(ue);re(Ge,()=>(a(l),W(m),T(()=>a(l)?m.HEART_FILLED:m.HEART)));var Ze=x(ue,2),lt=p(Ze),kt=x(pe,2);{var _n=ze=>{var Ue=Cv(),qe=x(be(Ue),2),Je=p(qe),Et=p(Je);re(Et,()=>(W(m),T(()=>m.REMOVE))),L("click",qe,E),b(ze,Ue)};J(kt,ze=>{a(o)&&ze(_n)})}var rn=x(kt,2);{var xt=ze=>{var Ue=Rv(),qe=x(be(Ue),2),Je=p(qe),Et=p(Je);re(Et,()=>(W(m),T(()=>m.REMOVE))),L("click",qe,V),b(ze,Ue)};J(rn,ze=>{a(v)&&ze(xt)})}me(()=>{Le=De(ue,1,"icon svelte-l8h85k",null,Le,{liked:a(l)}),ge(lt,a(l)?"Unlike":"Like")}),L("click",D,Q),L("click",_e,ie),L("click",Ee,F),L("click",pe,Z),b(K,M)};J(X,K=>{a(N)==="playlists"?K(fe):K(G,!1)})}On(j,K=>g(y,K),()=>a(y)),me(()=>Be(j,a(d))),Ea(j,"clientHeight",K=>g(_,K)),Ea(j,"clientWidth",K=>g(k,K)),Bt(3,j,()=>Ml,()=>({start:.95,duration:100})),L("click",j,$t(function(K){Xr.call(this,t,K)})),L("click",R,q),Bt(3,R,()=>Dn,()=>({duration:100})),b(S,R)};J($,S=>{n(),T(()=>n().isOpen)&&S(U)})}Ma("innerWidth",S=>g(h,S)),Ma("innerHeight",S=>g(w,S)),b(e,O),rt(),c()}const Ua={init(){this.handleHashChange(),window.addEventListener("hashchange",()=>this.handleHashChange())},handleHashChange(){let e=window.location.hash.slice(1);for(;e.startsWith("/");)e=e.slice(1);if(!e){(ye(bt).length>1||ye(vt)==="search")&&(this.setRootTab("artists"),window.location.hash="/artists");return}let t,n;const r=e.indexOf("/");r===-1?(t=e,n=null):(t=e.slice(0,r),n=e.slice(r+1));const s=n?decodeURIComponent(n):null,c=hc()||(s?{name:s,displayName:s}:null);switch(console.log(`[Router] Match: ${t}, Param: ${s}`),t){case"queue":this.setRootTab("queue");break;case"radio":this.setRootTab("radio");break;case"playlists":this.setRootTab("playlists");break;case"favorites":vt.set("favorites"),bt.set([{view:"root"},{view:"details",data:{name:"Favorites",displayName:"Favorites"}}]);break;case"artists":this.setRootTab("artists");break;case"albums":this.setRootTab("albums");break;case"search":vt.set("search"),s&&Gr.set(s),bt.set([{view:"root"}]);break;case"album":vt.set("albums"),bt.set([{view:"root"},{view:"tracks_by_album",data:c}]);break;case"artist":vt.set("artists"),bt.set([{view:"root"},{view:"albums_by_artist",data:c}]);break;case"playlist":vt.set("playlists"),bt.set([{view:"root"},{view:"details",data:c}]);break;default:console.warn(`[Router] Unknown route: ${t}`),this.setRootTab("artists");break}},setRootTab(e){vt.set(e),bt.set([{view:"root"}])},updateUrl(e,t){let n="";if(e==="root"){const r=ye(vt);if(r==="search"){const s=ye(Gr);n=s?`search/${encodeURIComponent(s)}`:"search"}else n=r}else if(e==="details"){const r=t.name||t;r==="Favorites"?n="favorites":n=`playlist/${encodeURIComponent(r)}`}else if(e==="albums_by_artist"){const r=t.name||t;n=`artist/${encodeURIComponent(r)}`}else if(e==="tracks_by_album"){const r=t.name||t;n=`album/${encodeURIComponent(r)}`}else e==="queue"&&(n="queue");if(n){const r=`#/${n}`;decodeURIComponent(window.location.hash)!==decodeURIComponent(r)&&(window.location.hash=`/${n}`)}}};var Nv=P("<!> <!>",1);function Ov(e,t){nt(t,!1),vr(async()=>{Ua.init(),fc((i,c)=>{Ua.updateUrl(i,c)}),Oi(),qs.loadRadioStations();try{const i=await er.getArtists();i.length>0?console.log(`[App] Database ready. Loaded ${i.length} artists from cache.`):(console.log("[App] Database empty. Starting initial sync..."),qs.syncLibrary())}catch(i){console.error("[App] DB Check failed:",i),Te("Local DB error. Please update library manually.","error")}}),ot();var n=Nv(),r=be(n);Ev(r,{});var s=x(r,2);Iv(s,{}),b(e,n),rt()}tl(Ov,{target:document.getElementById("app")});
