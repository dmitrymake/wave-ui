(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function a(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();const Fn=!1;var _n=Array.isArray,lo=Array.prototype.indexOf,mn=Array.from,si=Object.defineProperty,ua=Object.getOwnPropertyDescriptor,ii=Object.getOwnPropertyDescriptors,co=Object.prototype,vo=Array.prototype,ss=Object.getPrototypeOf,Ss=Object.isExtensible;function uo(e){return typeof e=="function"}const Ft=()=>{};function fo(e){return e()}function ln(e){for(var r=0;r<e.length;r++)e[r]()}function oi(){var e,r,t=new Promise((a,s)=>{e=a,r=s});return{promise:t,resolve:e,reject:r}}const wt=2,is=4,bn=8,ho=1<<24,ur=16,Sr=32,ra=64,wn=128,rr=512,mt=1024,Rt=2048,ar=4096,Ut=8192,wr=16384,yn=32768,Gr=65536,Ms=1<<17,li=1<<18,wa=1<<19,ci=1<<20,_r=1<<25,Zr=32768,qn=1<<21,os=1<<22,zr=1<<23,Hr=Symbol("$state"),po=Symbol("legacy props"),go=Symbol(""),va=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function ls(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function _o(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function mo(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function bo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function wo(e){throw new Error("https://svelte.dev/e/effect_orphan")}function yo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ko(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function xo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Eo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function So(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Mo(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const To=1,$o=2,vi=4,Ao=8,Co=16,Po=1,Lo=2,zo=4,Ro=8,Io=16,No=1,Do=2,Oo=4,jo=1,Fo=2,Et=Symbol(),qo="http://www.w3.org/1999/xhtml";function Bo(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function di(e){return e===this.v}function cs(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function ui(e){return!cs(e,this.v)}let ya=!1,Uo=!1;function Ho(){ya=!0}let lt=null;function ha(e){lt=e}function yt(e,r=!1,t){lt={p:lt,i:!1,c:null,e:null,s:e,x:null,l:ya&&!r?{s:null,u:null,$:[]}:null}}function kt(e){var r=lt,t=r.e;if(t!==null){r.e=null;for(var a of t)Ti(a)}return r.i=!0,lt=r.p,{}}function Ha(){return!ya||lt!==null&&lt.l===null}let qr=[];function fi(){var e=qr;qr=[],ln(e)}function aa(e){if(qr.length===0&&!Pa){var r=qr;queueMicrotask(()=>{r===qr&&fi()})}qr.push(e)}function Vo(){for(;qr.length>0;)fi()}function hi(e){var r=Ge;if(r===null)return Qe.f|=zr,e;if((r.f&yn)===0){if((r.f&wn)===0)throw e;r.b.error(e)}else pa(e,r)}function pa(e,r){for(;r!==null;){if((r.f&wn)!==0)try{r.b.error(e);return}catch(t){e=t}r=r.parent}throw e}const Qa=new Set;let tt=null,tn=null,Kt=null,Yt=[],kn=null,Bn=!1,Pa=!1;class or{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#a=0;#l=null;#s=new Set;#n=new Set;skipped_effects=new Set;is_fork=!1;is_deferred(){return this.is_fork||this.#a>0}process(r){Yt=[],tn=null,this.apply();var t={parent:null,effect:null,effects:[],render_effects:[]};for(const a of r)this.#i(a,t);this.is_fork||this.#v(),this.is_deferred()?(this.#o(t.effects),this.#o(t.render_effects)):(tn=this,tt=null,Ts(t.render_effects),Ts(t.effects),tn=null,this.#l?.resolve()),Kt=null}#i(r,t){r.f^=mt;for(var a=r.first;a!==null;){var s=a.f,i=(s&(Sr|ra))!==0,o=i&&(s&mt)!==0,l=o||(s&Ut)!==0||this.skipped_effects.has(a);if((a.f&wn)!==0&&a.b?.is_pending()&&(t={parent:t,effect:a,effects:[],render_effects:[]}),!l&&a.fn!==null){i?a.f^=mt:(s&is)!==0?t.effects.push(a):xa(a)&&((a.f&ur)!==0&&this.#s.add(a),_a(a));var d=a.first;if(d!==null){a=d;continue}}var c=a.parent;for(a=a.next;a===null&&c!==null;)c===t.effect&&(this.#o(t.effects),this.#o(t.render_effects),t=t.parent),a=c.next,c=c.parent}}#o(r){for(const t of r)(t.f&Rt)!==0?this.#s.add(t):(t.f&ar)!==0&&this.#n.add(t),this.#c(t.deps),bt(t,mt)}#c(r){if(r!==null)for(const t of r)(t.f&wt)===0||(t.f&Zr)===0||(t.f^=Zr,this.#c(t.deps))}capture(r,t){this.previous.has(r)||this.previous.set(r,t),(r.f&zr)===0&&(this.current.set(r,r.v),Kt?.set(r,r.v))}activate(){tt=this,this.apply()}deactivate(){tt===this&&(tt=null,Kt=null)}flush(){if(this.activate(),Yt.length>0){if(pi(),tt!==null&&tt!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const r of this.#t)r(this);this.#t.clear()}#v(){if(this.#a===0){for(const r of this.#e)r();this.#e.clear()}this.#r===0&&this.#d()}#d(){if(Qa.size>1){this.previous.clear();var r=Kt,t=!0,a={parent:null,effect:null,effects:[],render_effects:[]};for(const i of Qa){if(i===this){t=!1;continue}const o=[];for(const[d,c]of this.current){if(i.current.has(d))if(t&&c!==i.current.get(d))i.current.set(d,c);else continue;o.push(d)}if(o.length===0)continue;const l=[...i.current.keys()].filter(d=>!this.current.has(d));if(l.length>0){var s=Yt;Yt=[];const d=new Set,c=new Map;for(const u of o)gi(u,l,d,c);if(Yt.length>0){tt=i,i.apply();for(const u of Yt)i.#i(u,a);i.deactivate()}Yt=s}}tt=null,Kt=r}this.committed=!0,Qa.delete(this)}increment(r){this.#r+=1,r&&(this.#a+=1)}decrement(r){this.#r-=1,r&&(this.#a-=1),this.revive()}revive(){for(const r of this.#s)this.#n.delete(r),bt(r,Rt),Jr(r);for(const r of this.#n)bt(r,ar),Jr(r);this.flush()}oncommit(r){this.#e.add(r)}ondiscard(r){this.#t.add(r)}settled(){return(this.#l??=oi()).promise}static ensure(){if(tt===null){const r=tt=new or;Qa.add(tt),Pa||or.enqueue(()=>{tt===r&&r.flush()})}return tt}static enqueue(r){aa(r)}apply(){}}function Yo(e){var r=Pa;Pa=!0;try{for(var t;;){if(Vo(),Yt.length===0&&(tt?.flush(),Yt.length===0))return kn=null,t;pi()}}finally{Pa=r}}function pi(){var e=Yr;Bn=!0;var r=null;try{var t=0;for(vn(!0);Yt.length>0;){var a=or.ensure();if(t++>1e3){var s,i;Wo()}a.process(Yt),Rr.clear()}}finally{Bn=!1,vn(e),kn=null}}function Wo(){try{yo()}catch(e){pa(e,kn)}}let pr=null;function Ts(e){var r=e.length;if(r!==0){for(var t=0;t<r;){var a=e[t++];if((a.f&(wr|Ut))===0&&xa(a)&&(pr=new Set,_a(a),a.deps===null&&a.first===null&&a.nodes===null&&(a.teardown===null&&a.ac===null?Pi(a):a.fn=null),pr?.size>0)){Rr.clear();for(const s of pr){if((s.f&(wr|Ut))!==0)continue;const i=[s];let o=s.parent;for(;o!==null;)pr.has(o)&&(pr.delete(o),i.push(o)),o=o.parent;for(let l=i.length-1;l>=0;l--){const d=i[l];(d.f&(wr|Ut))===0&&_a(d)}}pr.clear()}}pr=null}}function gi(e,r,t,a){if(!t.has(e)&&(t.add(e),e.reactions!==null))for(const s of e.reactions){const i=s.f;(i&wt)!==0?gi(s,r,t,a):(i&(os|ur))!==0&&(i&Rt)===0&&_i(s,r,a)&&(bt(s,Rt),Jr(s))}}function _i(e,r,t){const a=t.get(e);if(a!==void 0)return a;if(e.deps!==null)for(const s of e.deps){if(r.includes(s))return!0;if((s.f&wt)!==0&&_i(s,r,t))return t.set(s,!0),!0}return t.set(e,!1),!1}function Jr(e){for(var r=kn=e;r.parent!==null;){r=r.parent;var t=r.f;if(Bn&&r===Ge&&(t&ur)!==0&&(t&li)===0)return;if((t&(ra|Sr))!==0){if((t&mt)===0)return;r.f^=mt}}Yt.push(r)}function Qo(e){let r=0,t=ea(0),a;return()=>{Na()&&(n(t),ka(()=>(r===0&&(a=b(()=>e(()=>La(t)))),r+=1,()=>{aa(()=>{r-=1,r===0&&(a?.(),a=void 0,La(t))})})))}}var Ko=Gr|wa|wn;function Xo(e,r,t){new Go(e,r,t)}class Go{parent;#e=!1;#t;#r=null;#a;#l;#s;#n=null;#i=null;#o=null;#c=null;#v=null;#d=0;#u=0;#h=!1;#f=null;#b=Qo(()=>(this.#f=ea(this.#d),()=>{this.#f=null}));constructor(r,t,a){this.#t=r,this.#a=t,this.#l=a,this.parent=Ge.b,this.#e=!!this.#a.pending,this.#s=ds(()=>{Ge.b=this;{var s=this.#_();try{this.#n=Wt(()=>a(s))}catch(i){this.error(i)}this.#u>0?this.#g():this.#e=!1}return()=>{this.#v?.remove()}},Ko)}#w(){try{this.#n=Wt(()=>this.#l(this.#t))}catch(r){this.error(r)}this.#e=!1}#y(){const r=this.#a.pending;r&&(this.#i=Wt(()=>r(this.#t)),or.enqueue(()=>{var t=this.#_();this.#n=this.#p(()=>(or.ensure(),Wt(()=>this.#l(t)))),this.#u>0?this.#g():(Vr(this.#i,()=>{this.#i=null}),this.#e=!1)}))}#_(){var r=this.#t;return this.#e&&(this.#v=yr(),this.#t.before(this.#v),r=this.#v),r}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#a.pending}#p(r){var t=Ge,a=Qe,s=lt;vr(this.#s),Lt(this.#s),ha(this.#s.ctx);try{return r()}catch(i){return hi(i),null}finally{vr(t),Lt(a),ha(s)}}#g(){const r=this.#a.pending;this.#n!==null&&(this.#c=document.createDocumentFragment(),this.#c.append(this.#v),Ri(this.#n,this.#c)),this.#i===null&&(this.#i=Wt(()=>r(this.#t)))}#m(r){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(r);return}this.#u+=r,this.#u===0&&(this.#e=!1,this.#i&&Vr(this.#i,()=>{this.#i=null}),this.#c&&(this.#t.before(this.#c),this.#c=null))}update_pending_count(r){this.#m(r),this.#d+=r,this.#f&&ga(this.#f,this.#d)}get_effect_pending(){return this.#b(),n(this.#f)}error(r){var t=this.#a.onerror;let a=this.#a.failed;if(this.#h||!t&&!a)throw r;this.#n&&(zt(this.#n),this.#n=null),this.#i&&(zt(this.#i),this.#i=null),this.#o&&(zt(this.#o),this.#o=null);var s=!1,i=!1;const o=()=>{if(s){Bo();return}s=!0,i&&Mo(),or.ensure(),this.#d=0,this.#o!==null&&Vr(this.#o,()=>{this.#o=null}),this.#e=this.has_pending_snippet(),this.#n=this.#p(()=>(this.#h=!1,Wt(()=>this.#l(this.#t)))),this.#u>0?this.#g():this.#e=!1};var l=Qe;try{Lt(null),i=!0,t?.(r,o),i=!1}catch(d){pa(d,this.#s&&this.#s.parent)}finally{Lt(l)}a&&aa(()=>{this.#o=this.#p(()=>{or.ensure(),this.#h=!0;try{return Wt(()=>{a(this.#t,()=>r,()=>o)})}catch(d){return pa(d,this.#s.parent),null}finally{this.#h=!1}})})}}function Zo(e,r,t,a){const s=Ha()?Va:ut;if(t.length===0&&e.length===0){a(r.map(s));return}var i=tt,o=Ge,l=Jo();function d(){Promise.all(t.map(c=>el(c))).then(c=>{l();try{a([...r.map(s),...c])}catch(u){(o.f&wr)===0&&pa(u,o)}i?.deactivate(),cn()}).catch(c=>{pa(c,o)})}e.length>0?Promise.all(e).then(()=>{l();try{return d()}finally{i?.deactivate(),cn()}}):d()}function Jo(){var e=Ge,r=Qe,t=lt,a=tt;return function(i=!0){vr(e),Lt(r),ha(t),i&&a?.activate()}}function cn(){vr(null),Lt(null),ha(null)}function Va(e){var r=wt|Rt,t=Qe!==null&&(Qe.f&wt)!==0?Qe:null;return Ge!==null&&(Ge.f|=wa),{ctx:lt,deps:null,effects:null,equals:di,f:r,fn:e,reactions:null,rv:0,v:Et,wv:0,parent:t??Ge,ac:null}}function el(e,r){let t=Ge;t===null&&_o();var a=t.b,s=void 0,i=ea(Et),o=!Qe,l=new Map;return dl(()=>{var d=oi();s=d.promise;try{Promise.resolve(e()).then(d.resolve,d.reject).then(()=>{c===tt&&c.committed&&c.deactivate(),cn()})}catch(f){d.reject(f),cn()}var c=tt;if(o){var u=!a.is_pending();a.update_pending_count(1),c.increment(u),l.get(c)?.reject(va),l.delete(c),l.set(c,d)}const h=(f,p=void 0)=>{if(c.activate(),p)p!==va&&(i.f|=zr,ga(i,p));else{(i.f&zr)!==0&&(i.f^=zr),ga(i,f);for(const[k,S]of l){if(l.delete(k),k===c)break;S.reject(va)}}o&&(a.update_pending_count(-1),c.decrement(u))};d.promise.then(h,f=>h(null,f||"unknown"))}),xn(()=>{for(const d of l.values())d.reject(va)}),new Promise(d=>{function c(u){function h(){u===s?d(i):c(s)}u.then(h,h)}c(s)})}function Ta(e){const r=Va(e);return Ii(r),r}function ut(e){const r=Va(e);return r.equals=ui,r}function mi(e){var r=e.effects;if(r!==null){e.effects=null;for(var t=0;t<r.length;t+=1)zt(r[t])}}function tl(e){for(var r=e.parent;r!==null;){if((r.f&wt)===0)return(r.f&wr)===0?r:null;r=r.parent}return null}function vs(e){var r,t=Ge;vr(tl(e));try{e.f&=~Zr,mi(e),r=ji(e)}finally{vr(t)}return r}function bi(e){var r=vs(e);if(e.equals(r)||(tt?.is_fork||(e.v=r),e.wv=Di()),!sa)if(Kt!==null)(Na()||tt?.is_fork)&&Kt.set(e,r);else{var t=(e.f&rr)===0?ar:mt;bt(e,t)}}let Un=new Set;const Rr=new Map;let wi=!1;function ea(e,r){var t={f:0,v:e,reactions:null,equals:di,rv:0,wv:0};return t}function Tr(e,r){const t=ea(e);return Ii(t),t}function T(e,r=!1,t=!0){const a=ea(e);return r||(a.equals=ui),ya&&t&&lt!==null&&lt.l!==null&&(lt.l.s??=[]).push(a),a}function Ka(e,r){return g(e,b(()=>n(e))),r}function g(e,r,t=!1){Qe!==null&&(!lr||(Qe.f&Ms)!==0)&&Ha()&&(Qe.f&(wt|ur|os|Ms))!==0&&!kr?.includes(e)&&So();let a=t?da(r):r;return ga(e,a)}function ga(e,r){if(!e.equals(r)){var t=e.v;sa?Rr.set(e,r):Rr.set(e,t),e.v=r;var a=or.ensure();a.capture(e,t),(e.f&wt)!==0&&((e.f&Rt)!==0&&vs(e),bt(e,(e.f&rr)!==0?mt:ar)),e.wv=Di(),yi(e,Rt),Ha()&&Ge!==null&&(Ge.f&mt)!==0&&(Ge.f&(Sr|ra))===0&&(Vt===null?fl([e]):Vt.push(e)),!a.is_fork&&Un.size>0&&!wi&&rl()}return r}function rl(){wi=!1;var e=Yr;vn(!0);const r=Array.from(Un);try{for(const t of r)(t.f&mt)!==0&&bt(t,ar),xa(t)&&_a(t)}finally{vn(e)}Un.clear()}function La(e){g(e,e.v+1)}function yi(e,r){var t=e.reactions;if(t!==null)for(var a=Ha(),s=t.length,i=0;i<s;i++){var o=t[i],l=o.f;if(!(!a&&o===Ge)){var d=(l&Rt)===0;if(d&&bt(o,r),(l&wt)!==0){var c=o;Kt?.delete(c),(l&Zr)===0&&(l&rr&&(o.f|=Zr),yi(c,ar))}else d&&((l&ur)!==0&&pr!==null&&pr.add(o),Jr(o))}}}function da(e){if(typeof e!="object"||e===null||Hr in e)return e;const r=ss(e);if(r!==co&&r!==vo)return e;var t=new Map,a=_n(e),s=Tr(0),i=Wr,o=l=>{if(Wr===i)return l();var d=Qe,c=Wr;Lt(null),Cs(i);var u=l();return Lt(d),Cs(c),u};return a&&t.set("length",Tr(e.length)),new Proxy(e,{defineProperty(l,d,c){(!("value"in c)||c.configurable===!1||c.enumerable===!1||c.writable===!1)&&xo();var u=t.get(d);return u===void 0?u=o(()=>{var h=Tr(c.value);return t.set(d,h),h}):g(u,c.value,!0),!0},deleteProperty(l,d){var c=t.get(d);if(c===void 0){if(d in l){const u=o(()=>Tr(Et));t.set(d,u),La(s)}}else g(c,Et),La(s);return!0},get(l,d,c){if(d===Hr)return e;var u=t.get(d),h=d in l;if(u===void 0&&(!h||ua(l,d)?.writable)&&(u=o(()=>{var p=da(h?l[d]:Et),k=Tr(p);return k}),t.set(d,u)),u!==void 0){var f=n(u);return f===Et?void 0:f}return Reflect.get(l,d,c)},getOwnPropertyDescriptor(l,d){var c=Reflect.getOwnPropertyDescriptor(l,d);if(c&&"value"in c){var u=t.get(d);u&&(c.value=n(u))}else if(c===void 0){var h=t.get(d),f=h?.v;if(h!==void 0&&f!==Et)return{enumerable:!0,configurable:!0,value:f,writable:!0}}return c},has(l,d){if(d===Hr)return!0;var c=t.get(d),u=c!==void 0&&c.v!==Et||Reflect.has(l,d);if(c!==void 0||Ge!==null&&(!u||ua(l,d)?.writable)){c===void 0&&(c=o(()=>{var f=u?da(l[d]):Et,p=Tr(f);return p}),t.set(d,c));var h=n(c);if(h===Et)return!1}return u},set(l,d,c,u){var h=t.get(d),f=d in l;if(a&&d==="length")for(var p=c;p<h.v;p+=1){var k=t.get(p+"");k!==void 0?g(k,Et):p in l&&(k=o(()=>Tr(Et)),t.set(p+"",k))}if(h===void 0)(!f||ua(l,d)?.writable)&&(h=o(()=>Tr(void 0)),g(h,da(c)),t.set(d,h));else{f=h.v!==Et;var S=o(()=>da(c));g(h,S)}var y=Reflect.getOwnPropertyDescriptor(l,d);if(y?.set&&y.set.call(u,c),!f){if(a&&typeof d=="string"){var x=t.get("length"),H=Number(d);Number.isInteger(H)&&H>=x.v&&g(x,H+1)}La(s)}return!0},ownKeys(l){n(s);var d=Reflect.ownKeys(l).filter(h=>{var f=t.get(h);return f===void 0||f.v!==Et});for(var[c,u]of t)u.v!==Et&&!(c in l)&&d.push(c);return d},setPrototypeOf(){Eo()}})}var Ar,ki,xi,Ei;function al(){if(Ar===void 0){Ar=window,ki=/Firefox/.test(navigator.userAgent);var e=Element.prototype,r=Node.prototype,t=Text.prototype;xi=ua(r,"firstChild").get,Ei=ua(r,"nextSibling").get,Ss(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ss(t)&&(t.__t=void 0)}}function yr(e=""){return document.createTextNode(e)}function Cr(e){return xi.call(e)}function Ya(e){return Ei.call(e)}function v(e,r){return Cr(e)}function Le(e,r=!1){{var t=Cr(e);return t instanceof Comment&&t.data===""?Ya(t):t}}function _(e,r=1,t=!1){let a=e;for(;r--;)a=Ya(a);return a}function nl(e){e.textContent=""}function Si(){return!1}let $s=!1;function sl(){$s||($s=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const r of e.target.elements)r.__on_r?.()})},{capture:!0}))}function il(e,r,t,a=!0){a&&t();for(var s of r)e.addEventListener(s,t);xn(()=>{for(var i of r)e.removeEventListener(i,t)})}function na(e){var r=Qe,t=Ge;Lt(null),vr(null);try{return e()}finally{Lt(r),vr(t)}}function ol(e,r,t,a=t){e.addEventListener(r,()=>na(t));const s=e.__on_r;s?e.__on_r=()=>{s(),a(!0)}:e.__on_r=()=>a(!0),sl()}function Mi(e){Ge===null&&(Qe===null&&wo(),bo()),sa&&mo()}function ll(e,r){var t=r.last;t===null?r.last=r.first=e:(t.next=e,e.prev=t,r.last=e)}function fr(e,r,t){var a=Ge;a!==null&&(a.f&Ut)!==0&&(e|=Ut);var s={ctx:lt,deps:null,nodes:null,f:e|Rt|rr,first:null,fn:r,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,wv:0,ac:null};if(t)try{_a(s),s.f|=yn}catch(l){throw zt(s),l}else r!==null&&Jr(s);var i=s;if(t&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&wa)===0&&(i=i.first,(e&ur)!==0&&(e&Gr)!==0&&i!==null&&(i.f|=Gr)),i!==null&&(i.parent=a,a!==null&&ll(i,a),Qe!==null&&(Qe.f&wt)!==0&&(e&ra)===0)){var o=Qe;(o.effects??=[]).push(i)}return s}function Na(){return Qe!==null&&!lr}function xn(e){const r=fr(bn,null,!1);return bt(r,mt),r.teardown=e,r}function Hn(e){Mi();var r=Ge.f,t=!Qe&&(r&Sr)!==0&&(r&yn)===0;if(t){var a=lt;(a.e??=[]).push(e)}else return Ti(e)}function Ti(e){return fr(is|ci,e,!1)}function cl(e){return Mi(),fr(bn|ci,e,!0)}function vl(e){or.ensure();const r=fr(ra|wa,e,!0);return(t={})=>new Promise(a=>{t.outro?Vr(r,()=>{zt(r),a(void 0)}):(zt(r),a(void 0))})}function Bt(e){return fr(is,e,!1)}function J(e,r){var t=lt,a={effect:null,ran:!1,deps:e};t.l.$.push(a),a.effect=ka(()=>{e(),!a.ran&&(a.ran=!0,b(r))})}function Ht(){var e=lt;ka(()=>{for(var r of e.l.$){r.deps();var t=r.effect;(t.f&mt)!==0&&bt(t,ar),xa(t)&&_a(t),r.ran=!1}})}function dl(e){return fr(os|wa,e,!0)}function ka(e,r=0){return fr(bn|r,e,!0)}function de(e,r=[],t=[],a=[]){Zo(a,r,t,s=>{fr(bn,()=>e(...s.map(n)),!0)})}function ds(e,r=0){var t=fr(ur|r,e,!0);return t}function Wt(e){return fr(Sr|wa,e,!0)}function $i(e){var r=e.teardown;if(r!==null){const t=sa,a=Qe;As(!0),Lt(null);try{r.call(null)}finally{As(t),Lt(a)}}}function Ai(e,r=!1){var t=e.first;for(e.first=e.last=null;t!==null;){const s=t.ac;s!==null&&na(()=>{s.abort(va)});var a=t.next;(t.f&ra)!==0?t.parent=null:zt(t,r),t=a}}function ul(e){for(var r=e.first;r!==null;){var t=r.next;(r.f&Sr)===0&&zt(r),r=t}}function zt(e,r=!0){var t=!1;(r||(e.f&li)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(Ci(e.nodes.start,e.nodes.end),t=!0),Ai(e,r&&!t),dn(e,0),bt(e,wr);var a=e.nodes&&e.nodes.t;if(a!==null)for(const i of a)i.stop();$i(e);var s=e.parent;s!==null&&s.first!==null&&Pi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function Ci(e,r){for(;e!==null;){var t=e===r?null:Ya(e);e.remove(),e=t}}function Pi(e){var r=e.parent,t=e.prev,a=e.next;t!==null&&(t.next=a),a!==null&&(a.prev=t),r!==null&&(r.first===e&&(r.first=a),r.last===e&&(r.last=t))}function Vr(e,r,t=!0){var a=[];Li(e,a,!0);var s=()=>{t&&zt(e),r&&r()},i=a.length;if(i>0){var o=()=>--i||s();for(var l of a)l.out(o)}else s()}function Li(e,r,t){if((e.f&Ut)===0){e.f^=Ut;var a=e.nodes&&e.nodes.t;if(a!==null)for(const l of a)(l.is_global||t)&&r.push(l);for(var s=e.first;s!==null;){var i=s.next,o=(s.f&Gr)!==0||(s.f&Sr)!==0&&(e.f&ur)!==0;Li(s,r,o?t:!1),s=i}}}function us(e){zi(e,!0)}function zi(e,r){if((e.f&Ut)!==0){e.f^=Ut,(e.f&mt)===0&&(bt(e,Rt),Jr(e));for(var t=e.first;t!==null;){var a=t.next,s=(t.f&Gr)!==0||(t.f&Sr)!==0;zi(t,s?r:!1),t=a}var i=e.nodes&&e.nodes.t;if(i!==null)for(const o of i)(o.is_global||r)&&o.in()}}function Ri(e,r){if(e.nodes)for(var t=e.nodes.start,a=e.nodes.end;t!==null;){var s=t===a?null:Ya(t);r.append(t),t=s}}let Yr=!1;function vn(e){Yr=e}let sa=!1;function As(e){sa=e}let Qe=null,lr=!1;function Lt(e){Qe=e}let Ge=null;function vr(e){Ge=e}let kr=null;function Ii(e){Qe!==null&&(kr===null?kr=[e]:kr.push(e))}let $t=null,Ot=0,Vt=null;function fl(e){Vt=e}let Ni=1,Da=0,Wr=Da;function Cs(e){Wr=e}function Di(){return++Ni}function xa(e){var r=e.f;if((r&Rt)!==0)return!0;if(r&wt&&(e.f&=~Zr),(r&ar)!==0){var t=e.deps;if(t!==null)for(var a=t.length,s=0;s<a;s++){var i=t[s];if(xa(i)&&bi(i),i.wv>e.wv)return!0}(r&rr)!==0&&Kt===null&&bt(e,mt)}return!1}function Oi(e,r,t=!0){var a=e.reactions;if(a!==null&&!kr?.includes(e))for(var s=0;s<a.length;s++){var i=a[s];(i.f&wt)!==0?Oi(i,r,!1):r===i&&(t?bt(i,Rt):(i.f&mt)!==0&&bt(i,ar),Jr(i))}}function ji(e){var r=$t,t=Ot,a=Vt,s=Qe,i=kr,o=lt,l=lr,d=Wr,c=e.f;$t=null,Ot=0,Vt=null,Qe=(c&(Sr|ra))===0?e:null,kr=null,ha(e.ctx),lr=!1,Wr=++Da,e.ac!==null&&(na(()=>{e.ac.abort(va)}),e.ac=null);try{e.f|=qn;var u=e.fn,h=u(),f=e.deps;if($t!==null){var p;if(dn(e,Ot),f!==null&&Ot>0)for(f.length=Ot+$t.length,p=0;p<$t.length;p++)f[Ot+p]=$t[p];else e.deps=f=$t;if(Na()&&(e.f&rr)!==0)for(p=Ot;p<f.length;p++)(f[p].reactions??=[]).push(e)}else f!==null&&Ot<f.length&&(dn(e,Ot),f.length=Ot);if(Ha()&&Vt!==null&&!lr&&f!==null&&(e.f&(wt|ar|Rt))===0)for(p=0;p<Vt.length;p++)Oi(Vt[p],e);return s!==null&&s!==e&&(Da++,Vt!==null&&(a===null?a=Vt:a.push(...Vt))),(e.f&zr)!==0&&(e.f^=zr),h}catch(k){return hi(k)}finally{e.f^=qn,$t=r,Ot=t,Vt=a,Qe=s,kr=i,ha(o),lr=l,Wr=d}}function hl(e,r){let t=r.reactions;if(t!==null){var a=lo.call(t,e);if(a!==-1){var s=t.length-1;s===0?t=r.reactions=null:(t[a]=t[s],t.pop())}}t===null&&(r.f&wt)!==0&&($t===null||!$t.includes(r))&&(bt(r,ar),(r.f&rr)!==0&&(r.f^=rr,r.f&=~Zr),mi(r),dn(r,0))}function dn(e,r){var t=e.deps;if(t!==null)for(var a=r;a<t.length;a++)hl(e,t[a])}function _a(e){var r=e.f;if((r&wr)===0){bt(e,mt);var t=Ge,a=Yr;Ge=e,Yr=!0;try{(r&(ur|ho))!==0?ul(e):Ai(e),$i(e);var s=ji(e);e.teardown=typeof s=="function"?s:null,e.wv=Ni;var i;Fn&&Uo&&(e.f&Rt)!==0&&e.deps}finally{Yr=a,Ge=t}}}async function fa(){await Promise.resolve(),Yo()}function n(e){var r=e.f,t=(r&wt)!==0;if(Qe!==null&&!lr){var a=Ge!==null&&(Ge.f&wr)!==0;if(!a&&!kr?.includes(e)){var s=Qe.deps;if((Qe.f&qn)!==0)e.rv<Da&&(e.rv=Da,$t===null&&s!==null&&s[Ot]===e?Ot++:$t===null?$t=[e]:$t.includes(e)||$t.push(e));else{(Qe.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[Qe]:i.includes(Qe)||i.push(Qe)}}}if(sa){if(Rr.has(e))return Rr.get(e);if(t){var o=e,l=o.v;return((o.f&mt)===0&&o.reactions!==null||qi(o))&&(l=vs(o)),Rr.set(o,l),l}}else t&&(!Kt?.has(e)||tt?.is_fork&&!Na())&&(o=e,xa(o)&&bi(o),Yr&&Na()&&(o.f&rr)===0&&Fi(o));if(Kt?.has(e))return Kt.get(e);if((e.f&zr)!==0)throw e.v;return e.v}function Fi(e){if(e.deps!==null){e.f^=rr;for(const r of e.deps)(r.reactions??=[]).push(e),(r.f&wt)!==0&&(r.f&rr)===0&&Fi(r)}}function qi(e){if(e.v===Et)return!0;if(e.deps===null)return!1;for(const r of e.deps)if(Rr.has(r)||(r.f&wt)!==0&&qi(r))return!0;return!1}function b(e){var r=lr;try{return lr=!0,e()}finally{lr=r}}const pl=-7169;function bt(e,r){e.f=e.f&pl|r}function D(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Hr in e)Vn(e);else if(!Array.isArray(e))for(let r in e){const t=e[r];typeof t=="object"&&t&&Hr in t&&Vn(t)}}}function Vn(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let a in e)try{Vn(e[a],r)}catch{}const t=ss(e);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const a=ii(t);for(let s in a){const i=a[s].get;if(i)try{i.call(e)}catch{}}}}}const gl=["touchstart","touchmove"];function _l(e){return gl.includes(e)}const ml=new Set,Ps=new Set;function bl(e,r,t,a={}){function s(i){if(a.capture||Aa.call(r,i),!i.cancelBubble)return na(()=>t?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?aa(()=>{r.addEventListener(e,s,a)}):r.addEventListener(e,s,a),s}function $(e,r,t,a,s){var i={capture:a,passive:s},o=bl(e,r,t,i);(r===document.body||r===window||r===document||r instanceof HTMLMediaElement)&&xn(()=>{r.removeEventListener(e,o,i)})}let Ls=null;function Aa(e){var r=this,t=r.ownerDocument,a=e.type,s=e.composedPath?.()||[],i=s[0]||e.target;Ls=e;var o=0,l=Ls===e&&e.__root;if(l){var d=s.indexOf(l);if(d!==-1&&(r===document||r===window)){e.__root=r;return}var c=s.indexOf(r);if(c===-1)return;d<=c&&(o=d)}if(i=s[o]||e.target,i!==r){si(e,"currentTarget",{configurable:!0,get(){return i||t}});var u=Qe,h=Ge;Lt(null),vr(null);try{for(var f,p=[];i!==null;){var k=i.assignedSlot||i.parentNode||i.host||null;try{var S=i["__"+a];S!=null&&(!i.disabled||e.target===i)&&S.call(i,e)}catch(y){f?p.push(y):f=y}if(e.cancelBubble||k===r||k===null)break;i=k}if(f){for(let y of p)queueMicrotask(()=>{throw y});throw f}}finally{e.__root=r,delete e.currentTarget,Lt(u),vr(h)}}}function Bi(e){var r=document.createElement("template");return r.innerHTML=e.replaceAll("<!>","<!---->"),r.content}function Oa(e,r){var t=Ge;t.nodes===null&&(t.nodes={start:e,end:r,a:null,t:null})}function E(e,r){var t=(r&jo)!==0,a=(r&Fo)!==0,s,i=!e.startsWith("<!>");return()=>{s===void 0&&(s=Bi(i?e:"<!>"+e),t||(s=Cr(s)));var o=a||ki?document.importNode(s,!0):s.cloneNode(!0);if(t){var l=Cr(o),d=o.lastChild;Oa(l,d)}else Oa(o,o);return o}}function jr(e=""){{var r=yr(e+"");return Oa(r,r),r}}function Je(){var e=document.createDocumentFragment(),r=document.createComment(""),t=yr();return e.append(r,t),Oa(r,t),e}function m(e,r){e!==null&&e.before(r)}let Yn=!0;function ve(e,r){var t=r==null?"":typeof r=="object"?r+"":r;t!==(e.__t??=e.nodeValue)&&(e.__t=t,e.nodeValue=t+"")}function wl(e,r){return yl(e,r)}const ia=new Map;function yl(e,{target:r,anchor:t,props:a={},events:s,context:i,intro:o=!0}){al();var l=new Set,d=h=>{for(var f=0;f<h.length;f++){var p=h[f];if(!l.has(p)){l.add(p);var k=_l(p);r.addEventListener(p,Aa,{passive:k});var S=ia.get(p);S===void 0?(document.addEventListener(p,Aa,{passive:k}),ia.set(p,1)):ia.set(p,S+1)}}};d(mn(ml)),Ps.add(d);var c=void 0,u=vl(()=>{var h=t??r.appendChild(yr());return Xo(h,{pending:()=>{}},f=>{if(i){yt({});var p=lt;p.c=i}s&&(a.$$events=s),Yn=o,c=e(f,a)||{},Yn=!0,i&&kt()}),()=>{for(var f of l){r.removeEventListener(f,Aa);var p=ia.get(f);--p===0?(document.removeEventListener(f,Aa),ia.delete(f)):ia.set(f,p)}Ps.delete(d),h!==t&&h.parentNode?.removeChild(h)}});return kl.set(c,u),c}let kl=new WeakMap;class xl{anchor;#e=new Map;#t=new Map;#r=new Map;#a=new Set;#l=!0;constructor(r,t=!0){this.anchor=r,this.#l=t}#s=()=>{var r=tt;if(this.#e.has(r)){var t=this.#e.get(r),a=this.#t.get(t);if(a)us(a),this.#a.delete(t);else{var s=this.#r.get(t);s&&(this.#t.set(t,s.effect),this.#r.delete(t),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),a=s.effect)}for(const[i,o]of this.#e){if(this.#e.delete(i),i===r)break;const l=this.#r.get(o);l&&(zt(l.effect),this.#r.delete(o))}for(const[i,o]of this.#t){if(i===t||this.#a.has(i))continue;const l=()=>{if(Array.from(this.#e.values()).includes(i)){var c=document.createDocumentFragment();Ri(o,c),c.append(yr()),this.#r.set(i,{effect:o,fragment:c})}else zt(o);this.#a.delete(i),this.#t.delete(i)};this.#l||!a?(this.#a.add(i),Vr(o,l,!1)):l()}}};#n=r=>{this.#e.delete(r);const t=Array.from(this.#e.values());for(const[a,s]of this.#r)t.includes(a)||(zt(s.effect),this.#r.delete(a))};ensure(r,t){var a=tt,s=Si();if(t&&!this.#t.has(r)&&!this.#r.has(r))if(s){var i=document.createDocumentFragment(),o=yr();i.append(o),this.#r.set(r,{effect:Wt(()=>t(o)),fragment:i})}else this.#t.set(r,Wt(()=>t(this.anchor)));if(this.#e.set(a,r),s){for(const[l,d]of this.#t)l===r?a.skipped_effects.delete(d):a.skipped_effects.add(d);for(const[l,d]of this.#r)l===r?a.skipped_effects.delete(d.effect):a.skipped_effects.add(d.effect);a.oncommit(this.#s),a.ondiscard(this.#n)}else this.#s()}}function L(e,r,t=!1){var a=new xl(e),s=t?Gr:0;function i(o,l){a.ensure(o,l)}ds(()=>{var o=!1;r((l,d=!0)=>{o=!0,i(d,l)}),o||i(!1,null)},s)}function Er(e,r){return r}function El(e,r,t){for(var a=[],s=r.length,i,o=r.length,l=0;l<s;l++){let h=r[l];Vr(h,()=>{if(i){if(i.pending.delete(h),i.done.add(h),i.pending.size===0){var f=e.outrogroups;Wn(mn(i.done)),f.delete(i),f.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var d=a.length===0&&t!==null;if(d){var c=t,u=c.parentNode;nl(u),u.append(c),e.items.clear()}Wn(r,!d)}else i={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(i)}function Wn(e,r=!0){for(var t=0;t<e.length;t++)zt(e[t],r)}var zs;function St(e,r,t,a,s,i=null){var o=e,l=new Map,d=(r&vi)!==0;if(d){var c=e;o=c.appendChild(yr())}var u=null,h=ut(()=>{var x=t();return _n(x)?x:x==null?[]:mn(x)}),f,p=!0;function k(){y.fallback=u,Sl(y,f,o,r,a),u!==null&&(f.length===0?(u.f&_r)===0?us(u):(u.f^=_r,Ca(u,null,o)):Vr(u,()=>{u=null}))}var S=ds(()=>{f=n(h);for(var x=f.length,H=new Set,Z=tt,K=Si(),te=0;te<x;te+=1){var le=f[te],C=a(le,te),O=p?null:l.get(C);O?(O.v&&ga(O.v,le),O.i&&ga(O.i,te),K&&Z.skipped_effects.delete(O.e)):(O=Ml(l,p?o:zs??=yr(),le,C,te,s,r,t),p||(O.e.f|=_r),l.set(C,O)),H.add(C)}if(x===0&&i&&!u&&(p?u=Wt(()=>i(o)):(u=Wt(()=>i(zs??=yr())),u.f|=_r)),!p)if(K){for(const[P,be]of l)H.has(P)||Z.skipped_effects.add(be.e);Z.oncommit(k),Z.ondiscard(()=>{})}else k();n(h)}),y={effect:S,items:l,outrogroups:null,fallback:u};p=!1}function Sl(e,r,t,a,s){var i=(a&Ao)!==0,o=r.length,l=e.items,d=e.effect.first,c,u=null,h,f=[],p=[],k,S,y,x;if(i)for(x=0;x<o;x+=1)k=r[x],S=s(k,x),y=l.get(S).e,(y.f&_r)===0&&(y.nodes?.a?.measure(),(h??=new Set).add(y));for(x=0;x<o;x+=1){if(k=r[x],S=s(k,x),y=l.get(S).e,e.outrogroups!==null)for(const be of e.outrogroups)be.pending.delete(y),be.done.delete(y);if((y.f&_r)!==0)if(y.f^=_r,y===d)Ca(y,null,t);else{var H=u?u.next:d;y===e.effect.last&&(e.effect.last=y.prev),y.prev&&(y.prev.next=y.next),y.next&&(y.next.prev=y.prev),$r(e,u,y),$r(e,y,H),Ca(y,H,t),u=y,f=[],p=[],d=u.next;continue}if((y.f&Ut)!==0&&(us(y),i&&(y.nodes?.a?.unfix(),(h??=new Set).delete(y))),y!==d){if(c!==void 0&&c.has(y)){if(f.length<p.length){var Z=p[0],K;u=Z.prev;var te=f[0],le=f[f.length-1];for(K=0;K<f.length;K+=1)Ca(f[K],Z,t);for(K=0;K<p.length;K+=1)c.delete(p[K]);$r(e,te.prev,le.next),$r(e,u,te),$r(e,le,Z),d=Z,u=le,x-=1,f=[],p=[]}else c.delete(y),Ca(y,d,t),$r(e,y.prev,y.next),$r(e,y,u===null?e.effect.first:u.next),$r(e,u,y),u=y;continue}for(f=[],p=[];d!==null&&d!==y;)(c??=new Set).add(d),p.push(d),d=d.next;if(d===null)continue}(y.f&_r)===0&&f.push(y),u=y,d=y.next}if(e.outrogroups!==null){for(const be of e.outrogroups)be.pending.size===0&&(Wn(mn(be.done)),e.outrogroups?.delete(be));e.outrogroups.size===0&&(e.outrogroups=null)}if(d!==null||c!==void 0){var C=[];if(c!==void 0)for(y of c)(y.f&Ut)===0&&C.push(y);for(;d!==null;)(d.f&Ut)===0&&d!==e.fallback&&C.push(d),d=d.next;var O=C.length;if(O>0){var P=(a&vi)!==0&&o===0?t:null;if(i){for(x=0;x<O;x+=1)C[x].nodes?.a?.measure();for(x=0;x<O;x+=1)C[x].nodes?.a?.fix()}El(e,C,P)}}i&&aa(()=>{if(h!==void 0)for(y of h)y.nodes?.a?.apply()})}function Ml(e,r,t,a,s,i,o,l){var d=(o&To)!==0?(o&Co)===0?T(t,!1,!1):ea(t):null,c=(o&$o)!==0?ea(s):null;return{v:d,i:c,e:Wt(()=>(i(r,d??t,c??s,l),()=>{e.delete(a)}))}}function Ca(e,r,t){if(e.nodes)for(var a=e.nodes.start,s=e.nodes.end,i=r&&(r.f&_r)===0?r.nodes.start:t;a!==null;){var o=Ya(a);if(i.before(a),a===s)return;a=o}}function $r(e,r,t){r===null?e.effect.first=t:r.next=t,t===null?e.effect.last=r:t.prev=r}function ie(e,r,t=!1,a=!1,s=!1){var i=e,o="";de(()=>{var l=Ge;if(o!==(o=r()??"")&&(l.nodes!==null&&(Ci(l.nodes.start,l.nodes.end),l.nodes=null),o!=="")){var d=o+"";t?d=`<svg>${d}</svg>`:a&&(d=`<math>${d}</math>`);var c=Bi(d);if((t||a)&&(c=Cr(c)),Oa(Cr(c),c.lastChild),t||a)for(;Cr(c);)i.before(Cr(c));else i.before(c)}})}function rn(e,r,t,a,s){var i=r.$$slots?.[t],o=!1;i===!0&&(i=r[t==="default"?"children":t],o=!0),i===void 0||i(e,o?()=>a:a)}const Tl=()=>performance.now(),gr={tick:e=>requestAnimationFrame(e),now:()=>Tl(),tasks:new Set};function Ui(){const e=gr.now();gr.tasks.forEach(r=>{r.c(e)||(gr.tasks.delete(r),r.f())}),gr.tasks.size!==0&&gr.tick(Ui)}function $l(e){let r;return gr.tasks.size===0&&gr.tick(Ui),{promise:new Promise(t=>{gr.tasks.add(r={c:e,f:t})}),abort(){gr.tasks.delete(r)}}}function Xa(e,r){na(()=>{e.dispatchEvent(new CustomEvent(r))})}function Al(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const r=e.split("-");return r.length===1?r[0]:r[0]+r.slice(1).map(t=>t[0].toUpperCase()+t.slice(1)).join("")}function Rs(e){const r={},t=e.split(";");for(const a of t){const[s,i]=a.split(":");if(!s||i===void 0)break;const o=Al(s.trim());r[o]=i.trim()}return r}const Cl=e=>e;function At(e,r,t,a){var s=(e&No)!==0,i=(e&Do)!==0,o=s&&i,l=(e&Oo)!==0,d=o?"both":s?"in":"out",c,u=r.inert,h=r.style.overflow,f,p;function k(){return na(()=>c??=t()(r,a?.()??{},{direction:d}))}var S={is_global:l,in(){if(r.inert=u,!s){p?.abort(),p?.reset?.();return}i||f?.abort(),Xa(r,"introstart"),f=Qn(r,k(),p,1,()=>{Xa(r,"introend"),f?.abort(),f=c=void 0,r.style.overflow=h})},out(Z){if(!i){Z?.(),c=void 0;return}r.inert=!0,Xa(r,"outrostart"),p=Qn(r,k(),f,0,()=>{Xa(r,"outroend"),Z?.()})},stop:()=>{f?.abort(),p?.abort()}},y=Ge;if((y.nodes.t??=[]).push(S),s&&Yn){var x=l;if(!x){for(var H=y.parent;H&&(H.f&Gr)!==0;)for(;(H=H.parent)&&(H.f&ur)===0;);x=!H||(H.f&yn)!==0}x&&Bt(()=>{b(()=>S.in())})}}function Qn(e,r,t,a,s){var i=a===1;if(uo(r)){var o,l=!1;return aa(()=>{if(!l){var y=r({direction:i?"in":"out"});o=Qn(e,y,t,a,s)}}),{abort:()=>{l=!0,o?.abort()},deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:()=>o.t()}}if(t?.deactivate(),!r?.duration)return s(),{abort:Ft,deactivate:Ft,reset:Ft,t:()=>a};const{delay:d=0,css:c,tick:u,easing:h=Cl}=r;var f=[];if(i&&t===void 0&&(u&&u(0,1),c)){var p=Rs(c(0,1));f.push(p,p)}var k=()=>1-a,S=e.animate(f,{duration:d,fill:"forwards"});return S.onfinish=()=>{S.cancel();var y=t?.t()??1-a;t?.abort();var x=a-y,H=r.duration*Math.abs(x),Z=[];if(H>0){var K=!1;if(c)for(var te=Math.ceil(H/16.666666666666668),le=0;le<=te;le+=1){var C=y+x*h(le/te),O=Rs(c(C,1-C));Z.push(O),K||=O.overflow==="hidden"}K&&(e.style.overflow="hidden"),k=()=>{var P=S.currentTime;return y+x*h(P/H)},u&&$l(()=>{if(S.playState!=="running")return!1;var P=k();return u(P,1-P),!0})}S=e.animate(Z,{duration:H,fill:"forwards"}),S.onfinish=()=>{k=()=>a,u?.(a,1-a),s()}},{abort:()=>{S&&(S.cancel(),S.effect=null,S.onfinish=Ft)},deactivate:()=>{s=Ft},reset:()=>{a===0&&u?.(1,0)},t:()=>k()}}function fs(e,r,t){Bt(()=>{var a=b(()=>r(e,t?.())||{});if(t&&a?.update){var s=!1,i={};ka(()=>{var o=t();D(o),s&&cs(i,o)&&(i=o,a.update(o))}),s=!0}if(a?.destroy)return()=>a.destroy()})}const Is=[...` 	
\r\fÂ \v\uFEFF`];function Pl(e,r,t){var a=e==null?"":""+e;if(r&&(a=a?a+" "+r:r),t){for(var s in t)if(t[s])a=a?a+" "+s:s;else if(a.length)for(var i=s.length,o=0;(o=a.indexOf(s,o))>=0;){var l=o+i;(o===0||Is.includes(a[o-1]))&&(l===a.length||Is.includes(a[l]))?a=(o===0?"":a.substring(0,o))+a.substring(l+1):o=l}}return a===""?null:a}function Ns(e,r=!1){var t=r?" !important;":";",a="";for(var s in e){var i=e[s];i!=null&&i!==""&&(a+=" "+s+": "+i+t)}return a}function Cn(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Ll(e,r){if(r){var t="",a,s;if(Array.isArray(r)?(a=r[0],s=r[1]):a=r,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,o=0,l=!1,d=[];a&&d.push(...Object.keys(a).map(Cn)),s&&d.push(...Object.keys(s).map(Cn));var c=0,u=-1;const S=e.length;for(var h=0;h<S;h++){var f=e[h];if(l?f==="/"&&e[h-1]==="*"&&(l=!1):i?i===f&&(i=!1):f==="/"&&e[h+1]==="*"?l=!0:f==='"'||f==="'"?i=f:f==="("?o++:f===")"&&o--,!l&&i===!1&&o===0){if(f===":"&&u===-1)u=h;else if(f===";"||h===S-1){if(u!==-1){var p=Cn(e.substring(c,u).trim());if(!d.includes(p)){f!==";"&&h++;var k=e.substring(c,h).trim();t+=" "+k+";"}}c=h+1,u=-1}}}}return a&&(t+=Ns(a)),s&&(t+=Ns(s,!0)),t=t.trim(),t===""?null:t}return e==null?null:String(e)}function Ye(e,r,t,a,s,i){var o=e.__className;if(o!==t||o===void 0){var l=Pl(t,a,i);l==null?e.removeAttribute("class"):e.className=l,e.__className=t}else if(i&&s!==i)for(var d in i){var c=!!i[d];(s==null||c!==!!s[d])&&e.classList.toggle(d,c)}return i}function Pn(e,r={},t,a){for(var s in t){var i=t[s];r[s]!==i&&(t[s]==null?e.style.removeProperty(s):e.style.setProperty(s,i,a))}}function vt(e,r,t,a){var s=e.__style;if(s!==r){var i=Ll(r,a);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=r}else a&&(Array.isArray(a)?(Pn(e,t?.[0],a[0]),Pn(e,t?.[1],a[1],"important")):Pn(e,t,a));return a}const zl=Symbol("is custom element"),Rl=Symbol("is html");function Hi(e,r){var t=Vi(e);t.value===(t.value=r??void 0)||e.value===r&&(r!==0||e.nodeName!=="PROGRESS")||(e.value=r??"")}function It(e,r,t,a){var s=Vi(e);s[r]!==(s[r]=t)&&(r==="loading"&&(e[go]=t),t==null?e.removeAttribute(r):typeof t!="string"&&Il(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function Vi(e){return e.__attributes??={[zl]:e.nodeName.includes("-"),[Rl]:e.namespaceURI===qo}}var Ds=new Map;function Il(e){var r=e.getAttribute("is")||e.nodeName,t=Ds.get(r);if(t)return t;Ds.set(r,t=[]);for(var a,s=e,i=Element.prototype;i!==s;){a=ii(s);for(var o in a)a[o].set&&t.push(o);s=ss(s)}return t}function En(e,r,t=r){var a=new WeakSet;ol(e,"input",async s=>{var i=s?e.defaultValue:e.value;if(i=Ln(e)?zn(i):i,t(i),tt!==null&&a.add(tt),await fa(),i!==(i=r())){var o=e.selectionStart,l=e.selectionEnd,d=e.value.length;if(e.value=i??"",l!==null){var c=e.value.length;o===l&&l===d&&c>d?(e.selectionStart=c,e.selectionEnd=c):(e.selectionStart=o,e.selectionEnd=Math.min(l,c))}}}),b(r)==null&&e.value&&(t(Ln(e)?zn(e.value):e.value),tt!==null&&a.add(tt)),ka(()=>{var s=r();if(e===document.activeElement){var i=tn??tt;if(a.has(i))return}Ln(e)&&s===zn(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Ln(e){var r=e.type;return r==="number"||r==="range"}function zn(e){return e===""?null:+e}class hs{#e=new WeakMap;#t;#r;static entries=new WeakMap;constructor(r){this.#r=r}observe(r,t){var a=this.#e.get(r)||new Set;return a.add(t),this.#e.set(r,a),this.#a().observe(r,this.#r),()=>{var s=this.#e.get(r);s.delete(t),s.size===0&&(this.#e.delete(r),this.#t.unobserve(r))}}#a(){return this.#t??(this.#t=new ResizeObserver(r=>{for(var t of r){hs.entries.set(t.target,t);for(var a of this.#e.get(t.target)||[])a(t)}}))}}var Nl=new hs({box:"border-box"});function Os(e,r,t){var a=Nl.observe(e,()=>t(e[r]));Bt(()=>(b(()=>t(e[r])),a))}function js(e,r){return e===r||e?.[Hr]===r}function Nr(e={},r,t,a){return Bt(()=>{var s,i;return ka(()=>{s=i,i=[],b(()=>{e!==t(...i)&&(r(e,...i),s&&js(t(...s),e)&&r(null,...s))})}),()=>{aa(()=>{i&&js(t(...i),e)&&r(null,...i)})}}),e}function Fs(e,r){il(window,["resize"],()=>na(()=>r(window[e])))}function er(e){return function(...r){var t=r[0];return t.stopPropagation(),e?.apply(this,r)}}function Mt(e=!1){const r=lt,t=r.l.u;if(!t)return;let a=()=>D(r.s);if(e){let s=0,i={};const o=Va(()=>{let l=!1;const d=r.s;for(const c in d)d[c]!==i[c]&&(i[c]=d[c],l=!0);return l&&s++,s});a=()=>n(o)}t.b.length&&cl(()=>{qs(r,a),ln(t.b)}),Hn(()=>{const s=b(()=>t.m.map(fo));return()=>{for(const i of s)typeof i=="function"&&i()}}),t.a.length&&Hn(()=>{qs(r,a),ln(t.a)})}function qs(e,r){if(e.l.s)for(const t of e.l.s)n(t);r()}function ja(e,r){var t=e.$$events?.[r.type],a=_n(t)?t.slice():t==null?[]:[t];for(var s of a)s.call(this,r)}function ps(e,r,t){if(e==null)return r(void 0),t&&t(void 0),Ft;const a=b(()=>e.subscribe(r,t));return a.unsubscribe?()=>a.unsubscribe():a}const oa=[];function Dl(e,r){return{subscribe:Ue(e,r).subscribe}}function Ue(e,r=Ft){let t=null;const a=new Set;function s(l){if(cs(e,l)&&(e=l,t)){const d=!oa.length;for(const c of a)c[1](),oa.push(c,e);if(d){for(let c=0;c<oa.length;c+=2)oa[c][0](oa[c+1]);oa.length=0}}}function i(l){s(l(e))}function o(l,d=Ft){const c=[l,d];return a.add(c),a.size===1&&(t=r(s,i)||Ft),l(e),()=>{a.delete(c),a.size===0&&t&&(t(),t=null)}}return{set:s,update:i,subscribe:o}}function Yi(e,r,t){const a=!Array.isArray(e),s=a?[e]:e;if(!s.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const i=r.length<2;return Dl(t,(o,l)=>{let d=!1;const c=[];let u=0,h=Ft;const f=()=>{if(u)return;h();const k=r(a?c[0]:c,o,l);i?o(k):h=typeof k=="function"?k:Ft},p=s.map((k,S)=>ps(k,y=>{c[S]=y,u&=~(1<<S),d&&f()},()=>{u|=1<<S}));return d=!0,f(),function(){ln(p),h(),d=!1}})}function We(e){let r;return ps(e,t=>r=t)(),r}let Ga=!1,Kn=Symbol();function xe(e,r,t){const a=t[r]??={store:null,source:T(void 0),unsubscribe:Ft};if(a.store!==e&&!(Kn in t))if(a.unsubscribe(),a.store=e??null,e==null)a.source.v=void 0,a.unsubscribe=Ft;else{var s=!0;a.unsubscribe=ps(e,i=>{s?a.source.v=i:g(a.source,i)}),s=!1}return e&&Kn in t?We(e):n(a.source)}function Nt(){const e={};function r(){xn(()=>{for(var t in e)e[t].unsubscribe();si(e,Kn,{enumerable:!1,value:!0})})}return[e,r]}function Ol(e,r,t){return e.set(t),r}function jl(e){var r=Ga;try{return Ga=!1,[e(),Ga]}finally{Ga=r}}function dt(e,r,t,a){var s=!ya||(t&Lo)!==0,i=(t&Ro)!==0,o=(t&Io)!==0,l=a,d=!0,c=()=>(d&&(d=!1,l=o?b(a):a),l),u;if(i){var h=Hr in e||po in e;u=ua(e,r)?.set??(h&&r in e?Z=>e[r]=Z:void 0)}var f,p=!1;i?[f,p]=jl(()=>e[r]):f=e[r],f===void 0&&a!==void 0&&(f=c(),u&&(s&&ko(),u(f)));var k;if(s?k=()=>{var Z=e[r];return Z===void 0?c():(d=!0,Z)}:k=()=>{var Z=e[r];return Z!==void 0&&(l=void 0),Z===void 0?l:Z},s&&(t&zo)===0)return k;if(u){var S=e.$$legacy;return(function(Z,K){return arguments.length>0?((!s||!K||S||p)&&u(K?k():Z),Z):k()})}var y=!1,x=((t&Po)!==0?Va:ut)(()=>(y=!1,k()));i&&n(x);var H=Ge;return(function(Z,K){if(arguments.length>0){const te=K?n(x):s&&i?da(Z):Z;return g(x,te),y=!0,l!==void 0&&(l=te),Z}return sa&&y||(H.f&wr)!==0?x.v:n(x)})}function Ea(e){lt===null&&ls(),ya&&lt.l!==null?Bl(lt).m.push(e):Hn(()=>{const r=b(e);if(typeof r=="function")return r})}function Fl(e){lt===null&&ls(),Ea(()=>()=>b(e))}function ql(e,r,{bubbles:t=!1,cancelable:a=!1}={}){return new CustomEvent(e,{detail:r,bubbles:t,cancelable:a})}function gs(){const e=lt;return e===null&&ls(),(r,t,a)=>{const s=e.s.$$events?.[r];if(s){const i=_n(s)?s.slice():[s],o=ql(r,t,a);for(const l of i)l.call(e.x,o);return!o.defaultPrevented}return!0}}function Bl(e){var r=e.l;return r.u??={a:[],b:[],m:[]}}const Ul="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Ul);Ho();const Hl=e=>e;function Wi(e){const r=e-1;return r*r*r+1}function Bs(e){const r=typeof e=="string"&&e.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return r?[parseFloat(r[1]),r[2]||"px"]:[e,"px"]}function dr(e,{delay:r=0,duration:t=400,easing:a=Hl}={}){const s=+getComputedStyle(e).opacity;return{delay:r,duration:t,easing:a,css:i=>`opacity: ${i*s}`}}function Qi(e,{delay:r=0,duration:t=400,easing:a=Wi,x:s=0,y:i=0,opacity:o=0}={}){const l=getComputedStyle(e),d=+l.opacity,c=l.transform==="none"?"":l.transform,u=d*(1-o),[h,f]=Bs(s),[p,k]=Bs(i);return{delay:r,duration:t,easing:a,css:(S,y)=>`
			transform: ${c} translate(${(1-S)*h}${f}, ${(1-S)*p}${k});
			opacity: ${d-u*y}`}}function _s(e,{delay:r=0,duration:t=400,easing:a=Wi,start:s=0,opacity:i=0}={}){const o=getComputedStyle(e),l=+o.opacity,d=o.transform==="none"?"":o.transform,c=1-s,u=l*(1-i);return{delay:r,duration:t,easing:a,css:(h,f)=>`
			transform: ${d} scale(${1-c*f});
			opacity: ${l-u*f}
		`}}const Vl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-arrows-shuffle-2"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 4l3 3l-3 3" /><path d="M18 20l3 -3l-3 -3" /><path d="M3 7h3a5 5 0 0 1 5 5a5 5 0 0 0 5 5h5" /><path d="M3 17h3a5 5 0 0 0 5 -5a5 5 0 0 1 5 -5h5" /></svg>',Yl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-deezer"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 16.5h2v.5h-2z" /><path d="M8 16.5h2.5v.5h-2.5z" /><path d="M16 17h-2.5v-.5h2.5z" /><path d="M21.5 17h-2.5v-.5h2.5z" /><path d="M21.5 13h-2.5v.5h2.5z" /><path d="M21.5 9.5h-2.5v.5h2.5z" /><path d="M21.5 6h-2.5v.5h2.5z" /><path d="M16 13h-2.5v.5h2.5z" /><path d="M8 13.5h2.5v-.5h-2.5z" /><path d="M8 9.5h2.5v.5h-2.5z" /></svg>',Wl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-compact-down"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 11l8 3l8 -3" /></svg>',Ql='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-compact-left"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M13 20l-3 -8l3 -8" /></svg>',Kl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-chevron-left"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 6l-6 6l6 6" /></svg>',Us='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-disc"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /><path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M7 12a5 5 0 0 1 5 -5" /><path d="M12 17a5 5 0 0 0 5 -5" /></svg>',Xl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-grip-horizontal"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M5 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M19 9m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M19 15m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /></svg>',Gl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-heart"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572" /></svg>',Zl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-heart"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6.979 3.074a6 6 0 0 1 4.988 1.425l.037 .033l.034 -.03a6 6 0 0 1 4.733 -1.44l.246 .036a6 6 0 0 1 3.364 10.008l-.18 .185l-.048 .041l-7.45 7.379a1 1 0 0 1 -1.313 .082l-.094 -.082l-7.493 -7.422a6 6 0 0 1 3.176 -10.215z" /></svg>',Jl='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-menu-2"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 6l16 0" /><path d="M4 12l16 0" /><path d="M4 18l16 0" /></svg>',Rn='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-music"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" /><path d="M13 17a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" /><path d="M9 17v-13h10v13" /><path d="M9 8h10" /></svg>',ec='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-player-pause"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z" /><path d="M17 4h-2a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h2a2 2 0 0 0 2 -2v-12a2 2 0 0 0 -2 -2z" /></svg>',tc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-player-play"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M7 4v16l13 -8z" /></svg>',rc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-player-play"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 4v16a1 1 0 0 0 1.524 .852l13 -8a1 1 0 0 0 0 -1.704l-13 -8a1 1 0 0 0 -1.524 .852z" /></svg>',ac='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-player-skip-back"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M19.496 4.136l-12 7a1 1 0 0 0 0 1.728l12 7a1 1 0 0 0 1.504 -.864v-14a1 1 0 0 0 -1.504 -.864z" /><path d="M4 4a1 1 0 0 1 .993 .883l.007 .117v14a1 1 0 0 1 -1.993 .117l-.007 -.117v-14a1 1 0 0 1 1 -1z" /></svg>',nc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" class="icon icon-tabler icons-tabler-filled icon-tabler-player-skip-forward"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 5v14a1 1 0 0 0 1.504 .864l12 -7a1 1 0 0 0 0 -1.728l-12 -7a1 1 0 0 0 -1.504 .864z" /><path d="M20 4a1 1 0 0 1 .993 .883l.007 .117v14a1 1 0 0 1 -1.993 .117l-.007 -.117v-14a1 1 0 0 1 1 -1z" /></svg>',sc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-playlist"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 17m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0" /><path d="M17 17v-13h4" /><path d="M13 5h-10" /><path d="M3 9l10 0" /><path d="M9 13h-6" /></svg>',ic='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-radio"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3l-9.371 3.749a1 1 0 0 0 -.629 .928v11.323a1 1 0 0 0 1 1h14a1 1 0 0 0 1 -1v-11a1 1 0 0 0 -1 -1h-14.5" /><path d="M4 12h16" /><path d="M7 12v-2" /><path d="M17 16v.01" /><path d="M13 16v.01" /></svg>',oc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-refresh"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M20 11a8.1 8.1 0 0 0 -15.5 -2m-.5 -4v4h4" /><path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4" /></svg>',lc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-repeat"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 12v-3a3 3 0 0 1 3 -3h13m-3 -3l3 3l-3 3" /><path d="M20 12v3a3 3 0 0 1 -3 3h-13m3 3l-3 -3l3 -3" /></svg>',cc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-search"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0" /><path d="M21 21l-6 -6" /></svg>',vc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-settings"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z" /><path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" /></svg>',dc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-trash"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 7l16 0" /><path d="M10 11l0 6" /><path d="M14 11l0 6" /><path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" /><path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" /></svg>',uc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-volume"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 8a5 5 0 0 1 0 8" /><path d="M17.7 5a9 9 0 0 1 0 14" /><path d="M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5" /></svg>',fc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-volume-2"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 8a5 5 0 0 1 0 8" /><path d="M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5" /></svg>',hc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-volume-3"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 15h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l3.5 -4.5a.8 .8 0 0 1 1.5 .5v14a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5" /><path d="M16 10l4 4m0 -4l-4 4" /></svg>',pc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-volume-off"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M15 8a5 5 0 0 1 1.912 4.934m-1.377 2.602a5 5 0 0 1 -.535 .464" /><path d="M17.7 5a9 9 0 0 1 2.362 11.086m-1.676 2.299a9 9 0 0 1 -.686 .615" /><path d="M9.069 5.054l.431 -.554a.8 .8 0 0 1 1.5 .5v2m0 4v8a.8 .8 0 0 1 -1.5 .5l-3.5 -4.5h-2a1 1 0 0 1 -1 -1v-4a1 1 0 0 1 1 -1h2l1.294 -1.664" /><path d="M3 3l18 18" /></svg>',gc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg>',_c='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-device-floppy"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 4h10l4 4v10a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2" /><path d="M12 14m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0" /><path d="M14 4l0 4l-6 0l0 -4" /></svg>',mc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-file-pencil"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M10 18l5 -5a1.414 1.414 0 0 0 -2 -2l-5 5v2h2z" /></svg>',Hs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-plus"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>',bc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-circle-check"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0" /><path d="M9 12l2 2l4 -4" /></svg>',wc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-dots"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /><path d="M19 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0" /></svg>',yc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-sort-descending"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 6l9 0" /><path d="M4 12l7 0" /><path d="M4 18l7 0" /><path d="M15 15l3 3l3 -3" /><path d="M18 6l0 12" /></svg>',kc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-sort-ascending"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 6l7 0" /><path d="M4 12l7 0" /><path d="M4 18l9 0" /><path d="M15 9l3 -3l3 3" /><path d="M18 6l0 12" /></svg>',w={ARTISTS:Rn,ALBUMS:Us,GENRES:Rn,PLAYLISTS:sc,RADIO:ic,SEARCH:cc,PLAY:rc,PLAY_OUTLINE:tc,PAUSE:ec,PREVIOUS:ac,NEXT:nc,SHUFFLE:Vl,REPEAT:lc,VOLUME_FULL:uc,VOLUME_MEDIUM:fc,VOLUME_MUTE:hc,VOLUME_OFF:pc,HEART:Gl,HEART_FILLED:Zl,SYNC:oc,SETTINGS:vc,CLOSE:gc,MENU:Jl,BACK:Kl,BACK_COMPACT:Ql,CHEVRON_DOWN:Wl,DRAG_HANDLE:Xl,REMOVE:dc,DEEZER:Yl,SAVE:_c,EDIT:mc,ADD:Hs,ACCEPT:bc,DOTS:wc,ADD_TO_PLAYLIST:Hs,ALBUM_LINK:Us,ARTIST_LINK:Rn,SORT_DESC:yc,SORT_ASC:kc};function ma(e){if(!e||!e.image)return null;if(e.image.startsWith("http"))return e.image;let r="";return e.image==="local"?r=`${e.name}.jpg`:r=e.image,`/imagesw/radio-logos/thumbs/${encodeURIComponent(r)}`}function Vs(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}const Xn=[{id:"default",label:"Default (Moode Dark)",colors:{"--c-white-10":"rgba(255, 255, 255, 0.1)","--c-white-20":"rgba(255, 255, 255, 0.2)","--c-white-30":"rgba(255, 255, 255, 0.3)","--c-white-50":"rgba(255, 255, 255, 0.5)","--c-white-60":"rgba(255, 255, 255, 0.6)","--c-white-90":"rgba(255, 255, 255, 0.9)","--c-black-20":"rgba(0, 0, 0, 0.2)","--c-black-50":"rgba(0, 0, 0, 0.5)","--c-black-70":"rgba(0, 0, 0, 0.7)","--c-black-80":"rgba(0, 0, 0, 0.8)","--c-black-90":"rgba(0, 0, 0, 0.9)","--c-accent":"#fa2d48","--c-accent-hover":"#ff4d65","--c-text-primary":"#ffffff","--c-text-secondary":"rgba(255, 255, 255, 0.6)","--c-text-muted":"#888888","--c-text-inverse":"#000000","--c-bg-app":"#000000","--c-bg-main":"#121212","--c-bg-sidebar":"#000000","--c-bg-card":"#1a1a1a","--c-bg-placeholder":"rgba(255, 255, 255, 0.1)","--c-bg-glass":"rgba(18, 18, 18, 0.95)","--c-bg-toast":"#333333","--c-heart":"#ff4444","--c-error":"#ff4444","--c-surface-hover":"rgba(255, 255, 255, 0.1)","--c-surface-active":"rgba(255, 255, 255, 0.2)","--c-surface-input":"#1a1a1a","--c-surface-input-focus":"rgba(255, 255, 255, 0.1)","--c-surface-button":"rgba(255, 255, 255, 0.1)","--c-surface-button-hover":"rgba(255, 255, 255, 0.1)","--c-surface-drag-phantom":"#1a1a1a","--c-surface-drag-land":"rgba(255, 255, 255, 0.1)","--c-rail-bg":"rgba(255, 255, 255, 0.2)","--c-rail-bg-hover":"rgba(255, 255, 255, 0.3)","--c-skeleton-base":"rgba(255, 255, 255, 0.1)","--c-border":"rgba(255, 255, 255, 0.1)","--c-border-dim":"rgba(255, 255, 255, 0.1)","--c-border-bright":"rgba(255, 255, 255, 0.2)","--c-border-dashed":"rgba(255, 255, 255, 0.2)","--c-border-dashed-hover":"rgba(255, 255, 255, 0.5)","--c-overlay-dim":"rgba(0, 0, 0, 0.5)","--c-overlay-backdrop":"rgba(0, 0, 0, 0.8)","--c-shadow-card":"rgba(0, 0, 0, 0.3)","--c-shadow-popover":"rgba(0, 0, 0, 0.5)","--c-shadow-header":"rgba(0, 0, 0, 0.5)","--c-shadow-phantom":"rgba(0, 0, 0, 0.7)","--c-shadow-glow-accent":"rgba(250, 45, 72, 0.5)","--c-icon-idle":"#9ca3af","--c-icon-hover":"#ffffff","--c-icon-faint":"rgba(255, 255, 255, 0.5)","--icon-stroke-width":"1.5px","--header-height":"64px","--mini-player-height":"90px","--sidebar-width":"260px","--radius-sm":"4px","--radius-md":"8px","--radius-lg":"12px","--radius-xl":"20px","--radius-full":"9999px","--z-base":"1","--z-dock":"1000","--z-modal":"2000","--z-toast":"3000","--z-drag-item":"9999","--trans-fast":"0.2s ease","--trans-smooth":"0.3s cubic-bezier(0.2, 0.8, 0.2, 1)","--c-pl-0":"#fa2d48","--c-pl-1":"#2d7afa","--c-pl-2":"#2dfa85","--c-pl-3":"#faac2d","--c-pl-4":"#b82dfa","--c-pl-5":"#2dfaf3"}},{id:"gruvbox",label:"Gruvbox Dark",colors:{"--c-white-10":"rgba(251, 241, 199, 0.1)","--c-white-20":"rgba(251, 241, 199, 0.2)","--c-white-30":"rgba(251, 241, 199, 0.3)","--c-white-50":"rgba(251, 241, 199, 0.5)","--c-white-60":"rgba(251, 241, 199, 0.6)","--c-white-90":"rgba(251, 241, 199, 0.9)","--c-black-20":"rgba(40, 40, 40, 0.2)","--c-black-50":"rgba(40, 40, 40, 0.5)","--c-black-70":"rgba(40, 40, 40, 0.7)","--c-black-80":"rgba(40, 40, 40, 0.8)","--c-black-90":"rgba(40, 40, 40, 0.9)","--c-accent":"#d65d0e","--c-accent-hover":"#fe8019","--c-text-primary":"#fbf1c7","--c-text-secondary":"#ebdbb2","--c-text-muted":"#928374","--c-text-inverse":"#282828","--c-bg-app":"#282828","--c-bg-main":"#282828","--c-bg-sidebar":"#282828","--c-bg-card":"#3c3836","--c-bg-placeholder":"#504945","--c-bg-glass":"rgba(40, 40, 40, 0.98)","--c-bg-toast":"#32302f","--c-heart":"#fb4934","--c-error":"#cc241d","--c-surface-hover":"#3c3836","--c-surface-active":"#504945","--c-surface-input":"#3c3836","--c-surface-input-focus":"#504945","--c-surface-button":"rgba(251, 241, 199, 0.1)","--c-surface-button-hover":"rgba(251, 241, 199, 0.2)","--c-surface-drag-phantom":"#504945","--c-surface-drag-land":"rgba(251, 241, 199, 0.1)","--c-rail-bg":"#504945","--c-rail-bg-hover":"#665c54","--c-skeleton-base":"#3c3836","--c-border":"#504945","--c-border-dim":"#3c3836","--c-border-bright":"#665c54","--c-border-dashed":"rgba(168, 153, 132, 0.2)","--c-border-dashed-hover":"rgba(168, 153, 132, 0.5)","--c-overlay-dim":"rgba(40, 40, 40, 0.6)","--c-overlay-backdrop":"rgba(29, 32, 33, 0.8)","--c-shadow-card":"rgba(0, 0, 0, 0.3)","--c-shadow-popover":"rgba(0, 0, 0, 0.5)","--c-shadow-header":"rgba(0, 0, 0, 0.2)","--c-shadow-phantom":"rgba(0, 0, 0, 0.5)","--c-shadow-glow-accent":"rgba(214, 93, 14, 0.3)","--c-icon-idle":"#a89984","--c-icon-hover":"#fbf1c7","--c-icon-faint":"#504945","--icon-stroke-width":"1.5px","--header-height":"64px","--mini-player-height":"90px","--sidebar-width":"260px","--radius-sm":"4px","--radius-md":"8px","--radius-lg":"12px","--radius-xl":"16px","--radius-full":"9999px","--z-base":"1","--z-dock":"1000","--z-modal":"2000","--z-toast":"3000","--z-drag-item":"9999","--trans-fast":"0.2s ease","--trans-smooth":"0.3s cubic-bezier(0.2, 0.8, 0.2, 1)","--c-pl-0":"#cc241d","--c-pl-1":"#458588","--c-pl-2":"#a6e3a1","--c-pl-3":"#d65d0e","--c-pl-4":"#b16286","--c-pl-5":"#fabd2f"}}];function xc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var In={exports:{}},Nn={exports:{}},Ys;function Ec(){return Ys||(Ys=1,(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(t,a){return t<<a|t>>>32-a},rotr:function(t,a){return t<<32-a|t>>>a},endian:function(t){if(t.constructor==Number)return r.rotl(t,8)&16711935|r.rotl(t,24)&4278255360;for(var a=0;a<t.length;a++)t[a]=r.endian(t[a]);return t},randomBytes:function(t){for(var a=[];t>0;t--)a.push(Math.floor(Math.random()*256));return a},bytesToWords:function(t){for(var a=[],s=0,i=0;s<t.length;s++,i+=8)a[i>>>5]|=t[s]<<24-i%32;return a},wordsToBytes:function(t){for(var a=[],s=0;s<t.length*32;s+=8)a.push(t[s>>>5]>>>24-s%32&255);return a},bytesToHex:function(t){for(var a=[],s=0;s<t.length;s++)a.push((t[s]>>>4).toString(16)),a.push((t[s]&15).toString(16));return a.join("")},hexToBytes:function(t){for(var a=[],s=0;s<t.length;s+=2)a.push(parseInt(t.substr(s,2),16));return a},bytesToBase64:function(t){for(var a=[],s=0;s<t.length;s+=3)for(var i=t[s]<<16|t[s+1]<<8|t[s+2],o=0;o<4;o++)s*8+o*6<=t.length*8?a.push(e.charAt(i>>>6*(3-o)&63)):a.push("=");return a.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var a=[],s=0,i=0;s<t.length;i=++s%4)i!=0&&a.push((e.indexOf(t.charAt(s-1))&Math.pow(2,-2*i+8)-1)<<i*2|e.indexOf(t.charAt(s))>>>6-i*2);return a}};Nn.exports=r})()),Nn.exports}var Dn,Ws;function Qs(){if(Ws)return Dn;Ws=1;var e={utf8:{stringToBytes:function(r){return e.bin.stringToBytes(unescape(encodeURIComponent(r)))},bytesToString:function(r){return decodeURIComponent(escape(e.bin.bytesToString(r)))}},bin:{stringToBytes:function(r){for(var t=[],a=0;a<r.length;a++)t.push(r.charCodeAt(a)&255);return t},bytesToString:function(r){for(var t=[],a=0;a<r.length;a++)t.push(String.fromCharCode(r[a]));return t.join("")}}};return Dn=e,Dn}var On,Ks;function Sc(){if(Ks)return On;Ks=1,On=function(t){return t!=null&&(e(t)||r(t)||!!t._isBuffer)};function e(t){return!!t.constructor&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function r(t){return typeof t.readFloatLE=="function"&&typeof t.slice=="function"&&e(t.slice(0,0))}return On}var Xs;function Mc(){return Xs||(Xs=1,(function(){var e=Ec(),r=Qs().utf8,t=Sc(),a=Qs().bin,s=function(i,o){i.constructor==String?o&&o.encoding==="binary"?i=a.stringToBytes(i):i=r.stringToBytes(i):t(i)?i=Array.prototype.slice.call(i,0):!Array.isArray(i)&&i.constructor!==Uint8Array&&(i=i.toString());for(var l=e.bytesToWords(i),d=i.length*8,c=1732584193,u=-271733879,h=-1732584194,f=271733878,p=0;p<l.length;p++)l[p]=(l[p]<<8|l[p]>>>24)&16711935|(l[p]<<24|l[p]>>>8)&4278255360;l[d>>>5]|=128<<d%32,l[(d+64>>>9<<4)+14]=d;for(var k=s._ff,S=s._gg,y=s._hh,x=s._ii,p=0;p<l.length;p+=16){var H=c,Z=u,K=h,te=f;c=k(c,u,h,f,l[p+0],7,-680876936),f=k(f,c,u,h,l[p+1],12,-389564586),h=k(h,f,c,u,l[p+2],17,606105819),u=k(u,h,f,c,l[p+3],22,-1044525330),c=k(c,u,h,f,l[p+4],7,-176418897),f=k(f,c,u,h,l[p+5],12,1200080426),h=k(h,f,c,u,l[p+6],17,-1473231341),u=k(u,h,f,c,l[p+7],22,-45705983),c=k(c,u,h,f,l[p+8],7,1770035416),f=k(f,c,u,h,l[p+9],12,-1958414417),h=k(h,f,c,u,l[p+10],17,-42063),u=k(u,h,f,c,l[p+11],22,-1990404162),c=k(c,u,h,f,l[p+12],7,1804603682),f=k(f,c,u,h,l[p+13],12,-40341101),h=k(h,f,c,u,l[p+14],17,-1502002290),u=k(u,h,f,c,l[p+15],22,1236535329),c=S(c,u,h,f,l[p+1],5,-165796510),f=S(f,c,u,h,l[p+6],9,-1069501632),h=S(h,f,c,u,l[p+11],14,643717713),u=S(u,h,f,c,l[p+0],20,-373897302),c=S(c,u,h,f,l[p+5],5,-701558691),f=S(f,c,u,h,l[p+10],9,38016083),h=S(h,f,c,u,l[p+15],14,-660478335),u=S(u,h,f,c,l[p+4],20,-405537848),c=S(c,u,h,f,l[p+9],5,568446438),f=S(f,c,u,h,l[p+14],9,-1019803690),h=S(h,f,c,u,l[p+3],14,-187363961),u=S(u,h,f,c,l[p+8],20,1163531501),c=S(c,u,h,f,l[p+13],5,-1444681467),f=S(f,c,u,h,l[p+2],9,-51403784),h=S(h,f,c,u,l[p+7],14,1735328473),u=S(u,h,f,c,l[p+12],20,-1926607734),c=y(c,u,h,f,l[p+5],4,-378558),f=y(f,c,u,h,l[p+8],11,-2022574463),h=y(h,f,c,u,l[p+11],16,1839030562),u=y(u,h,f,c,l[p+14],23,-35309556),c=y(c,u,h,f,l[p+1],4,-1530992060),f=y(f,c,u,h,l[p+4],11,1272893353),h=y(h,f,c,u,l[p+7],16,-155497632),u=y(u,h,f,c,l[p+10],23,-1094730640),c=y(c,u,h,f,l[p+13],4,681279174),f=y(f,c,u,h,l[p+0],11,-358537222),h=y(h,f,c,u,l[p+3],16,-722521979),u=y(u,h,f,c,l[p+6],23,76029189),c=y(c,u,h,f,l[p+9],4,-640364487),f=y(f,c,u,h,l[p+12],11,-421815835),h=y(h,f,c,u,l[p+15],16,530742520),u=y(u,h,f,c,l[p+2],23,-995338651),c=x(c,u,h,f,l[p+0],6,-198630844),f=x(f,c,u,h,l[p+7],10,1126891415),h=x(h,f,c,u,l[p+14],15,-1416354905),u=x(u,h,f,c,l[p+5],21,-57434055),c=x(c,u,h,f,l[p+12],6,1700485571),f=x(f,c,u,h,l[p+3],10,-1894986606),h=x(h,f,c,u,l[p+10],15,-1051523),u=x(u,h,f,c,l[p+1],21,-2054922799),c=x(c,u,h,f,l[p+8],6,1873313359),f=x(f,c,u,h,l[p+15],10,-30611744),h=x(h,f,c,u,l[p+6],15,-1560198380),u=x(u,h,f,c,l[p+13],21,1309151649),c=x(c,u,h,f,l[p+4],6,-145523070),f=x(f,c,u,h,l[p+11],10,-1120210379),h=x(h,f,c,u,l[p+2],15,718787259),u=x(u,h,f,c,l[p+9],21,-343485551),c=c+H>>>0,u=u+Z>>>0,h=h+K>>>0,f=f+te>>>0}return e.endian([c,u,h,f])};s._ff=function(i,o,l,d,c,u,h){var f=i+(o&l|~o&d)+(c>>>0)+h;return(f<<u|f>>>32-u)+o},s._gg=function(i,o,l,d,c,u,h){var f=i+(o&d|l&~d)+(c>>>0)+h;return(f<<u|f>>>32-u)+o},s._hh=function(i,o,l,d,c,u,h){var f=i+(o^l^d)+(c>>>0)+h;return(f<<u|f>>>32-u)+o},s._ii=function(i,o,l,d,c,u,h){var f=i+(l^(o|~d))+(c>>>0)+h;return(f<<u|f>>>32-u)+o},s._blocksize=16,s._digestsize=16,In.exports=function(i,o){if(i==null)throw new Error("Illegal argument "+i);var l=e.wordsToBytes(s(i,o));return o&&o.asBytes?l:o&&o.asString?a.bytesToString(l):e.bytesToHex(l)}})()),In.exports}var Tc=Mc();const $c=xc(Tc),Gs=Ue("Disconnected"),Gn=Ue(null);let jn;function Fe(e,r="info"){Gn.set({text:e,type:r}),jn&&clearTimeout(jn),jn=setTimeout(()=>{Gn.set(null)},3e3)}const Ac=localStorage.getItem("app_theme")||"default",un=Ue(Ac);un.subscribe(e=>{if(typeof document>"u")return;localStorage.setItem("app_theme",e);const r=Xn.find(a=>a.id===e);if(!r)return;const t=document.documentElement;document.body.setAttribute("data-theme",e),Object.entries(r.colors).forEach(([a,s])=>{t.style.setProperty(a,s)})});const fn=Ue({isOpen:!1,title:"",message:"",confirmLabel:"Confirm",cancelLabel:"Cancel",onConfirm:null,type:"confirm",inputValue:"",placeholder:"",options:[]});function xr({title:e="Confirm Action",message:r="Are you sure?",confirmLabel:t="Confirm",cancelLabel:a="Cancel",type:s="confirm",inputValue:i="",placeholder:o="",options:l=[],onConfirm:d=()=>{}}){fn.set({isOpen:!0,title:e,message:r,confirmLabel:t,cancelLabel:a,type:s,inputValue:i,placeholder:o,options:l,onConfirm:d})}function Za(){fn.set({isOpen:!1,title:"",message:"",confirmLabel:"",cancelLabel:"",onConfirm:null,type:"confirm",inputValue:"",placeholder:"",options:[]})}const pt=Ue({state:"stop",volume:50,elapsed:0,duration:0,random:!1,repeat:!1,bitrate:0,format:"",song:0,songid:0}),Gt=Ue({title:"Not Playing",artist:"",album:"",file:"",stationName:null,id:null,pos:null}),hn=Ue(!1),an=Ue(!1),Zn=Ue(!1),Jn=Ue(!1),jt=Ue("library"),Wa=Ue(null),Jt=Ue(!1),Cc=localStorage.getItem("sidebarCollapsed")==="true",es=Ue(Cc);es.subscribe(e=>{typeof localStorage<"u"&&localStorage.setItem("sidebarCollapsed",String(e))});const Dr=Ue([]),ms=Ue([]),za=Ue([]),Pc=Ue(null),Pr=Ue(new Set),ht=Ue(!1),Qt=Ue([{view:"root"}]),Qr=Ue([]),Ki=Ue(0),Ra=Ue(""),Xi=Ue({});function Lc(e,r){Xi.update(t=>({...t,[e]:r}))}function zc(e){return We(Xi)[e]||0}const bs=Ue({isOpen:!1,track:null,context:{type:"general",playlistName:null,index:null},x:0,y:0,triggerRect:null});function Rc(){if(typeof navigator<"u"&&navigator.vibrate)try{navigator.vibrate(70)}catch{}}function Fa(e,r,t={}){if(!r&&t.type!=="playlist-card")return;Rc();let a=0,s=0,i=null,o=e.currentTarget;!o&&e.target&&e.target.closest&&(o=e.target.closest("button")||e.target),o&&o.getBoundingClientRect&&(i=o.getBoundingClientRect());const l=e.detail?.originalEvent||e;l.touches&&l.touches.length>0?(a=l.touches[0].clientX,s=l.touches[0].clientY):l.clientX&&(a=l.clientX,s=l.clientY);const d={type:"general",playlistName:null,index:null,...t};bs.set({isOpen:!0,track:r,context:d,x:a,y:s,triggerRect:i})}function Dt(){bs.set({isOpen:!1,track:null,context:{},x:0,y:0,triggerRect:null})}let ts=null,rs=null;function Ic(e){rs=e}function Ir(e,r=null){r&&(ts=r),rs?rs(e,r):console.warn("Router callback not set!")}function Nc(){const e=ts;return ts=null,e}function Dc(){window.history.back()}function ba(e,r=[],t=null){if(!e||!e.file)return"/images/default_cover.png";if(Gi(e.file)||e.genre==="Radio")return e.image?ma(e):Zi(e,r,t)||"/images/radio_placeholder.png";let a=e.file.startsWith("/")?e.file.slice(1):e.file;return`/coverart.php/${encodeURI(a)}`}function qa(e,r="sm",t=[],a=null){if(!e||e.file&&(Gi(e.file)||e.genre==="Radio"||Array.isArray(e)))return e&&e.image?ma(e):Zi(e,t,a)||"/images/radio_icon.png";if(!e.file)return"/images/default_icon.png";if(e.thumbHash){const s=r==="md"?"":"_sm";return`/imagesw/thmcache/${e.thumbHash}${s}.jpg`}try{const s=e.file.lastIndexOf("/"),i=s===-1?".":e.file.substring(0,s);return`/imagesw/thmcache/${$c(i)}${r==="md"?"":"_sm"}.jpg`}catch{let i=e.file.startsWith("/")?e.file.slice(1):e.file;return`/coverart.php/${encodeURI(i)}`}}function Gi(e){return e?e.startsWith("http")||e.includes("://")||e.includes("RADIO"):!1}function Zi(e,r,t){const a=d=>(d||"").toString().toLowerCase().replace(/[^a-z0-9]/g,""),s=a(e?.title),i=a(e?.stationName),o=a(t);if(r&&r.length>0){const d=r.find(c=>{const u=a(c.name);return u?u===i||u===o||s&&u===s||s&&s.includes(u)&&u.length>3:!1});if(d)return ma(d)}const l=e?.stationName||t;return l?ma({name:l,image:"local"}):null}Yi([Gt,Dr,Wa],([e,r,t])=>ba(e,r,t));Yi(Gt,e=>!e||!e.file||e.file.startsWith("http")?null:`/coverart.php/${encodeURI(e.file)}`);const Oc=localStorage.getItem("alarmTime")||"08:00",jc=localStorage.getItem("alarmEnabled")==="true",Fc=Ue(Oc),qc=Ue(jc);Fc.subscribe(e=>localStorage.setItem("alarmTime",e));qc.subscribe(e=>localStorage.setItem("alarmEnabled",String(e)));const ot={NAME:"MoodePlayerDB",STORE_NAME:"music",VERSION:3},Bc={SYNC:"/wave-api.php",STATIONS:e=>"/wave-api.php?action=stations",COVER_ART:e=>`/coverart.php?u=${encodeURIComponent(e)}`,RADIO_LOGOS:e=>`/imagesw/radio-logos/thumbs/${e}`},Lr={open(){return new Promise((e,r)=>{const t=indexedDB.open(ot.NAME,ot.VERSION);t.onupgradeneeded=a=>{const s=a.target.result,i=a.target.transaction;let o;s.objectStoreNames.contains(ot.STORE_NAME)?o=i.objectStore(ot.STORE_NAME):o=s.createObjectStore(ot.STORE_NAME,{keyPath:"file"}),o.indexNames.contains("artist")||o.createIndex("artist","artist",{unique:!1}),o.indexNames.contains("album")||o.createIndex("album","album",{unique:!1}),o.indexNames.contains("genre")||o.createIndex("genre","genre",{unique:!1}),o.indexNames.contains("album_artist")||o.createIndex("album_artist","album_artist",{unique:!1})},t.onsuccess=()=>e(t.result),t.onerror=()=>r(t.error)})},async clear(){const e=await this.open();return new Promise((r,t)=>{const a=e.transaction(ot.STORE_NAME,"readwrite");a.objectStore(ot.STORE_NAME).clear(),a.oncomplete=()=>r(),a.onerror=()=>t(a.error)})},async bulkAdd(e){const r=await this.open();return new Promise((t,a)=>{const s=r.transaction(ot.STORE_NAME,"readwrite"),i=s.objectStore(ot.STORE_NAME);e.forEach(o=>i.put(o)),s.oncomplete=()=>t(),s.onerror=()=>a(s.error)})},async getFilesMap(e){if(!e||e.length===0)return new Map;const r=await this.open();return new Promise(t=>{const s=r.transaction(ot.STORE_NAME,"readonly").objectStore(ot.STORE_NAME),i=new Map;let o=0;e.forEach(l=>{const d=l.normalize("NFC").trim(),c=s.get(d);c.onsuccess=u=>{u.target.result&&i.set(l,u.target.result),o++,o===e.length&&t(i)},c.onerror=()=>{o++,o===e.length&&t(i)}})})},async getArtists(){const e=await this.open();return new Promise((r,t)=>{const s=e.transaction(ot.STORE_NAME,"readonly").objectStore(ot.STORE_NAME),i=new Map,o=s.openCursor();o.onsuccess=l=>{const d=l.target.result;if(d){const c=d.value,u=c.album_artist||c.artist;u&&!i.has(u)&&i.set(u,{name:u,file:c.file,thumbHash:c.thumbHash}),d.continue()}else{const c=Array.from(i.values()).sort((u,h)=>u.name.localeCompare(h.name,void 0,{sensitivity:"base"}));r(c)}},o.onerror=()=>t(o.error)})},async getAlbums(){const e=await this.open();return new Promise((r,t)=>{const s=e.transaction(ot.STORE_NAME,"readonly").objectStore(ot.STORE_NAME).index("album"),i=[],o=s.openCursor(null,"nextunique");o.onsuccess=l=>{const d=l.target.result;if(d){const c=d.value;i.push({name:c.album,artist:c.album_artist||c.artist,file:c.file,thumbHash:c.thumbHash,qualityBadge:c.qualityBadge,year:c.year||0}),d.continue()}else r(i)},o.onerror=()=>t(o.error)})},async getArtistAlbums(e){if(!e)return[];const r=await this.open(),t=e.normalize("NFC").trim();return new Promise((a,s)=>{const o=r.transaction(ot.STORE_NAME,"readonly").objectStore(ot.STORE_NAME),l=new Promise(c=>{o.indexNames.contains("album_artist")?o.index("album_artist").getAll(IDBKeyRange.only(t)).onsuccess=u=>c(u.target.result):c([])}),d=new Promise(c=>{o.index("artist").getAll(IDBKeyRange.only(t)).onsuccess=u=>c(u.target.result)});Promise.all([l,d]).then(([c,u])=>{const h=[...c,...u],f=[],p=new Set;h.forEach(k=>{p.has(k.album)||(p.add(k.album),f.push({name:k.album,artist:k.album_artist||k.artist,file:k.file,thumbHash:k.thumbHash,qualityBadge:k.qualityBadge,year:k.year||0}))}),a(f)}).catch(c=>s(c))})},async getAlbumTracks(e,r=null){const t=await this.open(),a=e.normalize("NFC").trim(),s=r?r.normalize("NFC").trim():null;return console.log(`[DB] getAlbumTracks called. Album: "${a}", FilterArtist: "${s}"`),new Promise((i,o)=>{const d=t.transaction(ot.STORE_NAME,"readonly").objectStore(ot.STORE_NAME).index("album"),c=IDBKeyRange.only(a),u=d.getAll(c);u.onsuccess=()=>{let h=u.result;if(console.log(`[DB] Found ${h.length} raw tracks for album "${a}"`),s){const f=h.length;h=h.filter(p=>{const k=(p.artist||"").normalize("NFC").trim(),S=(p.album_artist||"").normalize("NFC").trim();return k===s||S===s}),console.log(`[DB] After artist filter: ${h.length} tracks (Removed ${f-h.length})`)}else console.log("[DB] No artist filter provided. Returning all tracks.");h.sort((f,p)=>{const k=parseInt(f.disc||1),S=parseInt(p.disc||1);if(k!==S)return k-S;const y=parseInt(f.track||0),x=parseInt(p.track||0);return y-x}),i(h)},u.onerror=()=>o(u.error)})},async getGenres(){const e=await this.open();return new Promise((r,t)=>{const s=e.transaction(ot.STORE_NAME,"readonly").objectStore(ot.STORE_NAME).index("genre"),i=[],o=s.openKeyCursor(null,"nextunique");o.onsuccess=l=>{const d=l.target.result;d?(i.push(d.key),d.continue()):r(i)},o.onerror=()=>t(o.error)})},async getGenreTracks(e){const r=await this.open(),t=e.normalize("NFC").trim();return new Promise((a,s)=>{const l=r.transaction(ot.STORE_NAME,"readonly").objectStore(ot.STORE_NAME).index("genre").getAll(IDBKeyRange.only(t));l.onsuccess=()=>a(l.result),l.onerror=()=>s(l.error)})},async search(e){if(!e)return[];const r=e.toLowerCase().normalize("NFC").trim(),t=await this.open();return new Promise((a,s)=>{const o=t.transaction(ot.STORE_NAME,"readonly").objectStore(ot.STORE_NAME),l=[],d=100,c=o.openCursor();c.onsuccess=u=>{const h=u.target.result;if(h){const f=h.value;if((f.title&&f.title.toLowerCase().includes(r)||f.artist&&f.artist.toLowerCase().includes(r)||f.album&&f.album.toLowerCase().includes(r)||f.album_artist&&f.album_artist.toLowerCase().includes(r))&&l.push(f),l.length>=d){a(l);return}h.continue()}else a(l)},c.onerror=()=>s(c.error)})}};var Uc=E('<div class="skeleton svelte-tl058d"></div>');function qt(e,r){let t=dt(r,"width",8,"100%"),a=dt(r,"height",8,"20px"),s=dt(r,"radius",8,"4px"),i=dt(r,"style",8,"");var o=Uc();de(()=>vt(o,`width: ${t()??""}; height: ${a()??""}; border-radius: ${s()??""}; ${i()??""}`)),m(e,o)}var Hc=E('<div class="skel svelte-1b8que2"><!></div>'),Vc=E('<img loading="lazy"/>'),Yc=E('<div class="loader svelte-1b8que2"><!> <!> <!></div>');function ta(e,r){yt(r,!1);let t=dt(r,"src",8),a=dt(r,"alt",8,""),s=dt(r,"radius",8,"0px");const i=gs();let o=T("loading");function l(){g(o,"loaded")}function d(y){i("error",y),g(o,"error")}J(()=>D(t()),()=>{t()?g(o,"loading"):g(o,"error")}),Ht(),Mt();var c=Yc(),u=v(c);{var h=y=>{var x=Hc(),H=v(x);qt(H,{width:"100%",height:"100%",get radius(){return s()}}),At(2,x,()=>dr,()=>({duration:200})),m(y,x)};L(u,y=>{n(o)==="loading"&&y(h)})}var f=_(u,2);{var p=y=>{var x=Vc();let H;de(()=>{It(x,"src",t()),It(x,"alt",a()),vt(x,`border-radius: ${s()??""}`),H=Ye(x,1,"svelte-1b8que2",null,H,{vis:n(o)==="loaded"})}),$("load",x,l),$("error",x,d),m(y,x)};L(f,y=>{t()&&n(o)!=="error"&&y(p)})}var k=_(f,2);{var S=y=>{var x=Je(),H=Le(x);rn(H,r,"fallback",{}),m(y,x)};L(k,y=>{n(o)==="error"&&y(S)})}de(()=>vt(c,`border-radius: ${s()??""}`)),m(e,c),kt()}const Br={DEFAULT_IP:typeof window<"u"?window.location.hostname:"localhost",get MOODE_IP(){try{return typeof localStorage<"u"?localStorage.getItem("moode_ip")||this.DEFAULT_IP:this.DEFAULT_IP}catch{return this.DEFAULT_IP}},setMoodeIp(e){if(typeof localStorage<"u"){const r=e?e.trim():"";r&&localStorage.setItem("moode_ip",r)}}};class Wc{constructor(){this.socket=null,this.queue=[],this.isProcessing=!1,this.reconnectTimer=null,this.watchdogTimer=null,this._buffer=""}get isConnected(){return this.socket&&this.socket.readyState===WebSocket.OPEN}connect(){if(this.socket&&(this.socket.readyState===WebSocket.CONNECTING||this.socket.readyState===WebSocket.OPEN))return;this.reconnectTimer&&clearTimeout(this.reconnectTimer);let r=Br.MOODE_IP||window.location.hostname;r=r.replace(/^https?:\/\//,"").split(":")[0].split("/")[0];const t=Br.WS_PORT||"8080",a=`ws://${r}:${t}`;console.log("[MPD] Connecting to:",a);try{this.socket=new WebSocket(a,["binary"])}catch(s){console.error("[MPD] Connection Error:",s),this.reconnectTimer=setTimeout(()=>this.connect(),5e3);return}this.socket.onopen=()=>{console.log("[MPD] Connected"),Gs.set("Connected"),Fe("Connected to Moode","success"),this._processQueue()},this.socket.onmessage=s=>this._handleMessage(s),this.socket.onclose=s=>{console.warn("[MPD] Socket closed",s.code,s.reason),Gs.set("Disconnected"),this._cleanup(),this.reconnectTimer=setTimeout(()=>this.connect(),3e3)},this.socket.onerror=s=>{console.error("[MPD] Socket error",s)}}send(r){return new Promise((t,a)=>{this.queue.push({cmd:r,resolve:t,reject:a}),this._processQueue()})}_cleanup(){for(this.isProcessing=!1,this._buffer="",this.watchdogTimer&&clearTimeout(this.watchdogTimer);this.queue.length>0;){const{reject:r}=this.queue.shift();r(new Error("Connection lost"))}}async _processQueue(){if(this.isProcessing||this.queue.length===0||!this.isConnected)return;this.isProcessing=!0;const{cmd:r}=this.queue[0];this.watchdogTimer&&clearTimeout(this.watchdogTimer),this.watchdogTimer=setTimeout(()=>{console.error("[MPD] Watchdog timeout"),this.socket&&this.socket.close()},2e4);try{const t=r.endsWith(`
`)?r:r+`
`;this.socket.send(new TextEncoder().encode(t))}catch(t){console.error("[MPD] Send error",t),this._cleanup()}}async _handleMessage(r){let t=r.data;t instanceof Blob&&(t=await t.text()),this.watchdogTimer&&(clearTimeout(this.watchdogTimer),this.watchdogTimer=null),this._buffer+=t;const a=this._buffer.endsWith(`
OK
`)||this._buffer===`OK
`,s=this._buffer.startsWith("ACK");if(a||s){const i=this._buffer;this._buffer="";const o=this.queue.shift();if(this.isProcessing=!1,o)if(s)console.error(`[MPD] Error: ${i.trim()}`),o.reject(new Error(i.trim()));else{const l=i.replace(/\nOK\n$/,"").replace(/^OK\n$/,"");o.resolve(l)}this._processQueue()}else{if(!this.queue.length)return;this.watchdogTimer=setTimeout(()=>{console.error("[MPD] Watchdog timeout receiving large data"),this.socket&&this.socket.close()},2e4)}}}const Me=new Wc,Xt={parseKeyValue(e){const r={};if(!e)return r;const t=e.split(`
`);for(const a of t){const s=a.indexOf(": ");if(s===-1)continue;const i=a.substring(0,s).toLowerCase(),o=a.substring(s+2);r[i]=o}return r},parseStatus(e){const r=this.parseKeyValue(e);let t="";if(r.audio){const a=r.audio.split(":");a[1]&&(t=`${a[1]}-bit`)}return{state:r.state||"stop",volume:parseInt(r.volume)||0,elapsed:parseFloat(r.elapsed)||0,duration:parseFloat(r.duration)||0,random:r.random==="1",repeat:r.repeat==="1",song:parseInt(r.song)||0,songId:parseInt(r.songid)||-1,playlistLength:parseInt(r.playlistlength)||0,bitrate:parseInt(r.bitrate)||0,format:t,playlistVersion:parseInt(r.playlist)||0}},parseCurrentSong(e){const r=this.parseKeyValue(e);return this._normalizeTrack(r)},parsePlaylists(e){const r=e.split(`
`),t=[];let a=null;for(const s of r)s.startsWith("playlist: ")?(a&&t.push(a),a={playlist:s.substring(10)}):s.startsWith("Last-Modified: ")&&a&&(a["last-modified"]=s.substring(15));return a&&t.push(a),t.map(s=>({name:s.playlist,lastModified:s["last-modified"]}))},parseTracks(e){const r=[];let t=null,a=0,s=e.indexOf(`
`,a);for(;s!==-1;){const i=e.substring(a,s),o=i.indexOf(": ");if(o!==-1){const l=i.substring(0,o).toLowerCase(),d=i.substring(o+2);l==="file"?(t&&r.push(this._normalizeTrack(t)),t={file:d}):t&&(t[l]=d)}a=s+1,s=e.indexOf(`
`,a)}return t&&r.push(this._normalizeTrack(t)),r},_normalizeTrack(e){const r=e.file||e.File||"",t=e.Title||e.title||e.Name||e.name||r.split("/").pop()||"Unknown";return{file:r,title:t,artist:e.Artist||e.artist||"Unknown Artist",album:e.Album||e.album||"Unknown Album",genre:e.Genre||e.genre||"Unknown",time:parseFloat(e.Time||e.time||0),track:e.Track||e.track||"",id:e.Id||e.id,pos:e.Pos||e.pos||null,stationName:e.name||e.Name||null}}},Qc=1e3,Kc=250;let nn=null,Ia=null,sn=0,Fr=1,pn=!0,mr=!1,Ur=0,la=null;function on(e){return e?String(e).normalize("NFC").replace(/\\/g,"\\\\").replace(/"/g,'\\"'):""}function Xc(){Gc(),pn=!0,mr=!1,Ur=0,ht.set(!1),ir(),nn=setInterval(()=>{Me.isConnected&&!Me.isProcessing&&ir()},Qc)}function Gc(){nn&&(clearInterval(nn),nn=null),ws()}async function ir(){try{const e=await Me.send("status"),r=await Me.send("currentsong"),t=Xt.parseStatus(e),a=Xt.parseCurrentSong(r);Jc(t,a);const s=We(Ki);if(We(ht))return;(t.playlistLength>0&&t.playlistVersion!==s||t.playlistLength>0&&We(Qr).length===0)&&Zc(t.playlistVersion)}catch{}}async function Zc(e){if(!We(ht))try{const r=await Me.send("playlistinfo");if(We(ht))return;const t=Xt.parseTracks(r),a=t.map(o=>o.file).filter(o=>o&&!o.startsWith("http"));let s=new Map;if(a.length>0)try{s=await Lr.getFilesMap(a)}catch(o){console.warn("Failed to hydrate queue from DB",o)}const i=t.map(o=>{const l=(o.file||"").normalize("NFC"),d=s.get(l);return d?{...o,thumbHash:d.thumbHash,qualityBadge:d.qualityBadge,title:o.title||d.title,artist:o.artist||d.artist,album:o.album||d.album,_uid:String(o.id||o.pos+o.file)}:{...o,_uid:String(o.id||o.pos+o.file)}});Qr.set(i),Ki.set(e)}catch(r){console.error("Queue sync error",r)}}function Jc(e,r){const t=We(Gt),a=We(Dr),s=r.file&&r.file.startsWith("http");if(s){const i=c=>(c||"").toString().toLowerCase().replace(/[^a-z0-9]/g,""),o=i(r.file),l=i(r.title),d=a.find(c=>{const u=i(c.station||c.file||c.url||(Array.isArray(c)?c[1]:"")),h=i(c.name||(Array.isArray(c)?c[0]:""));return u&&o.includes(u)||h&&l.includes(h)});d?r.stationName=d.name||d[0]:t.stationName&&t.file===r.file&&(r.stationName=t.stationName)}Gt.set(r),pt.update(i=>{const o=e.state==="play",l=performance.now();if(e.state==="pause"||i.state==="pause")return Ja(!1),l<Ur?i:e;if(r.file!==t.file||pn)return pn=!1,mr=!1,Fr=1,s&&(e.elapsed=0),Ja(o&&!s),e;if(l<Ur)return i;if(mr)return mr=!1,Fr=1,Ja(o&&!s),e;if(o&&!s){const d=e.elapsed-i.elapsed;if(Math.abs(d)>2)return Fr=1,e;if(Math.abs(d)<.05)Fr=1;else{let u=d/1.5;Fr=Math.max(.5,Math.min(1.5,1+u))}return{...e,elapsed:i.elapsed}}return Ja(!1),e})}function Ja(e){e?as():ws()}function as(){Ia||pn||(sn=performance.now(),Ia=setInterval(()=>{const e=performance.now();let r=(e-sn)/1e3;r>2&&(r=0),sn=e,pt.update(t=>{if(t.state!=="play")return t;let a=t.elapsed+r*Fr;return t.duration>0&&a>t.duration&&(a=t.duration),{...t,elapsed:a}})},Kc))}function ws(){Ia&&(clearInterval(Ia),Ia=null),Fr=1,sn=0}async function Zs(e,r=!1){if(!e||e.length===0)return;ht.set(!0),mr=!0;const t=5;try{for(let a=0;a<e.length;a+=t){const s=e.slice(a,a+t),i=["command_list_begin"];s.forEach(o=>{i.push(`add "${on(o.file)}"`)}),i.push("command_list_end"),await Me.send(i.join(`
`))}r?(await Me.send("play 0"),Fe(`Playing ${e.length} tracks`,"success")):Fe(`Added ${e.length} tracks`,"success")}catch(a){console.error("[Player] Bulk Action Failed:",a),Fe("Error adding tracks","error")}finally{setTimeout(()=>{ht.set(!1),ir()},1500)}}const tr={async togglePlay(){const r=We(pt).state==="play";Ur=performance.now()+800,pt.update(t=>{const a=r?"pause":"play";return a==="play"?as():ws(),{...t,state:a}}),await Me.send(r?"pause 1":"play"),setTimeout(ir,900)},async next(){mr=!0,Ur=0,await Me.send("next"),ir()},async previous(){mr=!0,Ur=0,pt.update(e=>({...e,elapsed:0})),await Me.send("previous"),ir()},async setVolume(e){pt.update(r=>({...r,volume:e})),await Me.send(`setvol ${e}`)},async seek(e){mr=!0,Ur=performance.now()+500,pt.update(r=>({...r,elapsed:e})),await Me.send(`seekcur ${e}`),setTimeout(ir,600)},async toggleRandom(){const r=!We(pt).random;pt.update(t=>({...t,random:r})),await Me.send(`random ${r?1:0}`)},async toggleRepeat(){const r=!We(pt).repeat;pt.update(t=>({...t,repeat:r})),await Me.send(`repeat ${r?1:0}`)},async playUri(e,r={}){ht.set(!0);const t=on(e);mr=!0,pt.update(a=>({...a,state:"play",elapsed:0})),Gt.set({title:r.title||e.split("/").pop(),artist:r.artist||"",file:e}),as();try{const a=await Me.send("currentsong"),s=parseInt(Xt.parseKeyValue(a).pos),i=await Me.send(`addid "${t}"`),o=parseInt(Xt.parseKeyValue(i).id);if(isNaN(o))await Me.send(`add "${t}"`),await Me.send("play");else{const l=isNaN(s)?0:s+1;await Me.send(`moveid ${o} ${l}`),await Me.send(`playid ${o}`)}}catch(a){console.error("Play error",a),Fe("Failed to play","error")}setTimeout(()=>{ht.set(!1),ir()},1200)},async addToQueue(e){try{await Me.send(`add "${on(e)}"`),Fe("Added to queue","success")}catch(r){console.error("Add queue error",r),Fe("Failed to add","error")}},async playNext(e){ht.set(!0);const r=on(e);try{const t=await Me.send("currentsong"),a=parseInt(Xt.parseKeyValue(t).pos||-1);if(a===-1)ht.set(!1),await this.playUri(e);else{const s=await Me.send(`addid "${r}"`),i=parseInt(Xt.parseKeyValue(s).id);isNaN(i)||(await Me.send(`moveid ${i} ${a+1}`),Fe("Will play next","success")),setTimeout(()=>ht.set(!1),1e3)}}catch(t){console.error("Play Next error",t),Fe("Failed to set next","error"),ht.set(!1)}},async removeFromQueue(e){ht.set(!0),la&&clearTimeout(la);try{Qr.update(r=>{const t=[...r];return t.splice(e,1),t}),await Me.send(`delete ${e}`)}catch{Fe("Failed to remove","error"),ht.set(!1);return}la=setTimeout(()=>{ht.set(!1)},1e3)},async moveTrack(e,r){if(e!==r){ht.set(!0),la&&clearTimeout(la);try{await Me.send(`move ${e} ${r}`)}catch(t){console.error("Move failed",t),Fe("Move failed","error"),ht.set(!1),ir();return}la=setTimeout(()=>{ht.set(!1),ir()},2e3)}},async playAllTracks(e){if(!(!e||e.length===0))try{await Me.send("stop"),await Me.send("clear"),await Zs(e,!0)}catch(r){console.error(r)}},async addAllToQueue(e){!e||e.length===0||await Zs(e,!1)},async saveQueue(e){if(!e)return;const r=e.replace(/"/g,'\\"');try{await Me.send(`save "${r}"`),Fe(`Playlist "${e}" saved`,"success")}catch(t){if(t.message.includes("exist")){if(confirm(`Playlist "${e}" exists. Overwrite?`))try{await Me.send(`rm "${r}"`),await Me.send(`save "${r}"`),Fe(`Playlist "${e}" overwritten`,"success")}catch{Fe("Failed to overwrite","error")}}else console.error(t)}}};function Ji(e){return new Worker("/assets/sync.worker-CxDcqL9_.js",{name:e?.name})}const $a="Favorites";let Js=Promise.resolve();const ca=e=>e?e.toLowerCase().replace(/^https?:\/\//,"").replace(/^www\./,"").split("?")[0].replace(/\/$/,""):"";function ev(e){if(e==="Favorites")return"linear-gradient(135deg, hsl(348, 95%, 58%), hsl(348, 90%, 40%))";let r=0;for(let a=0;a<e.length;a++)r=e.charCodeAt(a)+((r<<5)-r);const t=Math.abs(r%360);return`linear-gradient(135deg, hsl(${t}, 60%, 40%), hsl(${(t+40)%360}, 60%, 30%))`}function tv(e){if(e==="Favorites")return"var(--c-heart)";let r=0;for(let a=0;a<e.length;a++)r=e.charCodeAt(a)+((r<<5)-r);return`var(--c-pl-${Math.abs(r%6)})`}const cr={async syncLibrary(){if(We(Jt))return;Jt.set(!0);const e=new Ji;e.postMessage({type:"START_SYNC",payload:{url:`http://${Br.MOODE_IP}/wave-api.php`}}),e.onmessage=r=>{const{type:t,count:a}=r.data;t==="DONE"&&(Fe(`Library updated: ${a} tracks`,"success"),Jt.set(!1),e.terminate()),t==="ERROR"&&(Fe("Sync Failed","error"),Jt.set(!1),e.terminate())},e.onerror=()=>{Jt.set(!1),e.terminate()}},async loadPlaylists(){Zn.set(!0);try{const e=await Me.send("listplaylists"),t=Xt.parsePlaylists(e).map(a=>({...a,color:ev(a.name),colorVar:tv(a.name)}));ms.set(t)}catch(e){console.error(e)}finally{Zn.set(!1)}},async createPlaylistFromQueue(e){if(!e)return;const r=e.replace(/"/g,'\\"');try{await Me.send(`save "${r}"`),Fe(`Playlist "${e}" created`,"success"),await this.loadPlaylists()}catch(t){console.error(t),Fe("Failed to create playlist","error")}},async deletePlaylist(e){if(!e)return;const r=e.replace(/"/g,'\\"');try{await Me.send(`rm "${r}"`),Fe("Playlist deleted","info"),await this.loadPlaylists()}catch(t){console.error(t),Fe("Delete failed","error")}},async renamePlaylist(e,r){if(!e||!r)return;const t=e.replace(/"/g,'\\"'),a=r.replace(/"/g,'\\"');try{await Me.send(`rename "${t}" "${a}"`),Fe("Playlist renamed","success"),await this.loadPlaylists()}catch(s){console.error(s),Fe("Rename failed","error")}},async openPlaylistDetails(e){if(!e)return;Jn.set(!0);const r=e.replace(/"/g,'\\"');try{const t=await Me.send(`listplaylistinfo "${r}"`),a=Xt.parseTracks(t),s=a.map(l=>l.file).filter(l=>l&&!l.startsWith("http"));let i=new Map;if(s.length>0)try{i=await Lr.getFilesMap(s)}catch(l){console.warn("Failed to hydrate playlist from DB",l)}const o=a.map(l=>{const d=i.get(l.file);return d?{...l,thumbHash:d.thumbHash,qualityBadge:d.qualityBadge,title:l.title||d.title,artist:l.artist||d.artist,album:l.album||d.album,_uid:Vs()}:{...l,_uid:Vs()}});za.set(o)}catch(t){console.error(t),Fe("Could not load playlist","error")}finally{Jn.set(!1)}},async movePlaylistTrack(e,r,t){const a=e.replace(/"/g,'\\"');try{await Me.send(`playlistmove "${a}" ${r} ${t}`)}catch{Fe("Move failed","error")}},async removeFromPlaylist(e,r){const t=e.replace(/"/g,'\\"');try{await Me.send(`playlistdelete "${t}" ${r}`),Fe("Track removed","success")}catch{Fe("Delete failed","error")}},async loadFavorites(){try{const e=await Me.send(`listplaylistinfo "${$a}"`),r=Xt.parseTracks(e),t=new Set;r.forEach(a=>{a.file&&t.add(a.file)}),Pr.set(t)}catch{Pr.set(new Set)}},async toggleFavorite(e){if(!e||!e.file)return;const r=e.file,t=r.replace(/"/g,'\\"'),a=r.startsWith("http"),s=We(Pr);let i=s.has(r);if(!i&&a){const o=ca(r);for(const l of s)if(ca(l)===o){i=!0;break}}Pr.update(o=>{const l=new Set(o);if(i){if(l.delete(r),a){const d=ca(r);for(const c of l)ca(c)===d&&l.delete(c)}}else l.add(r);return l}),Js=Js.then(async()=>{try{const o=await Me.send(`listplaylistinfo "${$a}"`),l=Xt.parseTracks(o);let d=[];if(l.forEach((c,u)=>{let h=!1;(c.file===r||a&&ca(c.file)===ca(r)||a&&(c.file.includes(r)||r.includes(c.file)))&&(h=!0),h&&d.push(u)}),i){if(d.length>0){d.sort((c,u)=>u-c);for(const c of d)await Me.send(`playlistdelete "${$a}" ${c}`);Fe("Removed from Favorites","info")}}else d.length>0?console.log("[Fav] Track already exists. Skipping."):(await Me.send(`playlistadd "${$a}" "${t}"`),l.length>0&&await Me.send(`playlistmove "${$a}" ${l.length} 0`),Fe("Added to Favorites","success"))}catch(o){console.error("Fav action failed",o),Fe("Action failed","error")}finally{await this.loadFavorites()}})}};function eo(){Me.connect(),Xc(),cr.loadPlaylists(),cr.loadFavorites()}function gn(e){return Me.send(e)}const{togglePlay:Sn,toggleRandom:Kr,toggleRepeat:Xr,setVolume:br,seek:ys,addToQueue:rv,playNext:av,removeFromQueue:nv,moveTrack:sv,saveQueue:iv,playAllTracks:to,addAllToQueue:ro}=tr,{syncLibrary:ov,loadRadioStations:lv,loadPlaylists:ks,openPlaylistDetails:ao,toggleFavorite:no,loadFavorites:cv,removeFromPlaylist:so,movePlaylistTrack:io}=cr;function Ba(e){const r=We(Gt),t=We(Dr),a=We(Wa);if(r.file&&r.file.startsWith("http")&&t.length>0&&(e==="next"||e==="previous")){let i=t.findIndex(l=>l.name===a);i===-1&&(i=0);let o;e==="next"?(o=i+1,o>=t.length&&(o=0)):(o=i-1,o<0&&(o=t.length-1)),xs(t[o])}else e==="next"&&tr.next(),e==="previous"&&tr.previous()}function xs(e){if(!e)return;Wa.set(e.name);const r=e[1]||e.station||e.file||e.url;r&&tr.playUri(r,{title:e.name,artist:e.genre||"Radio Stream",stationName:e.name})}function Mn(e){e&&(Wa.set(null),tr.playUri(e.file,{title:e.title,artist:e.artist,album:e.album,stationName:null}))}async function oo(e,r=0){if(!e)return;Wa.set(null);const t=e.replace(/"/g,'\\"');try{await Me.send("stop"),await Me.send("clear"),await Me.send(`load "${t}"`),await Me.send(`play ${r}`)}catch(a){console.error("Failed to play playlist context",a)}}const vv=Object.freeze(Object.defineProperty({__proto__:null,addAllToQueue:ro,addToQueue:rv,connect:eo,loadFavorites:cv,loadPlaylists:ks,loadRadioStations:lv,movePlaylistTrack:io,moveTrack:sv,nav:Ba,openPlaylistDetails:ao,playAllTracks:to,playNext:av,playPlaylistContext:oo,playStation:xs,playTrackOptimistic:Mn,removeFromPlaylist:so,removeFromQueue:nv,runMpdRequest:gn,saveQueue:iv,seek:ys,setVolume:br,syncLibrary:ov,toggleFavorite:no,togglePlay:Sn,toggleRandom:Kr,toggleRepeat:Xr},Symbol.toStringTag,{value:"Module"}));function Es(e,r=2e3){let t;const a=i=>{i.type==="mousedown"&&i.button!==0||(t=setTimeout(()=>{e.dispatchEvent(new CustomEvent("longpress",{detail:{originalEvent:i}}))},r))},s=()=>{clearTimeout(t)};return e.addEventListener("mousedown",a),e.addEventListener("touchstart",a,{passive:!0}),e.addEventListener("mouseup",s),e.addEventListener("mouseleave",s),e.addEventListener("touchend",s),e.addEventListener("touchcancel",s),e.addEventListener("touchmove",s),{destroy(){e.removeEventListener("mousedown",a),e.removeEventListener("touchstart",a),e.removeEventListener("mouseup",s),e.removeEventListener("mouseleave",s),e.removeEventListener("touchend",s),e.removeEventListener("touchcancel",s),e.removeEventListener("touchmove",s)}}}var dv=E('<div class="drag-handle svelte-5cs2hz" title="Drag to reorder"><div class="icon-small svelte-5cs2hz"><!></div></div>'),uv=E('<div class="eq-anim svelte-5cs2hz"><span class="bar b1 svelte-5cs2hz"></span> <span class="bar b2 svelte-5cs2hz"></span> <span class="bar b3 svelte-5cs2hz"></span></div>'),fv=E('<div class="icon-small svelte-5cs2hz"><!></div>'),hv=E('<div class="icon-small svelte-5cs2hz"><!></div>'),pv=E('<div class="icon-small accent svelte-5cs2hz"><!></div>'),gv=E('<span class="num svelte-5cs2hz"> </span>'),_v=E('<button class="num-box svelte-5cs2hz"><!></button>'),mv=E('<div slot="fallback" class="icon-ph svelte-5cs2hz"><!></div>'),bv=E('<span class="meta-tag quality svelte-5cs2hz"> </span>'),wv=E('<button class="btn-icon small remove svelte-5cs2hz"><!></button>'),yv=E('<div class="dur svelte-5cs2hz"> </div>'),kv=E('<div role="button" tabindex="0"><div class="left svelte-5cs2hz"><!> <div class="thumb svelte-5cs2hz"><!></div></div> <div class="info svelte-5cs2hz"><div class="title-row svelte-5cs2hz"><div class="title text-ellipsis svelte-5cs2hz"> </div> <!></div> <div> </div></div> <div class="right svelte-5cs2hz"><button class="btn-icon small context-menu-btn svelte-5cs2hz" title="Options"><!></button> <button><!></button> <!></div></div>');function Ua(e,r){yt(r,!1);const t=()=>xe(Pr,"$favorites",o),a=()=>xe(Qt,"$navigationStack",o),s=()=>xe(jt,"$activeMenuTab",o),i=()=>xe(Dr,"$stations",o),[o,l]=Nt(),d=T(),c=T(),u=T(),h=T(),f=T(),p=T(),k=T(),S=T(),y=T(),x=T(),H=T(),Z=T(),K=T(),te=T(),le=T(),C=T(),O=T();let P=dt(r,"track",8),be=dt(r,"index",8),he=dt(r,"isEditable",8,!1),A=dt(r,"playingIndex",24,()=>-1),N=dt(r,"playingFile",8,null),ae=dt(r,"isPlaying",8,!1);const U=gs();let re=T(!1),I=T(!1);function z(se){if(n(k))return"â";if(!se)return"0:00";const Ce=parseInt(se,10),ze=Math.floor(Ce/60),Ke=Ce%60;return`${ze}:${Ke.toString().padStart(2,"0")}`}function ge(se){se.stopPropagation(),n(f)?Sn():U("play")}function F(){return n(c)?.view==="details"&&n(c).data?.name?{type:"playlist",playlistName:n(c).data.name,index:be()}:n(u)?{type:"queue",index:be()}:{type:"general"}}function W(se){se.stopPropagation(),Fa(se,P(),F())}function ce(se){he()||Fa(se.detail.originalEvent,P(),F())}function M(se){se.stopPropagation(),!n(k)&&P().artist&&(jt.set("artists"),Ir("albums_by_artist",{name:P().artist}))}J(()=>D(P()),()=>{P()&&g(I,!1)}),J(()=>(t(),D(P())),()=>{g(d,t().has(P().file))}),J(()=>a(),()=>{g(c,a()[a().length-1])}),J(()=>(n(c),s()),()=>{g(u,n(c)?.view==="queue"||n(c)?.view==="root"&&s()==="queue")}),J(()=>(n(u),D(be()),D(A())),()=>{g(h,n(u)?Number(be())===A():!1)}),J(()=>(D(P()),D(N())),()=>{g(f,P().file===N())}),J(()=>(n(f),n(h)),()=>{g(p,n(f)&&!n(h))}),J(()=>D(P()),()=>{g(k,P().file&&(P().file.startsWith("http")||P().file.includes("RADIO")))}),J(()=>(n(h),D(ae()),n(re)),()=>{g(S,n(h)&&ae()&&n(re))}),J(()=>(n(h),D(ae()),n(re)),()=>{g(y,n(h)&&ae()&&!n(re))}),J(()=>(n(h),D(ae()),n(re)),()=>{g(x,n(h)&&!ae()&&!n(re))}),J(()=>(n(re),n(S)),()=>{g(H,n(re)&&!n(S))}),J(()=>D(P()),()=>{g(Z,P().title||P().file?.split("/").pop())}),J(()=>D(P()),()=>{g(K,P().artist||"Unknown")}),J(()=>D(P()),()=>{g(te,z(P().time))}),J(()=>D(P()),()=>{g(le,P().qualityBadge?P().qualityBadge.split(" ")[0]:null)}),J(()=>{},()=>{g(C,null)}),J(()=>(n(I),D(P()),i(),n(C),qa),()=>{g(O,n(I)?ba(P(),i(),n(C)):qa(P(),"sm",i(),n(C)))}),Ht(),Mt();var j=kv();let ee;var ue=v(j),V=v(ue);{var ne=se=>{var Ce=dv(),ze=v(Ce),Ke=v(ze);ie(Ke,()=>(D(w),b(()=>w.DRAG_HANDLE))),$("mousedown",Ce,rt=>U("startdrag",rt)),$("touchstart",Ce,rt=>U("startdrag",rt),void 0,!0),$("click",Ce,er(function(rt){ja.call(this,r,rt)})),m(se,Ce)},q=se=>{var Ce=_v(),ze=v(Ce);{var Ke=Ne=>{var De=uv();m(Ne,De)},rt=Ne=>{var De=Je(),Oe=Le(De);{var He=Xe=>{var qe=fv(),Re=v(qe);ie(Re,()=>(D(w),b(()=>w.PAUSE))),m(Xe,qe)},nt=Xe=>{var qe=Je(),Re=Le(qe);{var Be=st=>{var it=hv(),ft=v(it);ie(ft,()=>(D(w),b(()=>w.PLAY))),m(st,it)},Ze=st=>{var it=Je(),ft=Le(it);{var Tt=ct=>{var at=pv(),et=v(at);ie(et,()=>(D(w),b(()=>w.PLAY))),m(ct,at)},gt=ct=>{var at=gv(),et=v(at);de(()=>ve(et,be()+1)),m(ct,at)};L(ft,ct=>{n(x)?ct(Tt):ct(gt,!1)},!0)}m(st,it)};L(Re,st=>{n(H)?st(Be):st(Ze,!1)},!0)}m(Xe,qe)};L(Oe,Xe=>{n(S)?Xe(He):Xe(nt,!1)},!0)}m(Ne,De)};L(ze,Ne=>{n(y)?Ne(Ke):Ne(rt,!1)})}$("click",Ce,ge),m(se,Ce)};L(V,se=>{he()?se(ne):se(q,!1)})}var X=_(V,2),oe=v(X);ta(oe,{get src(){return n(O)},get alt(){return n(Z)},radius:"4px",$$events:{error:()=>g(I,!0)},$$slots:{fallback:(se,Ce)=>{var ze=mv(),Ke=v(ze);ie(Ke,()=>(n(k),D(w),b(()=>n(k)?w.RADIO:w.ALBUMS))),At(1,ze,()=>dr),m(se,ze)}}});var pe=_(ue,2),ye=v(pe),B=v(ye),me=v(B),Pe=_(B,2);{var Ae=se=>{var Ce=bv(),ze=v(Ce);de(()=>ve(ze,n(le))),m(se,Ce)};L(Pe,se=>{n(le)&&!n(k)&&se(Ae)})}var R=_(ye,2);let G;var Q=v(R),fe=_(pe,2),Ee=v(fe),ke=v(Ee);ie(ke,()=>(D(w),b(()=>w.DOTS)));var Te=_(Ee,2);let Ie;var $e=v(Te);ie($e,()=>(n(d),D(w),b(()=>n(d)?w.HEART_FILLED:w.HEART)));var Se=_(Te,2);{var Y=se=>{var Ce=wv(),ze=v(Ce);ie(ze,()=>(D(w),b(()=>w.REMOVE))),$("click",Ce,er(()=>U("remove",{index:be()}))),m(se,Ce)},_e=se=>{var Ce=yv(),ze=v(Ce);de(()=>ve(ze,n(te))),m(se,Ce)};L(Se,se=>{he()?se(Y):se(_e,!1)})}Bt(()=>$("click",j,()=>!n(h)&&U("play"))),Bt(()=>$("mouseenter",j,()=>g(re,!0))),Bt(()=>$("mouseleave",j,()=>g(re,!1))),fs(j,se=>Es?.(se)),Bt(()=>$("longpress",j,ce)),de(()=>{ee=Ye(j,1,"row svelte-5cs2hz",null,ee,{active:n(h),striped:n(p),editable:he()}),It(B,"title",n(Z)),ve(me,n(Z)),G=Ye(R,1,"artist text-ellipsis svelte-5cs2hz",null,G,{link:!n(k)}),ve(Q,n(K)),Ie=Ye(Te,1,"btn-icon small svelte-5cs2hz",null,Ie,{liked:n(d)})}),$("click",R,M),$("click",Ee,W),$("click",Te,er(()=>no(P()))),m(e,j),kt(),l()}const en=100,ei=5,ti=25,ri=3;function xv({tracksStore:e,onMoveTrack:r}){const t=Ue(!1),a=Ue(!1),s=Ue(!1),i=Ue(null),o=Ue(null),l=Ue(null),d=Ue({x:0,y:0,width:0,height:0,grabOffsetX:0,grabOffsetY:0}),c=Ue(null);let u=!1,h=0,f=0,p=0,k=0;const S={scrollContainer:null,listBodyContainer:null};let y=null;function x(A,N,ae){const U=A.detail;if(U.button===2||(window.getSelection&&window.getSelection().removeAllRanges(),!S.scrollContainer))return;const I=S.scrollContainer.querySelectorAll(".row-wrapper")[N];if(!I)return;const z=I.getBoundingClientRect(),ge=U.touches?U.touches[0].clientX:U.clientX,F=U.touches?U.touches[0].clientY:U.clientY,W=ge-z.left,ce=F-z.top;u=!0,t.set(!1),a.set(!1),h=ge,f=F,p=ge,k=F,i.set(N),o.set(N),c.set(ae),l.set(null),d.set({x:ge,y:F,width:z.width,height:z.height,grabOffsetX:W,grabOffsetY:ce})}function H(A){if(!u||We(a))return;const N=A.touches?A.touches[0].clientX:A.clientX,ae=A.touches?A.touches[0].clientY:A.clientY;if(!We(t)){const U=Math.abs(N-h),re=Math.abs(ae-f);if(U<ri&&re<ri)return;t.set(!0)}A.cancelable&&A.preventDefault(),p=N,k=ae,d.update(U=>({...U,x:p,y:k})),O(k),Z()}function Z(){if(!S.listBodyContainer)return;const A=S.listBodyContainer.getBoundingClientRect(),N=We(d),U=k-A.top-N.grabOffsetY+N.height/2,re=We(e).length;if(U<0){o.set(0);return}if(U>A.height){o.set(re);return}const I=Array.from(S.listBodyContainer.querySelectorAll(".row-wrapper"));let z=-1,ge=1/0;I.forEach((F,W)=>{const ce=F.offsetTop+F.offsetHeight/2,M=Math.abs(U-ce);M<ge&&(ge=M,z=W)}),z!==-1&&o.set(z)}function K(A){if(u){if(u=!1,!We(t)){le();return}te()}}async function te(){be(),Z(),t.set(!1),a.set(!0);const A=We(o);if(S.listBodyContainer&&A!==null){const z=S.listBodyContainer.querySelectorAll(".row-wrapper"),ge=S.listBodyContainer.getBoundingClientRect(),F=z[A];let W=0,ce=0,M=!1;if(F)W=ge.top+F.offsetTop,ce=ge.left+F.offsetLeft,M=!0;else if(A>=z.length&&z.length>0){const j=z[z.length-1];W=ge.top+j.offsetTop+j.offsetHeight,ce=ge.left+j.offsetLeft,M=!0}else z.length===0&&(W=ge.top,ce=ge.left,M=!0);M&&d.update(j=>({...j,y:W+j.grabOffsetY,x:ce+j.grabOffsetX}))}await new Promise(z=>setTimeout(z,250)),s.set(!0),await fa();const N=We(i),ae=We(e).length;let U=Math.max(0,Math.min(A,ae)),re=U;if(N!==null&&N!==U){const z=[...We(e)],[ge]=z.splice(N,1);re=Math.max(0,Math.min(re,z.length)),z.splice(re,0,ge),e.set(z),r&&r(N,re),i.set(re)}await fa(),c.set(null),i.set(null),o.set(null),a.set(!1);const I=N!==U?re:N;l.set(I),await fa(),requestAnimationFrame(()=>{requestAnimationFrame(()=>{s.set(!1),setTimeout(()=>{l.set(null)},300)})})}function le(){u=!1,C()}function C(){t.set(!1),a.set(!1),i.set(null),o.set(null),c.set(null),be()}function O(A){if(!S.scrollContainer)return;const{top:N,bottom:ae}=S.scrollContainer.getBoundingClientRect(),U=A-N,re=ae-A;be();let I=0;if(U<en&&U>0){const z=1-U/en;I=-(ei+ti*(z*z))}else if(re<en&&re>0){const z=1-re/en;I=ei+ti*(z*z)}I!==0&&P(I)}function P(A){y||(y=requestAnimationFrame(function N(){S.scrollContainer&&(S.scrollContainer.scrollTop+=A,We(t)&&(d.update(ae=>({...ae,x:p,y:k})),Z(),y=requestAnimationFrame(N)))}))}function be(){y&&(cancelAnimationFrame(y),y=null)}function he(A,N,ae,U,re,I){return I||!N&&!ae||U===null||re===null?"":A===U?"opacity: 0; pointer-events: none;":U===re?"":U<re&&A>U&&A<=re?"transform: translateY(-100%);":U>re&&A>=re&&A<U?"transform: translateY(100%);":""}return{isDragging:t,isDropping:a,isReordering:s,draggingIndex:i,hoverIndex:o,justDroppedIndex:l,draggedItemData:c,ghostCoords:d,refs:S,onDragInit:x,onPointerMove:H,onPointerUp:K,getRowStyle:he,cancelDrag:le}}var Ev=E('<div><div style="pointer-events: none; width: 100%; height: 100%;" class="svelte-ym6b2"><!></div></div>'),Sv=E('<div class="skeleton-row svelte-ym6b2"><div class="sk-left svelte-ym6b2"><!> <!></div> <div class="sk-info svelte-ym6b2"><!> <!></div> <div class="sk-right svelte-ym6b2"><!></div></div>'),Mv=E('<div class="skeletons-wrapper svelte-ym6b2"></div>'),Tv=E("<div><!></div>"),$v=E('<div class="content-padded svelte-ym6b2" style="text-align: center; opacity: 0.5;"> </div>'),Av=E("<!> <!>",1),Cv=E('<div><!> <div class="list-body svelte-ym6b2"><!> <!></div></div>');function Tn(e,r){yt(r,!1);const t=()=>xe(Qt,"$navigationStack",p),a=()=>xe(jt,"$activeMenuTab",p),s=()=>xe(be,"$isDragging",p),i=()=>xe(he,"$isDropping",p),o=()=>xe(re,"$draggedItemData",p),l=()=>xe(I,"$ghostCoords",p),d=()=>xe(N,"$draggingIndex",p),c=()=>xe(S(),"$itemsStore",p),u=()=>xe(U,"$justDroppedIndex",p),h=()=>xe(A,"$isReordering",p),f=()=>xe(ae,"$hoverIndex",p),[p,k]=Nt();let S=dt(r,"itemsStore",8),y=dt(r,"isEditMode",8,!1),x=dt(r,"isLoading",8,!1),H=dt(r,"emptyText",8,"List is empty"),Z=dt(r,"onMoveItem",8,(q,X)=>{}),K=T(""),te=T(0),le=T(!1);Ea(async()=>{g(te,zc(n(K))),!x()&&n(te)>0&&n(O).refs.scrollContainer&&(await fa(),Ka(O,n(O).refs.scrollContainer.scrollTop=n(te)),g(le,!0))});async function C(){await fa(),n(O).refs.scrollContainer&&(Ka(O,n(O).refs.scrollContainer.scrollTop=n(te)),g(le,!0))}Fl(()=>{n(O).cancelDrag(),n(O).refs.scrollContainer&&Lc(n(K),n(O).refs.scrollContainer.scrollTop)});const O=T(xv({tracksStore:S(),onMoveTrack:(q,X)=>{Z()(q,X)}})),P=n(O),be=P.isDragging,he=P.isDropping,A=P.isReordering,N=P.draggingIndex,ae=P.hoverIndex,U=P.justDroppedIndex,re=P.draggedItemData,I=P.ghostCoords,z=T(P.refs);function ge(q,X,oe){y()&&n(O).onDragInit(q,X,oe)}J(()=>(t(),a()),()=>{const q=t(),X=q[q.length-1],oe=a();if(X&&X.view==="root")g(K,`root_${oe}`);else if(X){const pe=X.data?X.data.name||X.data:"unknown";g(K,`${X.view}_${pe}`)}}),J(()=>(D(x()),n(le),n(te),n(O)),()=>{!x()&&!n(le)&&n(te)>0&&n(O).refs.scrollContainer&&C()}),Ht(),Mt();var F=Cv();$("mousemove",Ar,function(...q){n(O).onPointerMove?.apply(this,q)}),$("mouseup",Ar,function(...q){n(O).onPointerUp?.apply(this,q)}),$("touchmove",Ar,function(...q){n(O).onPointerMove?.apply(this,q)},void 0,!1),$("touchend",Ar,function(...q){n(O).onPointerUp?.apply(this,q)}),$("touchcancel",Ar,function(...q){n(O).onPointerUp?.apply(this,q)});let W;var ce=v(F);{var M=q=>{var X=Ev();let oe;var pe=v(X),ye=v(pe);rn(ye,r,"row",{get item(){return o()},get index(){return d()},isGhost:!0,startDrag:()=>{}}),de(()=>{oe=Ye(X,1,"floating-item svelte-ym6b2",null,oe,{dropping:i()}),vt(X,`
            top: ${l(),b(()=>l().y-l().grabOffsetY)??""}px; 
            left: ${l(),b(()=>l().x-l().grabOffsetX)??""}px;
            width: ${l(),b(()=>l().width)??""}px; 
            height: ${l(),b(()=>l().height)??""}px;
        `)}),m(q,X)};L(ce,q=>{(s()||i())&&o()&&q(M)})}var j=_(ce,2),ee=v(j);rn(ee,r,"header",{});var ue=_(ee,2);{var V=q=>{var X=Mv();St(X,4,()=>Array(10),Er,(oe,pe)=>{var ye=Sv(),B=v(ye),me=v(B);qt(me,{width:"24px",height:"24px",radius:"4px",style:"opacity: 0.3"});var Pe=_(me,2);qt(Pe,{width:"40px",height:"40px",radius:"4px",style:"margin-left: 12px;"});var Ae=_(B,2),R=v(Ae);qt(R,{width:"40%",height:"14px",radius:"4px",style:"margin-bottom: 6px;"});var G=_(R,2);qt(G,{width:"25%",height:"12px",radius:"4px",style:"opacity: 0.6"});var Q=_(Ae,2),fe=v(Q);qt(fe,{width:"30px",height:"12px",radius:"4px"}),m(oe,ye)}),m(q,X)},ne=q=>{var X=Av(),oe=Le(X);St(oe,3,c,(B,me)=>B._uid||me,(B,me,Pe)=>{var Ae=Tv();let R;var G=v(Ae);rn(G,r,"row",{get item(){return n(me)},get index(){return n(Pe)},isGhost:!1,startDrag:Q=>ge(Q,n(Pe),n(me))}),de(Q=>{R=Ye(Ae,1,"row-wrapper svelte-ym6b2",null,R,{"ghost-placeholder":d()===n(Pe)&&(s()||i()),"just-dropped":u()===n(Pe),"no-transition":h()}),vt(Ae,Q)},[()=>(n(O),D(n(Pe)),s(),i(),d(),f(),h(),b(()=>n(O).getRowStyle(n(Pe),s(),i(),d(),f(),h())))]),m(B,Ae)});var pe=_(oe,2);{var ye=B=>{var me=$v(),Pe=v(me);de(()=>ve(Pe,H())),m(B,me)};L(pe,B=>{c(),b(()=>c().length===0)&&B(ye)})}m(q,X)};L(ue,q=>{x()?q(V):q(ne,!1)})}Nr(j,q=>Ka(z,n(z).listBodyContainer=q),()=>n(z)?.listBodyContainer),Nr(F,q=>Ka(z,n(z).scrollContainer=q),()=>n(z)?.scrollContainer),de(()=>W=Ye(F,1,"base-list-scroll-container svelte-ym6b2",null,W,{dragging:s()})),At(1,j,()=>dr,()=>({duration:200})),m(e,F),kt(),k()}var Pv=E('<div slot="fallback" class="icon-fallback svelte-1eh2rsb"><!></div>'),Lv=E('<span class="meta-tag svelte-1eh2rsb"> </span>'),zv=E('<div class="header-subtitle-row svelte-1eh2rsb"><h2 class="header-sub-text svelte-1eh2rsb"> </h2> <!></div>'),Rv=E('<span class="meta-tag svelte-1eh2rsb"> </span>'),Iv=E('<span class="meta-tag svelte-1eh2rsb"> </span>'),Nv=E('<span class="meta-tag quality svelte-1eh2rsb"> </span>'),Dv=E('<div slot="header" class="content-padded svelte-1eh2rsb"><div class="view-header svelte-1eh2rsb"><div class="header-art svelte-1eh2rsb"><div style="width: 100%; height: 100%;" class="svelte-1eh2rsb"><!></div></div> <div class="header-info svelte-1eh2rsb"><div class="header-text-group svelte-1eh2rsb"><div class="header-label svelte-1eh2rsb"> </div> <h1 class="header-title svelte-1eh2rsb"> </h1> <!> <div class="meta-badges svelte-1eh2rsb"><!> <!> <!></div></div> <div class="header-actions svelte-1eh2rsb"><button class="btn-primary svelte-1eh2rsb"> </button> <button class="btn-secondary svelte-1eh2rsb"> </button></div></div></div></div>'),Ov=E('<div slot="row" class="svelte-1eh2rsb"><!></div>'),jv=E("<button> </button>"),Fv=E('<div class="sort-backdrop svelte-1eh2rsb"></div> <div class="sort-menu svelte-1eh2rsb"></div>',1),qv=E('<div class="sort-wrapper svelte-1eh2rsb"><button class="sort-trigger svelte-1eh2rsb"><span class="svelte-1eh2rsb"> </span> <span class="sort-trigger-icon svelte-1eh2rsb"><!></span></button> <!></div>'),Bv=E('<div class="music-card skeleton-card svelte-1eh2rsb"><div class="card-img-container svelte-1eh2rsb"><!></div> <div class="card-title svelte-1eh2rsb" style="margin-top: 12px;"><!></div> <div class="card-sub-row svelte-1eh2rsb" style="margin-top: 6px;"><!></div></div>'),Uv=E('<div class="music-grid svelte-1eh2rsb"></div>'),Hv=E('<div class="group-header header-label svelte-1eh2rsb"> </div>'),Vv=E('<div slot="fallback" class="icon-fallback svelte-1eh2rsb"><!></div>'),Yv=E('<div class="card-sub text-ellipsis svelte-1eh2rsb"> </div>'),Wv=E('<div class="card-badge svelte-1eh2rsb"> </div>'),Qv=E('<div class="card-badge quality svelte-1eh2rsb"> </div>'),Kv=E('<div class="music-card svelte-1eh2rsb" role="button" tabindex="0"><div class="card-img-container svelte-1eh2rsb"><!> <div class="play-overlay svelte-1eh2rsb"><span class="overlay-icon svelte-1eh2rsb"><!></span></div></div> <div class="card-title svelte-1eh2rsb"> </div> <div class="card-sub-row svelte-1eh2rsb"><!> <!> <!></div></div>'),Xv=E('<div class="empty-text svelte-1eh2rsb">No results found</div>'),Gv=E('<div class="music-grid svelte-1eh2rsb"></div>'),Zv=E('<div class="content-padded svelte-1eh2rsb"><div class="search-input-container svelte-1eh2rsb"><span class="search-icon svelte-1eh2rsb"><!></span> <input type="text" class="svelte-1eh2rsb"/> <!></div> <!></div>'),Jv=E("<div><!></div>");function ed(e,r){yt(r,!1);const t=()=>xe(u,"$itemsStore",s),a=()=>xe(Qt,"$navigationStack",s),[s,i]=Nt(),o=T(),l=T(),d=T();let c=dt(r,"activeCategory",8,"artists");const u=Ue([]);let h=T(!0),f=T(""),p=T("name"),k=T(!1);const S=[{id:"name",label:"A-Z"},{id:"artist",label:"Artist"},{id:"year",label:"Oldest"},{id:"year_desc",label:"Newest"}];let y=T(!1),x=T(!1),H=T(null),Z=T(""),K=T(""),te=T(""),le=T(0),C=0;function O(){g(k,!n(k))}function P(F){g(p,F),g(k,!1)}function be(F,W){if(!F||F.length===0)return[];const ce=[...F].sort((M,j)=>{switch(W){case"name":return M.displayName.localeCompare(j.displayName,void 0,{sensitivity:"base"});case"artist":const ee=M.artist||"",ue=j.artist||"",V=ee.localeCompare(ue,void 0,{sensitivity:"base"});return V!==0?V:(parseInt(M.year)||0)-(parseInt(j.year)||0);case"year":return(parseInt(M.year)||0)-(parseInt(j.year)||0);case"year_desc":return(parseInt(j.year)||0)-(parseInt(M.year)||0);default:return 0}});if(W==="artist"){const M=[];let j=null;return ce.forEach(ee=>{const ue=ee.artist||"Unknown Artist";ue!==j&&(M.push({_uid:`header-${ue}`,isHeader:!0,title:ue}),j=ue),M.push(ee)}),M}return ce}async function he(F,W){if(!W)return;const ce=++C;g(h,!0),u.set([]),g(H,W.data),g(Z,""),g(K,""),g(te,""),g(le,0),console.log(`[LibraryView #${ce}] Start loading:`,W);try{let M=[];if(W.view==="root")M=F==="artists"?await Lr.getArtists():await Lr.getAlbums();else if(W.view==="albums_by_artist"){const ee=W.data.name||W.data;M=await Lr.getArtistAlbums(ee),g(p,"year")}else if(W.view==="tracks_by_album"){const ee=W.data.name||W.data,ue=W.data.artist;M=await Lr.getAlbumTracks(ee,ue)}if(ce!==C){console.warn(`[LibraryView #${ce}] Request cancelled (stale).`);return}const j=M.map((ee,ue)=>{const ne=typeof ee=="string"?{name:ee}:ee;let q=String(ne.year||"");return q.length>4&&(q=q.substring(0,4)),{...ne,displayName:ne.name||ne.title||ne.artist||"Unknown",thumbFile:ne.file||null,year:q,_uid:(ne.file||ne.name||ue)+F+W.view}});if(console.log(`[LibraryView #${ce}] Setting ${j.length} items.`),u.set(j),W.view==="tracks_by_album"&&j.length>0){g(H,j[0]),g(le,j.length),g(te,j[0].year);const ee=j.reduce((ue,V)=>ue+(V.time||0),0);if(ee>0){const ue=Math.floor(ee/3600),V=Math.floor(ee%3600/60);g(Z,ue>0?`${ue} hr ${V} min`:`${V} min`)}j[0].qualityBadge&&g(K,j[0].qualityBadge)}}catch(M){ce===C&&(console.error(M),u.set([]))}finally{ce===C&&g(h,!1)}}function A(F){n(d).view==="root"?c()==="artists"?Ir("albums_by_artist",F):Ir("tracks_by_album",F):n(d).view==="albums_by_artist"&&Ir("tracks_by_album",F)}function N(){const F=t();if(F.length>0){const W=n(d).data.name||n(d).data.displayName||"this selection";xr({title:"Replace Queue?",message:`This will clear your queue and play all tracks from "${W}".`,confirmLabel:"Play",type:"confirm",onConfirm:()=>{g(y,!0),to(F)}})}}function ae(){const F=t();F.length>0&&(g(x,!0),ro(F),setTimeout(()=>{g(x,!1)},2e3))}J(()=>D(c()),()=>{c()&&(g(f,""),c(),g(p,"name"))}),J(()=>(n(p),w),()=>{g(o,n(p)==="year_desc"?w.SORT_ASC:w.SORT_DESC)}),J(()=>(t(),n(f),n(p)),()=>{g(l,be(t().filter(F=>{if(!n(f))return!0;const W=n(f).toLowerCase();return F.displayName.toLowerCase().includes(W)||F.artist&&F.artist.toLowerCase().includes(W)}),n(p)))}),J(()=>a(),()=>{g(d,a()[a().length-1])}),J(()=>(D(c()),n(d)),()=>{he(c(),n(d))}),J(()=>n(d),()=>{n(d)&&(g(y,!1),g(x,!1),g(k,!1))}),Ht(),Mt();var U=Jv();let re;var I=v(U);{var z=F=>{Tn(F,{get itemsStore(){return u},get isLoading(){return n(h)},isEditMode:!1,emptyText:"No tracks found",$$slots:{header:(W,ce)=>{var M=Dv(),j=v(M),ee=v(j),ue=v(ee),V=v(ue);{let Y=ut(()=>(D(ba),n(H),b(()=>ba(n(H)))));ta(V,{get src(){return n(Y)},alt:"Art",radius:"8px",$$slots:{fallback:(_e,se)=>{var Ce=Pv(),ze=v(Ce);ie(ze,()=>(D(w),b(()=>w.ALBUMS))),m(_e,Ce)}}})}var ne=_(ee,2),q=v(ne),X=v(q),oe=v(X),pe=_(X,2),ye=v(pe),B=_(pe,2);{var me=Y=>{var _e=zv(),se=v(_e),Ce=v(se),ze=_(se,2);{var Ke=rt=>{var Ne=Lv(),De=v(Ne);de(()=>ve(De,n(te))),m(rt,Ne)};L(ze,rt=>{n(te)&&n(te)!=="0"&&rt(Ke)})}de(()=>ve(Ce,(n(H),b(()=>n(H).artist)))),m(Y,_e)};L(B,Y=>{n(H),b(()=>n(H)&&n(H).artist)&&Y(me)})}var Pe=_(B,2),Ae=v(Pe);{var R=Y=>{var _e=Rv(),se=v(_e);de(()=>ve(se,`${n(le)??""} tracks`)),m(Y,_e)};L(Ae,Y=>{n(le)>0&&Y(R)})}var G=_(Ae,2);{var Q=Y=>{var _e=Iv(),se=v(_e);de(()=>ve(se,n(Z))),m(Y,_e)};L(G,Y=>{n(Z)&&Y(Q)})}var fe=_(G,2);{var Ee=Y=>{var _e=Nv(),se=v(_e);de(()=>ve(se,n(K))),m(Y,_e)};L(fe,Y=>{n(K)&&Y(Ee)})}var ke=_(q,2),Te=v(ke),Ie=v(Te),$e=_(Te,2),Se=v($e);de(()=>{ve(oe,(n(d),b(()=>n(d).view==="albums_by_artist"?"Artist":"Album"))),It(pe,"title",(n(d),b(()=>n(d).data.name||n(d).data.displayName))),ve(ye,(n(d),b(()=>n(d).data.name||n(d).data.displayName||"Unknown"))),Te.disabled=n(y),ve(Ie,n(y)?"Playing...":"Play All"),$e.disabled=n(x),ve(Se,n(x)?"Added":"To Queue")}),$("click",Te,N),$("click",$e,ae),m(W,M)},row:(W,ce)=>{var M=Ov();const j=ut(()=>ce.item),ee=ut(()=>ce.index);var ue=v(M);Ua(ue,{get track(){return n(j)},get index(){return n(ee)},isEditable:!1,$$events:{play:()=>Mn(n(j))}}),m(W,M)}}})},ge=F=>{var W=Zv(),ce=v(W),M=v(ce),j=v(M);ie(j,()=>(D(w),b(()=>w.SEARCH)));var ee=_(M,2),ue=_(ee,2);{var V=oe=>{var pe=qv(),ye=v(pe),B=v(ye),me=v(B),Pe=_(B,2),Ae=v(Pe);ie(Ae,()=>n(o));var R=_(ye,2);{var G=Q=>{var fe=Fv(),Ee=Le(fe),ke=_(Ee,2);St(ke,5,()=>S,Er,(Te,Ie)=>{var $e=jv();let Se;var Y=v($e);de(()=>{Se=Ye($e,1,"sort-item svelte-1eh2rsb",null,Se,{selected:n(p)===n(Ie).id}),ve(Y,(n(Ie),b(()=>n(Ie).label)))}),$("click",$e,()=>P(n(Ie).id)),m(Te,$e)}),$("click",Ee,O),At(3,Ee,()=>dr,()=>({duration:100})),At(3,ke,()=>_s,()=>({start:.95,duration:100})),m(Q,fe)};L(R,Q=>{n(k)&&Q(G)})}de(Q=>ve(me,Q),[()=>(n(p),b(()=>S.find(Q=>Q.id===n(p))?.label))]),$("click",ye,O),m(oe,pe)};L(ue,oe=>{D(c()),n(d),b(()=>c()==="albums"||n(d).view==="albums_by_artist")&&oe(V)})}var ne=_(ce,2);{var q=oe=>{var pe=Uv();St(pe,4,()=>Array(12),Er,(ye,B)=>{var me=Bv(),Pe=v(me),Ae=v(Pe);qt(Ae,{width:"100%",height:"100%",radius:"8px"});var R=_(Pe,2),G=v(R);qt(G,{width:"80%",height:"14px",radius:"4px"});var Q=_(R,2),fe=v(Q);qt(fe,{width:"50%",height:"12px",radius:"4px",style:"opacity: 0.6"}),m(ye,me)}),m(oe,pe)},X=oe=>{var pe=Gv();St(pe,5,()=>n(l),ye=>ye._uid,(ye,B)=>{var me=Je(),Pe=Le(me);{var Ae=G=>{var Q=Hv(),fe=v(Q);de(()=>ve(fe,(n(B),b(()=>n(B).title)))),m(G,Q)},R=G=>{var Q=Kv(),fe=v(Q),Ee=v(fe);{let Ne=ut(()=>(D(qa),n(B),b(()=>qa(n(B),"md"))));ta(Ee,{get src(){return n(Ne)},get alt(){return n(B),b(()=>n(B).displayName)},radius:"8px",$$slots:{fallback:(De,Oe)=>{var He=Vv(),nt=v(He);{var Xe=Re=>{var Be=Je(),Ze=Le(Be);ie(Ze,()=>(D(w),b(()=>w.ARTISTS))),m(Re,Be)},qe=Re=>{var Be=Je(),Ze=Le(Be);ie(Ze,()=>(D(w),b(()=>w.ALBUMS))),m(Re,Be)};L(nt,Re=>{c()==="artists"?Re(Xe):Re(qe,!1)})}m(De,He)}}})}var ke=_(Ee,2),Te=v(ke),Ie=v(Te);ie(Ie,()=>(D(w),b(()=>w.PLAY)));var $e=_(fe,2),Se=v($e),Y=_($e,2),_e=v(Y);{var se=Ne=>{var De=Yv(),Oe=v(De);de(()=>ve(Oe,(n(B),b(()=>n(B).artist)))),m(Ne,De)};L(_e,Ne=>{n(B),b(()=>n(B).artist)&&Ne(se)})}var Ce=_(_e,2);{var ze=Ne=>{var De=Wv(),Oe=v(De);de(()=>ve(Oe,(n(B),b(()=>n(B).year)))),m(Ne,De)};L(Ce,Ne=>{n(B),b(()=>n(B).year&&n(B).year!=="0")&&Ne(ze)})}var Ke=_(Ce,2);{var rt=Ne=>{var De=Qv(),Oe=v(De);de(He=>ve(Oe,He),[()=>(n(B),b(()=>n(B).qualityBadge.split(" ")[0]))]),m(Ne,De)};L(Ke,Ne=>{n(B),b(()=>n(B).qualityBadge)&&Ne(rt)})}de(()=>ve(Se,(n(B),b(()=>n(B).displayName)))),$("click",Q,()=>A(n(B))),$("keypress",Q,Ne=>Ne.key==="Enter"&&A(n(B))),m(G,Q)};L(Pe,G=>{n(B),b(()=>n(B).isHeader)?G(Ae):G(R,!1)})}m(ye,me)},ye=>{var B=Xv();m(ye,B)}),m(oe,pe)};L(ne,oe=>{n(h)?oe(q):oe(X,!1)})}de(()=>It(ee,"placeholder",`Filter ${c()??""}...`)),En(ee,()=>n(f),oe=>g(f,oe)),m(F,W)};L(I,F=>{n(d),b(()=>n(d)?.view==="tracks_by_album")?F(z):F(ge,!1)})}de(()=>re=Ye(U,1,"view-container svelte-1eh2rsb",null,re,{scrollable:n(d)?.view!=="tracks_by_album"})),m(e,U),kt(),i()}var td=E('<div class="music-card svelte-1otxnt7"><!> <!></div>'),rd=E('<div class="music-grid svelte-1otxnt7"></div>'),ad=E('<div slot="fallback" class="icon-fallback svelte-1otxnt7">ð»</div>'),nd=E('<div class="status-badge playing svelte-1otxnt7">PLAYING</div>'),sd=E('<div class="status-badge paused svelte-1otxnt7">PAUSED</div>'),id=E('<span class="overlay-icon svelte-1otxnt7"><!></span>'),od=E('<div class="card-sub svelte-1otxnt7"> </div>'),ld=E('<div class="card-badge quality svelte-1otxnt7"> </div>'),cd=E('<div role="button" tabindex="0"><div class="card-img-container svelte-1otxnt7"><!> <div class="play-overlay svelte-1otxnt7"><!></div></div> <div class="card-title svelte-1otxnt7"> </div> <div class="card-sub-row svelte-1otxnt7"><!> <!></div></div>'),vd=E('<div class="empty-text svelte-1otxnt7">No stations found</div>'),dd=E('<div class="music-grid svelte-1otxnt7"></div> <!>',1),ud=E('<div class="view-container scrollable svelte-1otxnt7"><div class="content-padded no-bottom-pad svelte-1otxnt7"><div class="search-input-container svelte-1otxnt7"><span class="search-icon svelte-1otxnt7"><!></span> <input type="text" placeholder="Find station..." class="svelte-1otxnt7"/></div></div> <div class="content-padded svelte-1otxnt7"><!></div></div>');function fd(e,r){yt(r,!1);const t=()=>xe(Dr,"$stations",o),a=()=>xe(pt,"$status",o),s=()=>xe(an,"$isLoadingRadio",o),i=()=>xe(Gt,"$currentSong",o),[o,l]=Nt(),d=T(),c=T();let u=T("");J(()=>(t(),n(u)),()=>{g(d,t().filter(te=>{const le=n(u).toLowerCase();return te.name.toLowerCase().includes(le)||te.genre&&te.genre.toLowerCase().includes(le)}))}),J(()=>a(),()=>{g(c,a().bitrate?`${a().bitrate} kbps`:a().format||"")}),Ht(),Mt();var h=ud(),f=v(h),p=v(f),k=v(p),S=v(k);ie(S,()=>(D(w),b(()=>w.SEARCH)));var y=_(k,2),x=_(f,2),H=v(x);{var Z=te=>{var le=rd();St(le,4,()=>Array(12),Er,(C,O)=>{var P=td(),be=v(P);qt(be,{width:"100%",style:"aspect-ratio:1; border-radius:12px; margin-bottom:12px;"});var he=_(be,2);qt(he,{width:"70%",height:"16px"}),m(C,P)}),m(te,le)},K=te=>{var le=dd(),C=Le(le);St(C,5,()=>n(d),Er,(be,he)=>{const A=ut(()=>(n(he),b(()=>n(he).file))),N=ut(()=>(i(),n(he),D(n(A)),b(()=>i().stationName===n(he).name||i().file===n(A)))),ae=ut(()=>(D(ma),n(he),b(()=>ma(n(he)))));var U=cd();let re;var I=v(U),z=v(I);ta(z,{get src(){return n(ae)},get alt(){return n(he),b(()=>n(he).name)},radius:"8px",$$slots:{fallback:(X,oe)=>{var pe=ad();m(X,pe)}}});var ge=_(z,2),F=v(ge);{var W=X=>{var oe=Je(),pe=Le(oe);{var ye=me=>{var Pe=nd();m(me,Pe)},B=me=>{var Pe=sd();m(me,Pe)};L(pe,me=>{a(),b(()=>a().state==="play")?me(ye):me(B,!1)})}m(X,oe)},ce=X=>{var oe=id(),pe=v(oe);ie(pe,()=>(D(w),b(()=>w.PLAY))),m(X,oe)};L(F,X=>{n(N)?X(W):X(ce,!1)})}var M=_(I,2),j=v(M),ee=_(M,2),ue=v(ee);{var V=X=>{var oe=od(),pe=v(oe);de(()=>ve(pe,(n(he),b(()=>n(he).genre)))),m(X,oe)};L(ue,X=>{n(he),b(()=>n(he).genre)&&X(V)})}var ne=_(ue,2);{var q=X=>{var oe=ld(),pe=v(oe);de(()=>ve(pe,n(c))),At(1,oe,()=>dr),m(X,oe)};L(ne,X=>{n(N)&&n(c)&&X(q)})}de(()=>{re=Ye(U,1,"music-card svelte-1otxnt7",null,re,{"is-active":n(N)}),vt(ge,n(N)?"opacity: 1":""),ve(j,(n(he),b(()=>n(he).name)))}),$("click",U,()=>xs(n(he))),m(be,U)});var O=_(C,2);{var P=be=>{var he=vd();m(be,he)};L(O,be=>{n(d),t(),b(()=>n(d).length===0&&t().length>0)&&be(P)})}m(te,le)};L(H,te=>{s()?te(Z):te(K,!1)})}En(y,()=>n(u),te=>g(u,te)),At(1,h,()=>dr,()=>({duration:200})),m(e,h),kt(),l()}var hd=E('<button class="clear-icon-btn svelte-m7c4tz"><!></button>'),pd=E('<div class="spinner svelte-m7c4tz"></div>'),gd=E('<div class="content-padded no-bottom-pad svelte-m7c4tz"><div class="search-input-container svelte-m7c4tz"><span class="search-icon svelte-m7c4tz"><!></span> <input type="text" placeholder="Search playlists &amp; tracks..." class="svelte-m7c4tz"/> <!> <!></div></div>'),_d=E('<span class="meta-tag svelte-m7c4tz">Loading...</span>'),md=E('<span class="meta-tag svelte-m7c4tz"> </span>'),bd=E('<span class="meta-tag quality svelte-m7c4tz"> </span>'),wd=E('<span class="meta-tag svelte-m7c4tz"> </span> <!> <!>',1),yd=E('<div slot="header" class="content-padded svelte-m7c4tz"><div class="view-header svelte-m7c4tz"><div class="header-art svelte-m7c4tz"><div class="header-icon-wrap svelte-m7c4tz"><!></div></div> <div class="header-info svelte-m7c4tz"><div class="header-text-group svelte-m7c4tz"><div class="header-label svelte-m7c4tz">Playlist</div> <h1 class="header-title svelte-m7c4tz"> </h1> <div class="meta-badges svelte-m7c4tz"><!></div></div> <div class="header-actions svelte-m7c4tz"><button class="btn-primary svelte-m7c4tz"> </button> <button class="btn-secondary svelte-m7c4tz"> </button> <button title="Edit"><!></button></div></div></div></div>'),kd=E('<div slot="row" class="svelte-m7c4tz"><!></div>'),xd=E('<div class="music-card skeleton-card svelte-m7c4tz"><div class="card-img-container svelte-m7c4tz"><!></div> <div style="margin-top: 8px;" class="svelte-m7c4tz"><!></div></div>'),Ed=E('<div class="content-padded svelte-m7c4tz"><div class="music-grid playlists-grid-override svelte-m7c4tz"></div></div>'),Sd=E('<button class="card-menu-btn svelte-m7c4tz"><!></button>'),Md=E('<div class="music-card svelte-m7c4tz"><div class="card-img-container svelte-m7c4tz"><div class="icon-wrap svelte-m7c4tz"><!></div> <!> <div class="play-overlay svelte-m7c4tz"><span class="overlay-icon svelte-m7c4tz"><!></span></div></div> <div class="card-title svelte-m7c4tz"> </div> <div class="card-sub-row svelte-m7c4tz"><div class="card-sub svelte-m7c4tz"> </div></div></div>'),Td=E('<div class="music-grid playlists-grid-override svelte-m7c4tz"><div class="music-card svelte-m7c4tz"><div class="card-img-container dashed-cover svelte-m7c4tz"><div class="icon-wrap svelte-m7c4tz"><!></div></div> <div class="card-title svelte-m7c4tz">New Playlist</div></div> <!></div>'),$d=E('<div class="music-card svelte-m7c4tz"><div class="card-img-container svelte-m7c4tz"><div class="icon-wrap svelte-m7c4tz"><!></div> <div class="play-overlay svelte-m7c4tz"><span class="overlay-icon svelte-m7c4tz"><!></span></div></div> <div class="card-title svelte-m7c4tz"> </div></div>'),Ad=E('<div class="header-label section-spacing svelte-m7c4tz">Matched Playlists</div> <div class="music-grid horizontal section-mb svelte-m7c4tz"></div>',1),Cd=E('<div class="group-container svelte-m7c4tz"><div class="group-header svelte-m7c4tz"><div class="group-icon svelte-m7c4tz"><!></div> <div class="group-title svelte-m7c4tz"> </div> <div class="group-count svelte-m7c4tz"> </div></div> <div class="group-tracks svelte-m7c4tz"></div></div>'),Pd=E('<div class="header-label section-spacing svelte-m7c4tz">Matched Tracks</div> <div class="grouped-results svelte-m7c4tz"></div>',1),Ld=E('<div class="empty-text svelte-m7c4tz"> </div>'),zd=E('<div class="empty-text svelte-m7c4tz" style="opacity: 0.7">Searching tracks in playlists...</div>'),Rd=E("<!> <!> <!>",1),Id=E('<div class="content-padded svelte-m7c4tz"><!></div>'),Nd=E("<div><!> <!></div>");function Dd(e,r){yt(r,!1);const t=()=>xe(pt,"$status",f),a=()=>xe(Gt,"$currentSong",f),s=()=>xe(Qt,"$navigationStack",f),i=()=>xe(ms,"$playlists",f),o=()=>xe(za,"$activePlaylistTracks",f),l=()=>xe(Jn,"$isLoadingTracks",f),d=()=>xe(Pc,"$activePlaylistName",f),c=()=>xe(Qr,"$queue",f),u=()=>xe(un,"$currentTheme",f),h=()=>xe(Zn,"$isLoadingPlaylists",f),[f,p]=Nt(),k=T(),S=T(),y=T(),x=T(),H=T(),Z=T();let K=T(!1),te=T(!1),le=T(!1),C=T(""),O=T(!1),P,be=0,he=T([]),A=T([]),N=T(""),ae=T(""),U=T("");function re(R){g(C,R.target.value),clearTimeout(P),n(C).length>=2?P=setTimeout(()=>{I(n(C))},600):(g(O,!1),g(he,[]),g(A,[]))}async function I(R){if(!R)return;be++;const G=be;g(O,!0);const Q=R.toLowerCase();g(he,i().filter(ke=>ke.name.toLowerCase().includes(Q)));let fe=[];const Ee=i().filter(ke=>ke.name!=="Favorites");for(const ke of Ee){if(G!==be)break;try{const Te=await Me.send(`listplaylistinfo "${ke.name.replace(/"/g,'\\"')}"`),Se=Xt.parseTracks(Te).map((Y,_e)=>({...Y,playlistPos:_e})).filter(Y=>Y.title&&Y.title.toLowerCase().includes(Q)||Y.artist&&Y.artist.toLowerCase().includes(Q));if(Se.length>0){const Y=Se.map(_e=>({..._e,_uid:Math.random()}));fe.push({playlist:ke,tracks:Y}),g(A,[...fe])}}catch(Te){console.warn(`Failed to search in playlist ${ke.name}`,Te)}}G===be&&g(O,!1)}function z(R){n(K)||Mn(R)}function ge(R){R.deltaY!==0&&(R.currentTarget.scrollLeft+=R.deltaY)}Ea(()=>{!n(H)&&i().length===0&&ks()});function F(R){const G=R.reduce((fe,Ee)=>fe+(parseFloat(Ee.time)||0),0);if(G>0){const fe=Math.floor(G/3600),Ee=Math.floor(G%3600/60);g(N,fe>0?`${fe} hr ${Ee} min`:`${Ee} min`)}else g(N,"");const Q=new Set;R.forEach(fe=>{fe.qualityBadge&&Q.add(fe.qualityBadge.split(" ")[0])}),g(ae,Q.size===1?R[0].qualityBadge:Q.size>1?"Mixed":"")}function W(R){Ir("details",R)}function ce(){if(c().length===0){xr({title:"Create Playlist",message:"Queue is empty. Add tracks to queue before saving a playlist.",confirmLabel:"OK",type:"alert"});return}xr({title:"New Playlist",message:"Save current queue as a new playlist:",type:"prompt",placeholder:"Playlist Name",confirmLabel:"Create",onConfirm:R=>{R&&cr.createPlaylistFromQueue(R)}})}function M(R,G){G.name!=="Favorites"&&(R.stopPropagation(),R.preventDefault(),Fa(R,null,{type:"playlist-card",playlist:G}))}function j(){xr({title:"Replace Queue?",message:`This will clear your current queue and play "${n(x).data.name}".`,confirmLabel:"Play",type:"confirm",onConfirm:()=>{g(te,!0),oo(n(x).data.name,0)}})}function ee(){if(o().length>0){const R=n(x).data.name.replace(/"/g,'\\"');gn(`load "${R}"`),g(le,!0),setTimeout(()=>{g(le,!1)},2e3)}}function ue(){g(K,!n(K))}function V(R){const G=n(x).data.name,Q=o();Q.splice(R,1),za.set(Q),so(G,R),F(Q)}function ne(R,G){io(n(x).data.name,R,G)}function q(R){if(R.name==="Favorites"){if(u()==="gruvbox"){const G="var(--c-heart)";return`background: linear-gradient(135deg, ${G}, transparent); background-color: ${G};`}return"background: linear-gradient(135deg, hsl(348, 95%, 58%), hsl(348, 90%, 40%));"}return u()==="gruvbox"?`background: linear-gradient(135deg, ${R.colorVar}, transparent); background-color: ${R.colorVar};`:`background: ${R.color}`}function X(R){if(!R)return"";if(R.name==="Favorites"){if(u()==="gruvbox"){const fe="var(--c-heart)";return`background: linear-gradient(135deg, ${fe}, transparent); background-color: ${fe};`}return"background: linear-gradient(135deg, hsl(348, 95%, 58%), hsl(348, 90%, 40%));"}const G="var(--c-bg-card)";if(u()==="gruvbox"){const fe=R.colorVar||R.color||G;return`background: linear-gradient(135deg, ${fe}, transparent); background-color: ${fe};`}return`background: ${R.color||R.colorVar||G}`}J(()=>t(),()=>{g(k,Number(t().song))}),J(()=>a(),()=>{g(S,a().file)}),J(()=>t(),()=>{g(y,t().state==="play")}),J(()=>s(),()=>{g(x,s()[s().length-1])}),J(()=>n(x),()=>{g(H,n(x).view==="details")}),J(()=>(n(x),n(U)),()=>{const R=JSON.stringify(n(x));R!==n(U)&&(g(C,""),g(te,!1),g(le,!1),g(K,!1),g(he,[]),g(A,[]),g(O,!1),g(U,R))}),J(()=>(n(H),o(),l()),()=>{n(H)&&o().length>0?F(o()):n(H)&&o().length===0&&!l()&&(g(N,"0 min"),g(ae,""))}),J(()=>(n(H),n(x),d(),vv),()=>{n(H)&&n(x).data&&d()!==n(x).data.name&&ao(n(x).data.name)}),J(()=>n(x),()=>{g(Z,n(x)?.data?.name==="Favorites")}),Ht(),Mt();var oe=Nd();let pe;var ye=v(oe);{var B=R=>{var G=gd(),Q=v(G),fe=v(Q),Ee=v(fe);ie(Ee,()=>(D(w),b(()=>w.SEARCH)));var ke=_(fe,2),Te=_(ke,2);{var Ie=Y=>{var _e=hd(),se=v(_e);ie(se,()=>(D(w),b(()=>w.CLOSE))),$("click",_e,()=>{g(C,""),g(he,[]),g(A,[]),g(O,!1)}),m(Y,_e)};L(Te,Y=>{n(C)&&Y(Ie)})}var $e=_(Te,2);{var Se=Y=>{var _e=pd();m(Y,_e)};L($e,Y=>{n(O)&&Y(Se)})}de(()=>Hi(ke,n(C))),$("input",ke,re),m(R,G)};L(ye,R=>{n(H)||R(B)})}var me=_(ye,2);{var Pe=R=>{Tn(R,{get itemsStore(){return za},get isLoading(){return l()},get isEditMode(){return n(K)},emptyText:"This playlist is empty.",onMoveItem:ne,$$slots:{header:(G,Q)=>{var fe=yd(),Ee=v(fe),ke=v(Ee),Te=v(ke),Ie=v(Te);ie(Ie,()=>(n(Z),D(w),b(()=>n(Z)?w.HEART_FILLED:w.PLAYLISTS)));var $e=_(ke,2),Se=v($e),Y=_(v(Se),2),_e=v(Y),se=_(Y,2),Ce=v(se);{var ze=Re=>{var Be=_d();m(Re,Be)},Ke=Re=>{var Be=wd(),Ze=Le(Be),st=v(Ze),it=_(Ze,2);{var ft=ct=>{var at=md(),et=v(at);de(()=>ve(et,n(N))),m(ct,at)};L(it,ct=>{n(N)&&ct(ft)})}var Tt=_(it,2);{var gt=ct=>{var at=bd(),et=v(at);de(()=>ve(et,n(ae))),m(ct,at)};L(Tt,ct=>{n(ae)&&ct(gt)})}de(()=>ve(st,`${o(),b(()=>o().length)??""} tracks`)),m(Re,Be)};L(Ce,Re=>{l()?Re(ze):Re(Ke,!1)})}var rt=_(Se,2),Ne=v(rt),De=v(Ne),Oe=_(Ne,2),He=v(Oe),nt=_(Oe,2);let Xe;var qe=v(nt);ie(qe,()=>(n(K),D(w),b(()=>n(K)?w.ACCEPT:w.EDIT))),de(Re=>{vt(ke,Re),It(Y,"title",(n(x),b(()=>n(x).data.name))),ve(_e,(n(x),b(()=>n(x).data.name))),Ne.disabled=n(te),ve(De,n(te)?"Playing...":"Play All"),Oe.disabled=n(le),ve(He,n(le)?"Added":"To Queue"),Xe=Ye(nt,1,"btn-action svelte-m7c4tz",null,Xe,{active:n(K)})},[()=>(n(x),b(()=>X(n(x).data)))]),$("click",Ne,j),$("click",Oe,ee),$("click",nt,ue),m(G,fe)},row:(G,Q)=>{var fe=kd();const Ee=ut(()=>Q.item),ke=ut(()=>Q.index),Te=ut(()=>Q.startDrag);var Ie=v(fe);Ua(Ie,{get track(){return n(Ee)},get index(){return n(ke)},get playingIndex(){return n(k)},get playingFile(){return n(S)},get isPlaying(){return n(y)},get isEditable(){return n(K)},$$events:{play:()=>z(n(Ee)),remove:()=>V(n(ke)),startdrag(...$e){n(Te)?.apply(this,$e)}}}),m(G,fe)}}})},Ae=R=>{var G=Je(),Q=Le(G);{var fe=ke=>{var Te=Ed(),Ie=v(Te);St(Ie,4,()=>Array(8),Er,($e,Se)=>{var Y=xd(),_e=v(Y),se=v(_e);qt(se,{width:"100%",height:"100%",radius:"12px"});var Ce=_(_e,2),ze=v(Ce);qt(ze,{width:"60%",height:"16px",radius:"4px"}),m($e,Y)}),m(ke,Te)},Ee=ke=>{var Te=Id(),Ie=v(Te);{var $e=Y=>{var _e=Td(),se=v(_e),Ce=v(se),ze=v(Ce),Ke=v(ze);ie(Ke,()=>(D(w),b(()=>w.ADD)));var rt=_(se,2);St(rt,1,i,Ne=>Ne.name,(Ne,De)=>{const Oe=ut(()=>(n(De),b(()=>n(De).name==="Favorites")));var He=Md(),nt=v(He),Xe=v(nt),qe=v(Xe);ie(qe,()=>(D(n(Oe)),D(w),b(()=>n(Oe)?w.HEART_FILLED:w.PLAYLISTS)));var Re=_(Xe,2);{var Be=et=>{var Ct=Sd(),Sa=v(Ct);ie(Sa,()=>(D(w),b(()=>w.DOTS))),$("click",Ct,je=>M(je,n(De))),m(et,Ct)};L(Re,et=>{n(Oe)||et(Be)})}var Ze=_(Re,2),st=v(Ze),it=v(st);ie(it,()=>(D(w),b(()=>w.PLAY)));var ft=_(nt,2),Tt=v(ft),gt=_(ft,2),ct=v(gt),at=v(ct);Bt(()=>$("click",He,()=>W(n(De)))),fs(He,et=>Es?.(et)),Bt(()=>$("longpress",He,et=>M(et.detail.originalEvent,n(De)))),Bt(()=>$("contextmenu",He,et=>M(et,n(De)))),de((et,Ct)=>{vt(nt,et),ve(Tt,(n(De),b(()=>n(De).name))),ve(at,Ct)},[()=>(n(De),b(()=>q(n(De)))),()=>(n(De),b(()=>n(De).lastModified?new Date(n(De).lastModified).toLocaleDateString():"Playlist"))]),m(Ne,He)}),$("click",se,ce),m(Y,_e)},Se=Y=>{var _e=Rd(),se=Le(_e);{var Ce=Oe=>{var He=Ad(),nt=_(Le(He),2);St(nt,5,()=>n(he),Xe=>Xe.name,(Xe,qe)=>{const Re=ut(()=>(n(qe),b(()=>n(qe).name==="Favorites")));var Be=$d(),Ze=v(Be),st=v(Ze),it=v(st);ie(it,()=>(D(n(Re)),D(w),b(()=>n(Re)?w.HEART_FILLED:w.PLAYLISTS)));var ft=_(st,2),Tt=v(ft),gt=v(Tt);ie(gt,()=>(D(w),b(()=>w.PLAY)));var ct=_(Ze,2),at=v(ct);de(et=>{vt(Ze,et),ve(at,(n(qe),b(()=>n(qe).name)))},[()=>(n(qe),b(()=>q(n(qe))))]),$("click",Be,()=>W(n(qe))),m(Xe,Be)}),$("wheel",nt,ge),m(Oe,He)};L(se,Oe=>{n(he),b(()=>n(he).length>0)&&Oe(Ce)})}var ze=_(se,2);{var Ke=Oe=>{var He=Pd(),nt=_(Le(He),2);St(nt,5,()=>n(A),Xe=>Xe.playlist.name,(Xe,qe)=>{var Re=Cd(),Be=v(Re),Ze=v(Be),st=v(Ze);ie(st,()=>(D(w),b(()=>w.PLAYLISTS)));var it=_(Ze,2),ft=v(it),Tt=_(it,2),gt=v(Tt),ct=_(Be,2);St(ct,5,()=>(n(qe),b(()=>n(qe).tracks)),at=>at._uid,(at,et)=>{Ua(at,{get track(){return n(et)},get index(){return n(et),b(()=>n(et).playlistPos)},get playingFile(){return n(S)},get isPlaying(){return n(y)},$$events:{play:()=>z(n(et))}})}),de(()=>{ve(ft,(n(qe),b(()=>n(qe).playlist.name))),ve(gt,(n(qe),b(()=>n(qe).tracks.length)))}),$("click",Be,()=>W(n(qe).playlist)),m(Xe,Re)}),m(Oe,He)};L(ze,Oe=>{n(A),b(()=>n(A).length>0)&&Oe(Ke)})}var rt=_(ze,2);{var Ne=Oe=>{var He=Ld(),nt=v(He);de(()=>ve(nt,`No matches found for "${n(C)??""}"`)),m(Oe,He)},De=Oe=>{var He=Je(),nt=Le(He);{var Xe=qe=>{var Re=zd();m(qe,Re)};L(nt,qe=>{n(O),n(A),b(()=>n(O)&&n(A).length===0)&&qe(Xe)},!0)}m(Oe,He)};L(rt,Oe=>{n(O),n(he),n(A),b(()=>!n(O)&&n(he).length===0&&n(A).length===0)?Oe(Ne):Oe(De,!1)})}m(Y,_e)};L(Ie,Y=>{n(C)?Y(Se,!1):Y($e)})}m(ke,Te)};L(Q,ke=>{h()?ke(fe):ke(Ee,!1)},!0)}m(R,G)};L(me,R=>{n(H)?R(Pe):R(Ae,!1)})}de(()=>pe=Ye(oe,1,"view-container svelte-m7c4tz",null,pe,{scrollable:!n(H)})),m(e,oe),kt(),p()}var Od=E('<button class="clear-icon-btn svelte-1d3z1zm"><!></button>'),jd=E('<div class="spinner svelte-1d3z1zm"></div>'),Fd=E('<div class="placeholder-state svelte-1d3z1zm"><div class="placeholder-icon svelte-1d3z1zm">ð</div> <p class="svelte-1d3z1zm">Type to search your library</p></div>'),qd=E('<div class="empty-text svelte-1d3z1zm"> </div>'),Bd=E('<div slot="fallback" class="icon-fallback svelte-1d3z1zm">ð¿</div>'),Ud=E('<div class="meta-tag svelte-1d3z1zm"> </div>'),Hd=E('<div class="meta-tag quality svelte-1d3z1zm"> </div>'),Vd=E('<div class="music-card svelte-1d3z1zm"><div class="card-img-container svelte-1d3z1zm"><!> <div class="play-overlay svelte-1d3z1zm"><span class="overlay-icon svelte-1d3z1zm"><!></span></div></div> <div class="card-title svelte-1d3z1zm"> </div> <div class="card-sub-row svelte-1d3z1zm"><div class="card-sub text-ellipsis svelte-1d3z1zm"> </div> <!> <!></div></div>'),Yd=E('<div class="header-label section-spacing svelte-1d3z1zm">Albums</div> <div class="music-grid horizontal section-mb svelte-1d3z1zm"></div>',1),Wd=E('<div class="header-label svelte-1d3z1zm">Tracks</div>'),Qd=E("<!> <!>",1),Kd=E('<div slot="header" class="content-padded svelte-1d3z1zm"><!></div>'),Xd=E('<div slot="row" class="svelte-1d3z1zm"><!></div>'),Gd=E('<div class="view-container svelte-1d3z1zm"><div class="content-padded no-bottom-pad svelte-1d3z1zm"><div class="search-input-container svelte-1d3z1zm"><span class="search-icon svelte-1d3z1zm"><!></span> <input type="text" placeholder="Artists, songs, or albums" autoFocus class="svelte-1d3z1zm"/> <!> <!></div></div> <!></div>');function Zd(e,r){yt(r,!1);const t=()=>xe(Ra,"$searchQuery",s),a=()=>xe(o,"$tracksStore",s),[s,i]=Nt(),o=Ue([]);let l=T([]),d=T(!1),c,u=T(!1);Ea(()=>{t().length>=2&&p(t())});function h(A){Ra.set(A.target.value),clearTimeout(c),c=setTimeout(()=>{p(t())},300)}function f(){Ra.set(""),o.set([]),g(l,[]),g(u,!1)}async function p(A){const N=A.trim().toLowerCase();if(N.length<2){o.set([]),g(l,[]),g(u,!1);return}g(d,!0),g(u,!0);try{const ae=await Lr.search(N),U=ae.map((I,z)=>({...I,_uid:I.file?`${I.file}-${z}`:`search-${z}`}));o.set(U);const re=new Map;ae.forEach(I=>{const z=I.album;if(z&&!re.has(z)){const ge=z.toLowerCase().includes(N),F=I.artist&&I.artist.toLowerCase().includes(N);if(ge||F){let W=String(I.year||"");W.length>4&&(W=W.substring(0,4)),re.set(z,{name:z,artist:I.artist,file:I.file,thumbHash:I.thumbHash,_uid:`alb-${z}`,year:W,qualityBadge:I.qualityBadge})}}}),g(l,Array.from(re.values()))}finally{g(d,!1)}}function k(A){Mn(A)}function S(A){Ir("tracks_by_album",{name:A.name,artist:A.artist})}function y(A){A.deltaY!==0&&(A.currentTarget.scrollLeft+=A.deltaY)}Mt();var x=Gd(),H=v(x),Z=v(H),K=v(Z),te=v(K);ie(te,()=>w.SEARCH);var le=_(K,2),C=_(le,2);{var O=A=>{var N=Od(),ae=v(N);ie(ae,()=>w.CLOSE),$("click",N,f),m(A,N)};L(C,A=>{t().length>0&&A(O)})}var P=_(C,2);{var be=A=>{var N=jd();m(A,N)};L(P,A=>{n(d)&&A(be)})}var he=_(H,2);Tn(he,{get itemsStore(){return o},isEditMode:!1,isLoading:!1,emptyText:"",$$slots:{header:(A,N)=>{var ae=Kd(),U=v(ae);{var re=z=>{var ge=Fd();m(z,ge)},I=z=>{var ge=Je(),F=Le(ge);{var W=M=>{var j=qd(),ee=v(j);de(()=>ve(ee,`No results found for "${t()??""}"`)),m(M,j)},ce=M=>{var j=Qd(),ee=Le(j);{var ue=q=>{var X=Yd(),oe=_(Le(X),2);St(oe,5,()=>n(l),pe=>pe._uid,(pe,ye)=>{var B=Vd(),me=v(B),Pe=v(me);{let _e=ut(()=>qa(n(ye),"md"));ta(Pe,{get src(){return n(_e)},get alt(){return n(ye).name},radius:"8px",$$slots:{fallback:(se,Ce)=>{var ze=Bd();m(se,ze)}}})}var Ae=_(Pe,2),R=v(Ae),G=v(R);ie(G,()=>w.PLAY);var Q=_(me,2),fe=v(Q),Ee=_(Q,2),ke=v(Ee),Te=v(ke),Ie=_(ke,2);{var $e=_e=>{var se=Ud(),Ce=v(se);de(()=>ve(Ce,n(ye).year)),m(_e,se)};L(Ie,_e=>{n(ye).year&&n(ye).year!=="0"&&n(ye).year!==0&&_e($e)})}var Se=_(Ie,2);{var Y=_e=>{var se=Hd(),Ce=v(se);de(ze=>ve(Ce,ze),[()=>n(ye).qualityBadge.split(" ")[0]]),m(_e,se)};L(Se,_e=>{n(ye).qualityBadge&&_e(Y)})}de(()=>{It(Q,"title",n(ye).name),ve(fe,n(ye).name),ve(Te,n(ye).artist)}),$("click",B,()=>S(n(ye))),m(pe,B)}),$("wheel",oe,y),m(q,X)};L(ee,q=>{n(l).length>0&&q(ue)})}var V=_(ee,2);{var ne=q=>{var X=Wd();m(q,X)};L(V,q=>{a().length>0&&q(ne)})}m(M,j)};L(F,M=>{!n(d)&&a().length===0&&n(l).length===0&&n(u)?M(W):M(ce,!1)},!0)}m(z,ge)};L(U,z=>{t().length<2?z(re):z(I,!1)})}m(A,ae)},row:(A,N)=>{var ae=Xd();const U=ut(()=>N.item),re=ut(()=>N.index);var I=v(ae);Ua(I,{get track(){return n(U)},get index(){return n(re)},isEditable:!1,$$events:{play:()=>k(n(U))}}),m(A,ae)}}}),de(()=>Hi(le,t())),$("input",le,h),m(e,x),kt(),i()}var Jd=E('<div class="view-container scrollable svelte-1j67jqh"><div class="content-padded svelte-1j67jqh"><h1 class="header-title big svelte-1j67jqh">Settings</h1> <div class="section svelte-1j67jqh"><div class="section-header svelte-1j67jqh"><span class="svelte-1j67jqh">Connection</span></div> <div class="card svelte-1j67jqh"><div class="row svelte-1j67jqh"><label for="ip" class="svelte-1j67jqh">Moode Device IP</label> <div class="input-group svelte-1j67jqh"><input id="ip" type="text" placeholder="192.168.x.x" class="svelte-1j67jqh"/> <button class="btn-primary small svelte-1j67jqh">Save</button></div></div> <p class="hint svelte-1j67jqh"> </p></div></div> <div class="section svelte-1j67jqh"><div class="section-header svelte-1j67jqh"><span class="svelte-1j67jqh">Appearance</span></div> <div class="card clickable svelte-1j67jqh"><div class="row space-between svelte-1j67jqh"><span class="svelte-1j67jqh">Interface Theme</span> <div class="row-gap svelte-1j67jqh"><span class="value svelte-1j67jqh"> </span> <span class="chevron svelte-1j67jqh"><!></span></div></div></div></div> <div class="section svelte-1j67jqh"><div class="section-header svelte-1j67jqh"><span class="svelte-1j67jqh">Alarm Clock</span></div> <div class="card clickable svelte-1j67jqh"><div class="row space-between svelte-1j67jqh"><span class="svelte-1j67jqh">Wake up time</span> <span class="value svelte-1j67jqh">Coming Soon</span></div></div></div> <div class="section svelte-1j67jqh"><div class="section-header svelte-1j67jqh"><span class="svelte-1j67jqh">Language</span></div> <div class="card clickable svelte-1j67jqh"><div class="row space-between svelte-1j67jqh"><span class="svelte-1j67jqh">Interface Language</span> <span class="value svelte-1j67jqh">English</span></div></div></div> <div class="section svelte-1j67jqh"><div class="section-header svelte-1j67jqh"><span class="svelte-1j67jqh">About</span></div> <div class="card svelte-1j67jqh"><div class="info-row svelte-1j67jqh"><span class="svelte-1j67jqh">Version</span> <span class="mono svelte-1j67jqh"> </span></div> <div class="separator svelte-1j67jqh"></div> <div class="info-row svelte-1j67jqh"><span class="svelte-1j67jqh">Build Date</span> <span class="mono small svelte-1j67jqh"> </span></div> <div class="separator svelte-1j67jqh"></div> <div class="info-row svelte-1j67jqh"><span class="svelte-1j67jqh">Developer</span> <span class="svelte-1j67jqh">Moode WaveUI</span></div></div></div></div></div>');function eu(e,r){yt(r,!1);const t=()=>xe(un,"$currentTheme",a),[a,s]=Nt(),i=T();let o=T(Br.MOODE_IP);function l(){Br.setMoodeIp(n(o)),Fe("IP Saved. Reloading...","success"),setTimeout(()=>location.reload(),1e3)}const d="0.0.1",c="2026-01-08T20:23:23.517Z",u=new Date(c).toLocaleString();function h(){Fe("Coming soon in next update","info")}function f(){const V=Xn.map(ne=>({label:ne.label,value:ne.id}));xr({title:"Select Theme",message:"Choose your preferred interface style:",type:"select",inputValue:t(),options:V,onConfirm:ne=>{un.set(ne),Fe("Theme updated","success")}})}J(()=>t(),()=>{g(i,Xn.find(V=>V.id===t())?.label||"Default")}),Ht(),Mt();var p=Jd(),k=v(p),S=_(v(k),2),y=_(v(S),2),x=v(y),H=_(v(x),2),Z=v(H),K=_(Z,2),te=_(x,2),le=v(te),C=_(S,2),O=_(v(C),2),P=v(O),be=_(v(P),2),he=v(be),A=v(he),N=_(he,2),ae=v(N);ie(ae,()=>(D(w),b(()=>w.NEXT)));var U=_(C,2),re=_(v(U),2),I=_(U,2),z=_(v(I),2),ge=_(I,2),F=_(v(ge),2),W=v(F),ce=_(v(W),2),M=v(ce),j=_(W,4),ee=_(v(j),2),ue=v(ee);de(()=>{ve(le,`Current: ${D(Br),b(()=>Br.MOODE_IP)??""}`),ve(A,n(i)),ve(M,d),ve(ue,u)}),En(Z,()=>n(o),V=>g(o,V)),$("click",K,l),$("click",O,f),$("click",re,h),$("click",z,h),At(1,p,()=>dr,()=>({duration:200})),m(e,p),kt(),s()}var tu=E('<span class="meta-tag svelte-185fgrr"> </span>'),ru=E('<div slot="header" class="content-padded svelte-185fgrr"><div class="view-header svelte-185fgrr"><div class="header-art svelte-185fgrr" style="background: var(--c-surface-active);"><div class="header-icon-wrap svelte-185fgrr"><!></div></div> <div class="header-info svelte-185fgrr"><div class="header-text-group svelte-185fgrr"><div class="header-label svelte-185fgrr">Now Playing</div> <h1 class="header-title svelte-185fgrr">Current Queue</h1> <div class="meta-badges svelte-185fgrr"><span class="meta-tag svelte-185fgrr"> </span> <!></div></div> <div class="header-actions svelte-185fgrr"><button class="btn-secondary svelte-185fgrr" title="Clear Queue">Clear</button> <button class="btn-action svelte-185fgrr" title="Save Queue"><!></button> <button><!></button></div></div></div></div>'),au=E('<div slot="row" class="svelte-185fgrr"><!></div>'),nu=E('<div class="view-container svelte-185fgrr"><!></div>');function su(e,r){yt(r,!1);const t=()=>xe(pt,"$status",o),a=()=>xe(ht,"$isQueueLocked",o),s=()=>xe(Gt,"$currentSong",o),i=()=>xe(Qr,"$queue",o),[o,l]=Nt(),d=T(),c=T(),u=T(),h=T();let f=T(!1),p=T(""),k=T(-1);function S(){g(f,!n(f))}function y(C){n(f)||gn(`play ${C}`)}function x(C){C<n(k)&&g(k,n(k)-1),tr.removeFromQueue(C)}async function H(){xr({title:"Save Playlist",message:"Enter a name for this playlist:",type:"prompt",placeholder:"Playlist Name",confirmLabel:"Save",onConfirm:async C=>{C&&C.trim().length>0&&(await tr.saveQueue(C),ks())}})}function Z(){i().length!==0&&xr({title:"Clear Queue",message:"Are you sure you want to clear the entire play queue?",confirmLabel:"Clear All",type:"confirm",onConfirm:async()=>{Qr.set([]),Gt.set({title:"Not Playing",artist:"",album:"",file:"",stationName:null,id:null,pos:null}),pt.update(C=>({...C,state:"stop",song:-1,songid:-1,elapsed:0})),await gn("clear")}})}function K(C,O){let P=n(k);C===P?P=O:C<P&&O>=P?P-=1:C>P&&O<=P&&(P+=1),g(k,P),tr.moveTrack(C,O)}J(()=>t(),()=>{g(d,Number(t().song))}),J(()=>(a(),n(d)),()=>{a()||g(k,n(d))}),J(()=>n(k),()=>{g(c,n(k))}),J(()=>s(),()=>{g(u,s().file)}),J(()=>t(),()=>{g(h,t().state==="play")}),J(()=>i(),()=>{if(i().length>=0){const C=i().reduce((O,P)=>O+(parseFloat(P.time)||0),0);if(C>0){const O=Math.floor(C/3600),P=Math.floor(C%3600/60);O>0?g(p,`${O} hr ${P} min`):g(p,`${P} min`)}else g(p,"")}}),Ht(),Mt();var te=nu(),le=v(te);Tn(le,{get itemsStore(){return Qr},get isEditMode(){return n(f)},emptyText:"Queue is empty",onMoveItem:K,$$slots:{header:(C,O)=>{var P=ru(),be=v(P),he=v(be),A=v(he),N=v(A);ie(N,()=>(D(w),b(()=>w.MENU)));var ae=_(he,2),U=v(ae),re=_(v(U),4),I=v(re),z=v(I),ge=_(I,2);{var F=ne=>{var q=tu(),X=v(q);de(()=>ve(X,n(p))),m(ne,q)};L(ge,ne=>{n(p)&&ne(F)})}var W=_(U,2),ce=v(W),M=_(ce,2),j=v(M);ie(j,()=>(D(w),b(()=>w.SAVE)));var ee=_(M,2);let ue;var V=v(ee);ie(V,()=>(n(f),D(w),b(()=>n(f)?w.ACCEPT:w.EDIT))),de(()=>{ve(z,`${i(),b(()=>i().length)??""} tracks`),ce.disabled=(i(),b(()=>i().length===0)),M.disabled=(i(),b(()=>i().length===0)),ue=Ye(ee,1,"btn-action svelte-185fgrr",null,ue,{active:n(f)}),It(ee,"title",n(f)?"Finish Editing":"Edit Queue"),ee.disabled=(i(),b(()=>i().length===0))}),$("click",ce,Z),$("click",M,H),$("click",ee,S),m(C,P)},row:(C,O)=>{var P=au();const be=ut(()=>O.item),he=ut(()=>O.index),A=ut(()=>O.startDrag);var N=v(P);Ua(N,{get track(){return n(be)},get index(){return n(he)},get playingIndex(){return n(c)},get playingFile(){return n(u)},get isPlaying(){return n(h)},get isEditable(){return n(f)},$$events:{play:()=>y(n(he)),remove:()=>x(n(he)),startdrag(...ae){n(A)?.apply(this,ae)}}}),m(C,P)}}}),m(e,te),kt(),l()}var iu=E('<div class="knob svelte-1jla3sy"></div>'),ou=E('<div class="tooltip current svelte-1jla3sy"> </div> <span></span>',1),lu=E('<div slot="fallback" class="icon-fallback svelte-1jla3sy"><!></div>'),cu=E('<span class="meta-tag quality"> </span>'),vu=E('<div class="dot svelte-1jla3sy"></div>'),du=E("<button><!> <!></button>"),uu=E('<div class="dock svelte-1jla3sy"><div class="progress-shadow svelte-1jla3sy"></div> <div><div class="rail svelte-1jla3sy"></div> <div class="fill svelte-1jla3sy"><!></div> <!></div> <div class="grid svelte-1jla3sy"><div class="info svelte-1jla3sy"><div class="art svelte-1jla3sy"><!></div> <div class="meta svelte-1jla3sy"><div class="title-row svelte-1jla3sy"><div class="title text-ellipsis svelte-1jla3sy"> </div> <button class="btn-icon tiny-dots svelte-1jla3sy"><!></button></div> <div class="artist-row svelte-1jla3sy"><div class="artist text-ellipsis svelte-1jla3sy"> </div> <!></div></div></div> <div class="controls svelte-1jla3sy"><button><!></button> <button class="btn-icon"><!></button> <button class="play-btn flex-center svelte-1jla3sy"><!></button> <button class="btn-icon"><!></button> <!></div> <div class="volume desktop svelte-1jla3sy"><button class="vol-btn-mini svelte-1jla3sy" title="Mute/Unmute"><!></button> <div class="custom-slider svelte-1jla3sy"><div class="slider-bg svelte-1jla3sy"><div class="slider-fill svelte-1jla3sy"></div> <div class="slider-knob svelte-1jla3sy"></div></div></div></div></div></div>');function fu(e,r){yt(r,!1);const t=()=>xe(pt,"$status",l),a=()=>xe(Gt,"$currentSong",l),s=()=>xe(Pr,"$favorites",l),i=()=>xe(Dr,"$stations",l),o=()=>xe(hn,"$isFullPlayerOpen",l),[l,d]=Nt(),c=T(),u=T(),h=T(),f=T(),p=T(),k=T(),S=T(),y=T(),x=T(),H=T(),Z=T(),K=T(),te=T();let le=T(!1),C=T(!1),O=!1,P=T(0),be=T(),he=T();const A=V=>ne=>{ne.stopPropagation(),V()};function N(V){if(isNaN(V)||V===null)return"0:00";const ne=Math.floor(V/60),q=Math.floor(V%60);return`${ne}:${q<10?"0":""}${q}`}function ae(V,ne){const q=ne.getBoundingClientRect();return Math.max(0,Math.min(1,(V.clientX-q.left)/q.width))}function U(V){n(f)||(g(C,!0),g(P,ae(V,n(be))),window.addEventListener("mousemove",re),window.addEventListener("mouseup",I))}function re(V){if(n(C)&&g(P,ae(V,n(be))),O){const ne=Math.round(ae(V,n(he))*100);br(ne)}}function I(){n(C)&&!n(f)&&ys(n(P)*n(c)),g(C,!1),O=!1,window.removeEventListener("mousemove",re),window.removeEventListener("mouseup",I)}let z=50;function ge(V){V.stopPropagation(),t().volume>0?(z=t().volume,br(0)):br(z>0?z:30)}function F(V){O=!0;const ne=Math.round(ae(V,n(he))*100);br(ne),window.addEventListener("mousemove",re),window.addEventListener("mouseup",I)}function W(){const V=(n(te)+1)%3;V===0?(t().random&&Kr(),t().repeat&&Xr()):V===1?(t().random||Kr(),t().repeat&&Xr()):V===2&&(t().random&&Kr(),t().repeat||Xr())}function ce(V){V.stopPropagation(),Fa(V,a(),{type:"general",source:"miniplayer"})}function M(V){Fa(V.detail.originalEvent,a(),{type:"general",source:"miniplayer"})}J(()=>t(),()=>{g(c,t().duration>0?t().duration:1)}),J(()=>t(),()=>{g(u,t().elapsed||0)}),J(()=>t(),()=>{g(h,t().state==="play")}),J(()=>a(),()=>{g(f,a().file?.startsWith("http"))}),J(()=>a(),()=>{g(p,a().title||"Not Playing")}),J(()=>a(),()=>{g(k,a().stationName||a().artist||"Moode")}),J(()=>(a(),s()),()=>{g(S,a().file&&s().has(a().file))}),J(()=>(a(),i()),()=>{g(y,ba(a(),i(),a().stationName))}),J(()=>(n(f),n(C),n(P),n(u),n(c)),()=>{g(x,n(f)?0:n(C)?n(P)*100:n(u)/n(c)*100)}),J(()=>(n(h),n(C),n(f)),()=>{g(H,n(h)&&!n(C)&&!n(f))}),J(()=>t(),()=>{g(Z,t().bitrate?`${t().bitrate} kbps`:t().format||"")}),J(()=>(t(),w),()=>{g(K,t().volume===0?w.VOLUME_MUTE:t().volume<50?w.VOLUME_MEDIUM:w.VOLUME_FULL)}),J(()=>t(),()=>{g(te,t().repeat?2:t().random?1:0)}),Ht(),Mt();var j=Je(),ee=Le(j);{var ue=V=>{var ne=uu(),q=v(ne),X=_(q,2);let oe;var pe=_(v(X),2),ye=v(pe);{var B=je=>{var _t=iu();m(je,_t)};L(ye,je=>{n(f)||je(B)})}var me=_(pe,2);{var Pe=je=>{var _t=ou(),Zt=Le(_t),Mr=v(Zt);de(we=>{vt(Zt,`left: ${n(x)??""}%`),ve(Mr,we)},[()=>(n(C),n(P),n(c),n(u),b(()=>n(C)?N(n(P)*n(c)):N(n(u))))]),m(je,_t)};L(me,je=>{(n(le)||n(C))&&!n(f)&&je(Pe)})}Nr(X,je=>g(be,je),()=>n(be));var Ae=_(X,2),R=v(Ae),G=v(R),Q=v(G);ta(Q,{get src(){return n(y)},alt:"art",radius:"4px",$$slots:{fallback:(je,_t)=>{var Zt=lu(),Mr=v(Zt);ie(Mr,()=>(n(f),D(w),b(()=>n(f)?w.RADIO:w.ALBUMS))),m(je,Zt)}}});var fe=_(G,2),Ee=v(fe),ke=v(Ee),Te=v(ke),Ie=_(ke,2),$e=v(Ie);ie($e,()=>(D(w),b(()=>w.DOTS)));var Se=_(Ee,2),Y=v(Se),_e=v(Y),se=_(Y,2);{var Ce=je=>{var _t=cu(),Zt=v(_t);de(()=>ve(Zt,n(Z))),m(je,_t)};L(se,je=>{n(Z)&&je(Ce)})}var ze=_(R,2),Ke=v(ze),rt=Ta(()=>A(()=>cr.toggleFavorite(a())));let Ne;var De=v(Ke);ie(De,()=>(n(S),D(w),b(()=>n(S)?w.HEART_FILLED:w.HEART)));var Oe=_(Ke,2),He=Ta(()=>A(()=>Ba("previous"))),nt=v(Oe);ie(nt,()=>(D(w),b(()=>w.PREVIOUS)));var Xe=_(Oe,2),qe=Ta(()=>A(Sn)),Re=v(Xe);ie(Re,()=>(t(),D(w),b(()=>t().state==="play"?w.PAUSE:w.PLAY)));var Be=_(Xe,2),Ze=Ta(()=>A(()=>Ba("next"))),st=v(Be);ie(st,()=>(D(w),b(()=>w.NEXT)));var it=_(Be,2);{var ft=je=>{var _t=du(),Zt=Ta(()=>A(W));let Mr;var we=v(_t);{var Ve=Pt=>{var hr=Je(),Ma=Le(hr);ie(Ma,()=>(D(w),b(()=>w.REPEAT))),m(Pt,hr)},xt=Pt=>{var hr=Je(),Ma=Le(hr);ie(Ma,()=>(D(w),b(()=>w.SHUFFLE))),m(Pt,hr)};L(we,Pt=>{n(te)===2?Pt(Ve):Pt(xt,!1)})}var nr=_(we,2);{var $n=Pt=>{var hr=vu();m(Pt,hr)};L(nr,Pt=>{n(te)>0&&Pt($n)})}de(()=>Mr=Ye(_t,1,"btn-icon desktop mode-btn svelte-1jla3sy",null,Mr,{active:n(te)>0})),$("click",_t,function(...Pt){n(Zt)?.apply(this,Pt)}),m(je,_t)};L(it,je=>{n(f)||je(ft)})}var Tt=_(ze,2),gt=v(Tt),ct=v(gt);ie(ct,()=>n(K));var at=_(gt,2),et=v(at),Ct=v(et),Sa=_(Ct,2);Nr(at,je=>g(he,je),()=>n(he)),Bt(()=>$("click",ne,()=>hn.set(!0))),fs(ne,(je,_t)=>Es?.(je,_t),()=>500),Bt(()=>$("longpress",ne,M)),de(()=>{vt(q,`width: ${n(x)??""}%; transition: ${n(H)?"width 0.25s linear":"none"}`),oe=Ye(X,1,"progress-bar svelte-1jla3sy",null,oe,{radio:n(f)}),vt(pe,`width: ${n(x)??""}%; transition: ${n(H)?"width 0.25s linear":"none"}`),It(ke,"title",n(p)),ve(Te,n(p)),It(Y,"title",n(k)),ve(_e,n(k)),Ne=Ye(Ke,1,"btn-icon desktop svelte-1jla3sy",null,Ne,{liked:n(S)}),vt(Ct,`width: ${t(),b(()=>t().volume)??""}%`),vt(Sa,`left: ${t(),b(()=>t().volume)??""}%`)}),$("mouseenter",X,()=>g(le,!0)),$("mouseleave",X,()=>g(le,!1)),$("mousedown",X,er(U)),$("click",X,er(function(je){ja.call(this,r,je)})),$("click",Ie,ce),$("click",Ke,function(...je){n(rt)?.apply(this,je)}),$("click",Oe,function(...je){n(He)?.apply(this,je)}),$("click",Xe,function(...je){n(qe)?.apply(this,je)}),$("click",Be,function(...je){n(Ze)?.apply(this,je)}),$("click",gt,ge),$("mousedown",at,er(F)),$("click",at,er(function(je){ja.call(this,r,je)})),m(V,ne)};L(ee,V=>{o()||V(ue)})}m(e,j),kt(),d()}var hu=E('<div class="drag-zone svelte-1olwzt8"><div class="drag-handle-icon svelte-1olwzt8"><!></div></div>'),pu=E('<div slot="fallback" class="icon-fallback svelte-1olwzt8"><!></div>'),gu=E('<span class="meta-tag quality"> </span>'),_u=E('<span class="dot svelte-1olwzt8"></span>'),mu=E("<button><!> <!></button>"),bu=E('<div style="width: 44px;"></div>'),wu=E('<div><!> <div class="bg-container svelte-1olwzt8"><div class="bg-gradient-fallback svelte-1olwzt8"></div> <img class="bg-img svelte-1olwzt8" alt="" loading="eager"/> <div class="bg-overlay svelte-1olwzt8"></div></div> <div class="player-body svelte-1olwzt8"><div class="art-container svelte-1olwzt8"><div class="artwork svelte-1olwzt8"><!></div></div> <div class="controls-area svelte-1olwzt8"><div class="meta svelte-1olwzt8"><h1 class="title text-ellipsis svelte-1olwzt8"> </h1> <div class="artist-row svelte-1olwzt8"><h2 class="artist text-ellipsis svelte-1olwzt8"> </h2> <!></div></div> <div class="progress-section"><div><div class="common-track svelte-1olwzt8"><div class="common-fill svelte-1olwzt8"><div class="common-knob svelte-1olwzt8"></div></div></div></div> <div class="time-row svelte-1olwzt8"><span> </span> <span> </span></div></div> <div class="buttons-row svelte-1olwzt8"><button><!></button> <button class="btn-icon side-btn svelte-1olwzt8"><!></button> <button class="play-btn-large flex-center svelte-1olwzt8"><!></button> <button class="btn-icon side-btn svelte-1olwzt8"><!></button> <!></div> <div class="volume-row svelte-1olwzt8"><button class="btn-icon small vol-btn svelte-1olwzt8"><!></button> <div class="volume-hit-area svelte-1olwzt8"><div class="common-track svelte-1olwzt8"><div class="common-fill svelte-1olwzt8"></div> <div class="common-knob svelte-1olwzt8"></div></div></div> <div class="vol-icon-static svelte-1olwzt8"><!></div></div></div></div></div>');function ai(e,r){yt(r,!1);const t=()=>xe(Gt,"$currentSong",o),a=()=>xe(Dr,"$stations",o),s=()=>xe(pt,"$status",o),i=()=>xe(Pr,"$favorites",o),[o,l]=Nt(),d=T(),c=T(),u=T(),h=T(),f=T(),p=T(),k=T(),S=T(),y=T(),x=T(),H=T(),Z=T();let K=dt(r,"isDocked",8,!1),te=0,le=T(0),C=T(!1);function O(){hn.set(!1)}function P(we){if(K())return;const Ve=we.target;Ve.closest(".bar-hit-area")||Ve.closest(".volume-hit-area")||(te=we.touches[0].clientY,g(C,!0))}function be(we){if(!n(C)||K())return;const Ve=we.touches[0].clientY-te;Ve>0&&(we.cancelable&&Ve>10&&we.preventDefault(),g(le,Ve))}function he(){K()||(g(C,!1),n(le)>150?O():g(le,0))}let A=T(!1),N=T(0),ae=T();function U(we){const Ve=Math.floor(we/60)||0,xt=Math.floor(we%60)||0;return`${Ve}:${xt.toString().padStart(2,"0")}`}function re(we,Ve){const xt=Ve.getBoundingClientRect(),nr=we.touches?we.touches[0].clientX:we.clientX;return Math.max(0,Math.min(1,(nr-xt.left)/xt.width))}function I(we){n(h)||(g(A,!0),g(N,re(we,n(ae))))}function z(we){n(A)&&g(N,re(we,n(ae)))}function ge(){n(A)&&!n(h)&&ys(n(N)*n(c)),g(A,!1)}let F=!1,W=T(),ce=50;function M(){s().volume>0?(ce=s().volume,br(0)):br(ce>0?ce:30)}function j(we){F=!0;const Ve=Math.round(re(we,n(W))*100);br(Ve),window.addEventListener("mousemove",ee),window.addEventListener("mouseup",ue),window.addEventListener("touchmove",ee,{passive:!1}),window.addEventListener("touchend",ue)}function ee(we){if(F){we.preventDefault();const Ve=Math.round(re(we,n(W))*100);br(Ve)}}function ue(){F=!1,window.removeEventListener("mousemove",ee),window.removeEventListener("mouseup",ue),window.removeEventListener("touchmove",ee),window.removeEventListener("touchend",ue)}function V(){const we=(n(y)+1)%3;we===0?(s().random&&Kr(),s().repeat&&Xr()):we===1?(s().random||Kr(),s().repeat&&Xr()):we===2&&(s().random&&Kr(),s().repeat||Xr())}J(()=>(t(),a()),()=>{g(d,ba(t(),a(),t().stationName))}),J(()=>s(),()=>{g(c,s().duration||1)}),J(()=>s(),()=>{g(u,s().elapsed||0)}),J(()=>t(),()=>{g(h,t().file?.startsWith("http"))}),J(()=>s(),()=>{g(f,s().state==="play")}),J(()=>(n(f),n(A),n(h)),()=>{g(p,n(f)&&!n(A)&&!n(h))}),J(()=>(n(h),n(A),n(N),n(u),n(c)),()=>{g(k,n(h)?0:n(A)?n(N)*100:n(u)/n(c)*100)}),J(()=>(s(),w),()=>{g(S,s().volume===0?w.VOLUME_MUTE:s().volume<50?w.VOLUME_MEDIUM:w.VOLUME_FULL)}),J(()=>s(),()=>{g(y,s().repeat?2:s().random?1:0)}),J(()=>s(),()=>{g(x,s().bitrate?`${s().bitrate} kbps`:s().format||"")}),J(()=>(t(),i()),()=>{g(H,t().file&&i().has(t().file))}),J(()=>D(K()),()=>{g(Z,K()?"8px":"var(--radius-xl)")}),Ht(),Mt();var ne=wu();let q;var X=v(ne);{var oe=we=>{var Ve=hu(),xt=v(Ve),nr=v(xt);ie(nr,()=>(D(w),b(()=>w.CHEVRON_DOWN))),$("touchstart",Ve,P),$("touchmove",Ve,be),$("touchend",Ve,he),$("click",Ve,O),m(we,Ve)};L(X,we=>{K()||we(oe)})}var pe=_(X,2),ye=_(v(pe),2),B=_(pe,2),me=v(B),Pe=v(me),Ae=v(Pe);ta(Ae,{get src(){return n(d)},alt:"Cover",get radius(){return n(Z)},$$slots:{fallback:(we,Ve)=>{var xt=pu(),nr=v(xt);ie(nr,()=>(n(h),D(w),b(()=>n(h)?w.RADIO:w.ALBUMS))),m(we,xt)}}});var R=_(me,2),G=v(R),Q=v(G),fe=v(Q),Ee=_(Q,2),ke=v(Ee),Te=v(ke),Ie=_(ke,2);{var $e=we=>{var Ve=gu(),xt=v(Ve);de(()=>ve(xt,n(x))),m(we,Ve)};L(Ie,we=>{n(x)&&we($e)})}var Se=_(G,2),Y=v(Se);let _e;var se=v(Y),Ce=v(se);Nr(Y,we=>g(ae,we),()=>n(ae));var ze=_(Y,2),Ke=v(ze),rt=v(Ke),Ne=_(Ke,2),De=v(Ne),Oe=_(Se,2),He=v(Oe);let nt;var Xe=v(He);ie(Xe,()=>(n(H),D(w),b(()=>n(H)?w.HEART_FILLED:w.HEART)));var qe=_(He,2),Re=v(qe);ie(Re,()=>(D(w),b(()=>w.PREVIOUS)));var Be=_(qe,2),Ze=v(Be);ie(Ze,()=>(s(),D(w),b(()=>s().state==="play"?w.PAUSE:w.PLAY)));var st=_(Be,2),it=v(st);ie(it,()=>(D(w),b(()=>w.NEXT)));var ft=_(st,2);{var Tt=we=>{var Ve=mu();let xt;var nr=v(Ve);{var $n=sr=>{var Or=Je(),An=Le(Or);ie(An,()=>(D(w),b(()=>w.REPEAT))),m(sr,Or)},Pt=sr=>{var Or=Je(),An=Le(Or);ie(An,()=>(D(w),b(()=>w.SHUFFLE))),m(sr,Or)};L(nr,sr=>{n(y)===2?sr($n):sr(Pt,!1)})}var hr=_(nr,2);{var Ma=sr=>{var Or=_u();m(sr,Or)};L(hr,sr=>{n(y)>0&&sr(Ma)})}de(()=>xt=Ye(Ve,1,"btn-icon side-btn mode-btn svelte-1olwzt8",null,xt,{active:n(y)>0})),$("click",Ve,V),m(we,Ve)},gt=we=>{var Ve=bu();m(we,Ve)};L(ft,we=>{n(h)?we(gt,!1):we(Tt)})}var ct=_(Oe,2),at=v(ct),et=v(at);ie(et,()=>n(S));var Ct=_(at,2),Sa=v(Ct),je=v(Sa),_t=_(je,2);Nr(Ct,we=>g(W,we),()=>n(W));var Zt=_(Ct,2),Mr=v(Zt);ie(Mr,()=>(D(w),b(()=>w.VOLUME_FULL))),de((we,Ve)=>{q=Ye(ne,1,"full-player svelte-1olwzt8",null,q,{"is-docked":K()}),vt(ne,K()?"":`transform: translateY(${n(le)}px); transition: ${n(C)?"none":"transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1)"}`),It(ye,"src",n(d)),vt(Pe,`transform: scale(${1-n(le)/3e3})`),vt(R,`opacity: ${1-n(le)/400}`),ve(fe,(t(),b(()=>t().title||"Not Playing"))),ve(Te,(t(),b(()=>t().stationName||t().artist||"Moode Audio"))),_e=Ye(Y,1,"bar-hit-area svelte-1olwzt8",null,_e,{"is-docked-bar":K()}),vt(Ce,`width: ${n(k)??""}%; transition: ${n(p)?"width 0.3s linear":"none"}`),ve(rt,we),ve(De,Ve),nt=Ye(He,1,"btn-icon side-btn svelte-1olwzt8",null,nt,{liked:n(H)}),vt(je,`width: ${s(),b(()=>s().volume)??""}%`),vt(_t,`left: ${s(),b(()=>s().volume)??""}%; right: auto;`)},[()=>(n(A),n(N),n(c),n(u),b(()=>n(A)?U(n(N)*n(c)):U(n(u)))),()=>(n(h),n(c),b(()=>n(h)?"LIVE":U(n(c))))]),$("mousedown",Y,I),$("touchstart",Y,I,void 0,!0),$("mousemove",Y,function(...we){(n(A)?z:null)?.apply(this,we)}),$("touchmove",Y,function(...we){(n(A)?z:null)?.apply(this,we)},void 0,!0),$("mouseup",Y,ge),$("touchend",Y,ge),$("click",He,()=>cr.toggleFavorite(t())),$("click",qe,()=>Ba("previous")),$("click",Be,function(...we){Sn?.apply(this,we)}),$("click",st,()=>Ba("next")),$("click",at,M),$("mousedown",Ct,er(j)),$("touchstart",Ct,er(j)),At(3,ne,()=>Qi,()=>({y:K()?0:800,duration:300,opacity:1})),m(e,ne),kt(),l()}const yu=`<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="600px" height="331px" viewBox="0 0 600 331" preserveAspectRatio="xMidYMid meet">
 <g fill="#eb1250">
  <path d="M 315.33 288.42 c -1.03 -0.33 -2.60 -1.34 -3.70 -2.39 -1.08 -1.01 -1.73 -2.81 -2.48 -6.68 -0.38 -1.99 -0.84 -4.29 -1.03 -5.13 -0.21 -0.84 -0.47 -2.20 -0.61 -3.05 -0.14 -0.84 -0.42 -2.34 -0.61 -3.33 -0.45 -2.20 -0.42 -2.04 -0.77 -4.17 -0.16 -0.96 -0.40 -2.16 -0.52 -2.65 -0.14 -0.52 -0.33 -1.45 -0.45 -2.11 -0.12 -0.68 -0.38 -2.02 -0.59 -2.98 -0.21 -0.96 -0.52 -2.55 -0.70 -3.52 -0.16 -0.96 -0.52 -2.81 -0.77 -4.10 -0.26 -1.29 -0.82 -4.08 -1.22 -6.21 -0.80 -4.20 -1.57 -8.13 -2.44 -12.54 -0.33 -1.55 -0.63 -3.23 -0.73 -3.75 -0.07 -0.52 -0.28 -1.57 -0.47 -2.34 -0.16 -0.77 -0.54 -2.63 -0.80 -4.10 -0.28 -1.48 -0.61 -3.12 -0.73 -3.63 -0.12 -0.52 -0.42 -2.20 -0.70 -3.75 -0.28 -1.55 -0.91 -4.92 -1.43 -7.50 -0.49 -2.58 -1.34 -7.01 -1.85 -9.84 -0.54 -2.84 -1.17 -6.26 -1.43 -7.62 -0.26 -1.36 -0.56 -3.07 -0.68 -3.80 -0.12 -0.75 -0.26 -1.43 -0.33 -1.55 -0.26 -0.42 -2.60 -12.89 -3.21 -17.16 -0.12 -0.84 -0.38 -2.16 -0.56 -2.93 -0.16 -0.77 -0.49 -2.34 -0.70 -3.52 -0.21 -1.15 -0.63 -3.26 -0.94 -4.69 -0.30 -1.41 -0.68 -3.30 -0.82 -4.22 -0.16 -0.89 -0.47 -2.58 -0.73 -3.75 -0.68 -3.30 -2.74 -14.16 -3.73 -19.80 -0.28 -1.48 -0.63 -3.38 -0.82 -4.22 -0.38 -1.71 -1.31 -6.70 -1.88 -10.08 -0.40 -2.34 -0.87 -4.71 -1.43 -7.27 -0.16 -0.84 -0.59 -3 -0.91 -4.80 -0.35 -1.80 -0.77 -4.01 -0.96 -4.92 -0.19 -0.89 -0.54 -2.98 -0.80 -4.64 -0.49 -3.26 -0.70 -3.91 -1.10 -3.40 -0.14 0.16 -0.30 0.63 -0.38 1.01 -0.07 0.40 -0.54 2.51 -1.01 4.69 -2.67 12.42 -3.16 14.77 -3.38 16.29 -0.28 1.99 -1.48 7.64 -3.77 18.05 -1.17 5.23 -2.37 10.66 -2.67 12.07 -0.33 1.43 -0.84 4.01 -1.17 5.74 -0.30 1.73 -1.05 5.27 -1.64 7.85 -0.59 2.58 -1.59 7.17 -2.25 10.20 -0.63 3.02 -1.38 5.93 -1.62 6.45 -0.66 1.36 -2.60 3.26 -4.05 3.96 -1.24 0.61 -1.24 0.61 -87.30 0.61 -86.04 0 -86.04 0 -87.33 -0.49 -1.59 -0.59 -3.56 -2.32 -4.41 -3.89 -1.97 -3.63 -0.35 -8.32 3.61 -10.43 1.01 -0.54 1.01 -0.54 83.44 -0.61 82.43 -0.05 82.43 -0.05 82.69 -1.41 0.14 -0.73 0.42 -1.85 0.59 -2.51 0.19 -0.63 0.82 -3.59 1.41 -6.56 0.59 -2.95 1.29 -6.23 1.52 -7.27 0.23 -1.03 0.82 -3.66 1.27 -5.86 0.47 -2.18 1.34 -6.30 1.97 -9.14 0.63 -2.84 1.34 -6.16 1.57 -7.38 0.21 -1.22 0.49 -2.39 0.61 -2.60 0.09 -0.21 0.42 -1.64 0.68 -3.16 0.26 -1.55 0.63 -3.26 0.82 -3.82 0.19 -0.59 0.35 -1.34 0.35 -1.69 0 -0.35 0.21 -1.57 0.49 -2.70 0.26 -1.13 0.59 -2.60 0.68 -3.23 0.21 -1.22 2.16 -10.08 3.05 -13.78 0.26 -1.13 1.05 -4.88 1.76 -8.32 0.70 -3.45 1.55 -7.59 1.88 -9.21 0.33 -1.62 1.08 -5.09 1.64 -7.73 1.62 -7.41 1.73 -7.95 2.13 -9.96 0.91 -4.62 1.92 -9.19 2.18 -9.80 0.14 -0.35 0.82 -1.24 1.48 -1.97 2.58 -2.72 5.84 -3.42 8.88 -1.90 1.97 0.98 3.73 2.74 4.27 4.31 0.42 1.20 1.41 6.42 1.80 9.47 0.09 0.84 0.30 1.83 0.45 2.18 0.14 0.38 0.26 1.10 0.26 1.66 0 0.54 0.16 1.45 0.35 2.04 0.19 0.56 0.56 2.25 0.84 3.73 0.82 4.50 1.78 9.28 2.20 11.13 0.19 0.77 0.45 2.04 0.56 2.81 0.47 2.63 1.92 10.08 2.25 11.60 0.19 0.84 0.45 2.16 0.56 2.93 0.28 1.64 0.63 3.56 1.08 5.86 0.19 0.91 0.49 2.60 0.70 3.75 0.21 1.17 0.54 2.79 0.70 3.63 0.19 0.84 0.77 3.75 1.29 6.45 0.54 2.72 1.17 5.88 1.41 7.03 0.23 1.17 0.66 3.38 0.94 4.92 0.26 1.55 0.70 4.03 0.96 5.51 0.26 1.48 0.73 3.91 1.03 5.39 0.30 1.48 0.68 3.45 0.82 4.34 0.16 0.91 0.47 2.48 0.70 3.52 0.70 3.19 2.23 10.73 2.58 12.89 0.09 0.66 0.47 2.48 0.80 4.10 0.63 3.05 0.70 3.35 1.66 8.77 0.33 1.80 0.82 4.29 1.08 5.51 0.26 1.24 0.56 2.79 0.68 3.42 0.19 1.17 0.89 4.76 1.55 8.09 0.21 0.96 0.63 3.23 0.96 5.04 0.84 4.64 1.41 7.55 1.69 8.91 0.14 0.66 0.35 1.76 0.49 2.46 0.12 0.70 0.38 2.04 0.56 2.93 0.19 0.91 0.61 3.16 0.94 5.04 1.05 5.86 2.48 13.41 2.88 15.12 0.19 0.91 0.42 2.02 0.47 2.46 0.07 0.45 0.33 1.78 0.59 2.93 0.26 1.17 0.56 2.70 0.68 3.40 0.12 0.70 0.30 1.62 0.42 1.99 0.12 0.40 0.35 1.48 0.52 2.41 0.26 1.50 0.35 1.69 0.82 1.69 0.45 0 0.54 -0.16 0.68 -0.98 0.23 -1.66 2.23 -11.86 2.84 -14.60 0.30 -1.41 0.66 -3.09 0.80 -3.75 0.89 -4.57 5.46 -26.60 6.47 -31.17 0.33 -1.41 0.77 -3.59 1.03 -4.80 0.52 -2.51 1.13 -5.44 2.13 -10.08 0.38 -1.73 1.01 -4.69 1.36 -6.56 0.38 -1.88 1.05 -5.13 1.50 -7.27 0.47 -2.13 0.94 -4.38 1.05 -5.04 0.45 -2.30 1.95 -9.63 2.18 -10.48 0.26 -1.01 1.64 -7.38 2.44 -11.32 0.30 -1.55 0.77 -3.87 1.05 -5.16 0.47 -2.34 2.91 -13.57 4.22 -19.57 0.38 -1.73 0.82 -3.89 0.96 -4.80 0.54 -3.26 2.16 -5.65 4.64 -6.91 1.73 -0.87 2.53 -1.01 4.36 -0.82 1.22 0.14 1.83 0.35 2.93 1.08 2.20 1.43 3.40 3.45 4.45 7.55 0.26 1.05 0.70 2.72 0.96 3.68 0.26 0.96 0.63 2.34 0.80 3.05 0.54 2.16 1.29 4.95 1.78 6.56 0.23 0.84 0.70 2.48 1.01 3.63 0.30 1.17 0.98 3.63 1.52 5.51 0.54 1.88 1.24 4.41 1.55 5.63 0.33 1.22 0.80 2.86 1.05 3.63 0.26 0.77 0.47 1.59 0.47 1.80 0 0.23 0.30 1.50 0.68 2.81 0.38 1.34 1.01 3.68 1.43 5.23 0.77 2.81 1.52 5.58 3.26 11.72 0.52 1.80 1.31 4.71 1.76 6.47 0.45 1.76 0.96 3.70 1.17 4.34 0.30 0.98 2.39 8.65 4.29 15.68 1.13 4.24 2.25 8.27 3.05 11.13 1.45 5.13 1.62 5.74 3.21 11.79 0.42 1.59 0.54 1.80 0.96 1.80 0.16 0 0.35 0.12 0.40 0.28 0.05 0.14 0.33 -0.52 0.63 -1.48 0.30 -0.96 1.73 -5.37 3.19 -9.82 1.48 -4.45 3.09 -9.52 3.63 -11.25 0.52 -1.73 1.85 -5.86 2.95 -9.14 1.13 -3.28 2.48 -7.45 3.05 -9.26 1.73 -5.44 2.23 -6.19 5.11 -7.69 1.43 -0.75 1.43 -0.75 69.40 -0.82 67.97 -0.07 67.97 -0.07 69.56 0.47 0.87 0.28 1.57 0.61 1.57 0.70 0 0.12 0.42 0.56 0.94 1.03 0.52 0.47 1.27 1.52 1.64 2.32 0.94 1.97 0.98 4.52 0.14 6.33 -0.73 1.57 -3.26 3.98 -4.52 4.31 -0.70 0.19 -19.31 0.28 -65.27 0.33 -64.29 0.05 -64.29 0.05 -66.82 7.66 -1.38 4.20 -4.97 14.95 -7.97 23.91 -5.58 16.71 -8.34 25.17 -9.89 30.12 -1.38 4.43 -2.34 5.98 -4.66 7.43 -1.15 0.75 -1.29 0.77 -3.66 0.77 -2.11 0 -2.63 -0.07 -3.59 -0.56 -1.20 -0.59 -2.65 -1.92 -3.59 -3.30 -0.47 -0.68 -2.44 -7.15 -4.17 -13.59 -0.19 -0.70 -0.61 -2.23 -0.94 -3.40 -0.33 -1.15 -0.77 -2.74 -0.98 -3.52 -0.19 -0.77 -0.45 -1.71 -0.56 -2.11 -0.12 -0.38 -0.49 -1.76 -0.82 -3.05 -0.35 -1.29 -1.03 -3.77 -1.52 -5.51 -1.90 -6.52 -2.79 -9.75 -2.95 -10.66 -0.07 -0.52 -0.23 -1.10 -0.35 -1.31 -0.12 -0.21 -0.63 -2.02 -1.15 -3.98 -0.94 -3.54 -1.66 -6.23 -3.40 -12.63 -0.47 -1.73 -1.10 -4.03 -1.43 -5.09 -0.30 -1.05 -0.94 -3.33 -1.38 -5.04 -0.45 -1.71 -1.03 -3.91 -1.29 -4.88 -0.28 -0.96 -0.59 -2.18 -0.68 -2.70 -0.12 -0.52 -0.75 -2.88 -1.41 -5.27 -0.66 -2.39 -1.45 -5.39 -1.80 -6.68 -0.33 -1.29 -0.70 -2.60 -0.80 -2.93 -0.30 -0.91 -2.04 -7.52 -2.25 -8.55 -0.16 -0.70 -0.33 -0.94 -0.66 -0.94 -0.40 0 -0.56 0.56 -1.45 4.80 -0.54 2.65 -1.36 6.61 -1.85 8.79 -0.47 2.20 -1.15 5.51 -1.50 7.38 -1.22 6.28 -1.92 9.73 -2.25 11.13 -0.19 0.77 -0.52 2.30 -0.70 3.40 -0.21 1.10 -0.54 2.53 -0.70 3.16 -0.19 0.66 -0.61 2.48 -0.91 4.10 -0.73 3.73 -1.69 8.48 -1.99 9.84 -0.49 2.30 -0.94 4.43 -1.29 6.21 -0.21 1.03 -0.75 3.61 -1.20 5.74 -0.45 2.13 -0.84 4.20 -0.91 4.57 -0.07 0.40 -0.23 1.34 -0.35 2.11 -0.14 0.77 -0.73 3.63 -1.31 6.33 -0.59 2.72 -1.17 5.55 -1.31 6.33 -0.30 1.83 -1.57 8.39 -1.85 9.61 -0.12 0.52 -0.54 2.58 -0.94 4.57 -0.40 1.99 -0.87 4.22 -1.05 4.92 -0.16 0.70 -0.45 2.09 -0.61 3.05 -0.16 0.96 -0.49 2.65 -0.73 3.75 -0.54 2.46 -0.59 2.70 -2.32 11.48 -0.77 3.94 -1.55 7.73 -1.73 8.44 -0.19 0.70 -0.56 2.39 -0.82 3.75 -0.28 1.36 -0.70 3.47 -0.96 4.69 -0.23 1.22 -0.61 3.23 -0.82 4.45 -0.63 3.87 -2.23 6.45 -4.83 7.85 -1.01 0.56 -1.57 0.68 -3.12 0.75 -1.13 0.05 -2.25 -0.07 -2.84 -0.26 z "/>
 </g>
</svg>`,ns={async syncLibrary(){if(We(Jt))return;Jt.set(!0);const e=new Ji,r=window.location.origin+"/wave-api.php";e.postMessage({type:"START_SYNC",payload:{url:r}}),e.onmessage=t=>{const{type:a,status:s,count:i,message:o}=t.data;if(a==="PROGRESS"){const l={connecting:"Requesting library...",downloading:"Downloading data...",parsing:"Processing metadata...",saving:`Saving ${i} tracks...`};l[s]&&Fe(l[s],"info")}a==="DONE"&&(Fe(`Library updated: ${i} tracks`,"success"),Jt.set(!1),e.terminate()),a==="ERROR"&&(console.error("[API] Sync Error:",o),Fe(`Sync Failed: ${o}`,"error"),Jt.set(!1),e.terminate())},e.onerror=t=>{console.error("[API] Worker crash:",t),Fe("Sync worker crashed","error"),Jt.set(!1),e.terminate()}},async loadRadioStations(){if(!We(an)){an.set(!0);try{const r=await fetch(Bc.STATIONS(!1));if(!r.ok)throw new Error("Network error");const t=await r.json();if(t.error)throw new Error(t.error);if(!Array.isArray(t))throw new Error("Invalid response format");const a=t.map(s=>({id:s.id,name:s.name,file:s.station,station:s.station,image:s.logo,genre:s.genre||"Radio"}));a.sort((s,i)=>s.name.localeCompare(i.name,void 0,{sensitivity:"base"})),Dr.set(a)}catch(e){console.error("[API] Failed to load stations",e),Fe("Failed to load radio","error")}finally{an.set(!1)}}}};var ku=E('<div class="backdrop svelte-ji5owg"></div>'),xu=E('<button><span class="icon svelte-ji5owg"><!></span> <span> </span></button>'),Eu=E('<!> <aside><div class="header svelte-ji5owg"><div class="header-inner svelte-ji5owg"><button class="collapse-btn svelte-ji5owg"><div class="chevron svelte-ji5owg"><!></div></button> <div><div class="logo svelte-ji5owg"><!></div></div></div> <button class="btn-icon mobile-close svelte-ji5owg"><!></button></div> <div class="scroll-area custom-scrollbar svelte-ji5owg"><nav class="svelte-ji5owg"><!> <button title="Search"><span class="icon svelte-ji5owg"><!></span> <span>Search</span></button> <div class="sep svelte-ji5owg"></div> <button class="nav-item sync svelte-ji5owg" title="Update Library"><span><!></span> <span> </span></button> <div class="sep svelte-ji5owg"></div> <button title="Settings"><span class="icon svelte-ji5owg"><!></span> <span>Settings</span></button></nav> <div class="footer svelte-ji5owg"><div>Moode WaveUI</div></div></div></aside>',1);function Su(e,r){yt(r,!1);const t=()=>xe(Jt,"$isSyncingLibrary",i),a=()=>xe(es,"$isSidebarCollapsed",i),s=()=>xe(jt,"$activeMenuTab",i),[i,o]=Nt(),l=T();let d=dt(r,"isOpen",8,!1);const c=gs();let u=T(0),h=T(0),f=T(!1);const p=[{id:"queue",label:"Queue",icon:w.MENU},{id:"favorites",label:"Favorites",icon:w.HEART},{id:"artists",label:"Artists",icon:w.ARTISTS},{id:"albums",label:"Albums",icon:w.ALBUMS},{id:"playlists",label:"Playlists",icon:w.PLAYLISTS},{id:"radio",label:"Radio",icon:w.RADIO}];function k($e){window.location.hash=`/${$e}`,c("close")}async function S(){t()||(await ns.syncLibrary(),window.location.hash="/artists")}function y(){es.update($e=>!$e)}function x($e){d()&&(g(u,$e.touches[0].clientX),g(h,n(u)),g(f,!0))}function H($e){n(f)&&g(h,$e.touches[0].clientX)}function Z(){n(f)&&(n(h)-n(u)<-70&&c("close"),g(f,!1),g(u,0),g(h,0))}J(()=>(n(f),n(h),n(u)),()=>{g(l,n(f)?Math.min(0,n(h)-n(u)):0)}),Ht(),Mt();var K=Eu(),te=Le(K);{var le=$e=>{var Se=ku();$("click",Se,()=>c("close")),At(3,Se,()=>dr,()=>({duration:200})),m($e,Se)};L(te,$e=>{d()&&$e(le)})}var C=_(te,2);let O,P;var be=v(C),he=v(be),A=v(he),N=v(A),ae=v(N);ie(ae,()=>(D(w),b(()=>w.BACK)));var U=_(A,2);let re;var I=v(U),z=v(I);ie(z,()=>yu);var ge=_(he,2),F=v(ge);ie(F,()=>(D(w),b(()=>w.CLOSE)));var W=_(be,2),ce=v(W),M=v(ce);St(M,1,()=>p,Er,($e,Se)=>{var Y=xu();let _e;var se=v(Y),Ce=v(se);ie(Ce,()=>(n(Se),b(()=>n(Se).icon)));var ze=_(se,2);let Ke;var rt=v(ze);de(()=>{_e=Ye(Y,1,"nav-item svelte-ji5owg",null,_e,{active:s()===n(Se).id}),It(Y,"title",(n(Se),b(()=>n(Se).label))),Ke=Ye(ze,1,"label-text svelte-ji5owg",null,Ke,{hidden:a()}),ve(rt,(n(Se),b(()=>n(Se).label)))}),$("click",Y,()=>k(n(Se).id)),m($e,Y)});var j=_(M,2);let ee;var ue=v(j),V=v(ue);ie(V,()=>(D(w),b(()=>w.SEARCH)));var ne=_(ue,2);let q;var X=_(j,4),oe=v(X);let pe;var ye=v(oe);ie(ye,()=>(D(w),b(()=>w.SYNC)));var B=_(oe,2);let me;var Pe=v(B),Ae=_(X,4);let R;var G=v(Ae),Q=v(G);ie(Q,()=>(D(w),b(()=>w.SETTINGS)));var fe=_(G,2);let Ee;var ke=_(ce,2),Te=v(ke);let Ie;de(()=>{O=Ye(C,1,"side-menu svelte-ji5owg",null,O,{"mobile-open":d(),collapsed:a()}),P=vt(C,"",P,{transform:d()?`translateX(${n(l)}px)`:"",transition:n(f)?"none":"width 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.3s ease"}),It(A,"title",a()?"Expand":"Collapse"),vt(N,`transform: rotate(${a()?"180deg":"0deg"})`),re=Ye(U,1,"logo-wrapper svelte-ji5owg",null,re,{hidden:a()}),ee=Ye(j,1,"nav-item svelte-ji5owg",null,ee,{active:s()==="search"}),q=Ye(ne,1,"label-text svelte-ji5owg",null,q,{hidden:a()}),X.disabled=t(),pe=Ye(oe,1,"icon svelte-ji5owg",null,pe,{spin:t()}),me=Ye(B,1,"label-text svelte-ji5owg",null,me,{hidden:a()}),ve(Pe,t()?"Syncing...":"Update Library"),R=Ye(Ae,1,"nav-item svelte-ji5owg",null,R,{active:s()==="settings"}),Ee=Ye(fe,1,"label-text svelte-ji5owg",null,Ee,{hidden:a()}),Ie=Ye(Te,1,"footer-text svelte-ji5owg",null,Ie,{hidden:a()})}),$("click",A,y),$("click",ge,()=>c("close")),$("click",j,()=>k("search")),$("click",X,S),$("click",Ae,()=>k("settings")),$("touchstart",C,x),$("touchmove",C,H),$("touchend",C,Z),m(e,K),kt(),o()}var Mu=E('<div class="toast-container svelte-k2bvk7"><div> </div></div>'),Tu=E('<button class="back-btn svelte-k2bvk7"><span class="icon-inline svelte-k2bvk7"><!></span> Back</button>'),$u=E('<div class="view-title svelte-k2bvk7"><!></div>'),Au=E('<div class="full-player-modal svelte-k2bvk7"><!></div>'),Cu=E('<div class="app-container svelte-k2bvk7"><div class="app-layout svelte-k2bvk7"><!> <!> <main class="content-area svelte-k2bvk7"><header class="top-bar svelte-k2bvk7"><button class="hamburger-btn svelte-k2bvk7"><!></button> <!></header> <div class="scroll-container svelte-k2bvk7"><div class="view-wrapper svelte-k2bvk7"><!></div></div></main> <div class="docked-player-container svelte-k2bvk7"><!></div></div> <div class="mini-player-wrapper svelte-k2bvk7"><!></div></div> <!>',1);function Pu(e,r){yt(r,!1);const t=()=>xe(Qt,"$navigationStack",o),a=()=>xe(Gn,"$toastMessage",o),s=()=>xe(jt,"$activeMenuTab",o),i=()=>xe(hn,"$isFullPlayerOpen",o),[o,l]=Nt();let d=T(!1);Ea(()=>{window.history.replaceState({depth:t().length},"","");const I=()=>void 0;return window.addEventListener("popstate",I),()=>window.removeEventListener("popstate",I)}),Mt();var c=Cu(),u=Le(c),h=v(u),f=v(h);{var p=I=>{var z=Mu(),ge=v(z),F=v(ge);de(()=>{Ye(ge,1,`toast-body ${a().type??""}`,"svelte-k2bvk7"),ve(F,a().text)}),At(3,z,()=>Qi,()=>({y:-50,duration:300})),m(I,z)};L(f,I=>{a()&&I(p)})}var k=_(f,2);Su(k,{get isOpen(){return n(d)},$$events:{close:()=>g(d,!1)}});var S=_(k,2),y=v(S),x=v(y),H=v(x);ie(H,()=>w.MENU);var Z=_(x,2);{var K=I=>{var z=Tu(),ge=v(z),F=v(ge);ie(F,()=>w.BACK),$("click",z,function(...W){Dc?.apply(this,W)}),m(I,z)},te=I=>{var z=$u(),ge=v(z);{var F=ce=>{var M=jr("Radio");m(ce,M)},W=ce=>{var M=Je(),j=Le(M);{var ee=V=>{var ne=jr("Playlists");m(V,ne)},ue=V=>{var ne=Je(),q=Le(ne);{var X=pe=>{var ye=jr("Search");m(pe,ye)},oe=pe=>{var ye=Je(),B=Le(ye);{var me=Ae=>{var R=jr("Queue");m(Ae,R)},Pe=Ae=>{var R=Je(),G=Le(R);{var Q=Ee=>{var ke=jr("Favorites");m(Ee,ke)},fe=Ee=>{var ke=Je(),Te=Le(ke);{var Ie=Se=>{var Y=jr("Settings");m(Se,Y)},$e=Se=>{var Y=jr();de(_e=>ve(Y,_e),[()=>(s()||"Library").charAt(0).toUpperCase()+(s()||"library").slice(1)]),m(Se,Y)};L(Te,Se=>{s()==="settings"?Se(Ie):Se($e,!1)},!0)}m(Ee,ke)};L(G,Ee=>{s()==="favorites"?Ee(Q):Ee(fe,!1)},!0)}m(Ae,R)};L(B,Ae=>{s()==="queue"?Ae(me):Ae(Pe,!1)},!0)}m(pe,ye)};L(q,pe=>{s()==="search"?pe(X):pe(oe,!1)},!0)}m(V,ne)};L(j,V=>{s()==="playlists"?V(ee):V(ue,!1)},!0)}m(ce,M)};L(ge,ce=>{s()==="radio"?ce(F):ce(W,!1)})}m(I,z)};L(Z,I=>{t().length>1?I(K):I(te,!1)})}var le=_(y,2),C=v(le),O=v(C);{var P=I=>{fd(I,{})},be=I=>{var z=Je(),ge=Le(z);{var F=ce=>{su(ce,{})},W=ce=>{var M=Je(),j=Le(M);{var ee=V=>{Dd(V,{})},ue=V=>{var ne=Je(),q=Le(ne);{var X=pe=>{Zd(pe,{})},oe=pe=>{var ye=Je(),B=Le(ye);{var me=Ae=>{eu(Ae,{})},Pe=Ae=>{ed(Ae,{get activeCategory(){return s()}})};L(B,Ae=>{s()==="settings"?Ae(me):Ae(Pe,!1)},!0)}m(pe,ye)};L(q,pe=>{s()==="search"?pe(X):pe(oe,!1)},!0)}m(V,ne)};L(j,V=>{s()==="playlists"||s()==="favorites"?V(ee):V(ue,!1)},!0)}m(ce,M)};L(ge,ce=>{s()==="queue"?ce(F):ce(W,!1)},!0)}m(I,z)};L(O,I=>{s()==="radio"?I(P):I(be,!1)})}var he=_(S,2),A=v(he);ai(A,{isDocked:!0});var N=_(h,2),ae=v(N);fu(ae,{});var U=_(u,2);{var re=I=>{var z=Au(),ge=v(z);ai(ge,{}),m(I,z)};L(U,I=>{i()&&I(re)})}de(()=>vt(le,`padding-bottom: ${i()?"0px":"var(--mini-player-height)"};`)),$("click",x,()=>g(d,!0)),m(e,c),kt(),l()}var Lu=E('<button class="back-btn-area svelte-l8h85k"><span class="back-icon svelte-l8h85k"><!></span></button> <span class="header-title svelte-l8h85k">Select Playlist</span>',1),zu=E('<div class="track-info svelte-l8h85k"><div class="title text-ellipsis svelte-l8h85k"> </div> <div class="artist text-ellipsis svelte-l8h85k">Playlist</div></div>'),Ru=E('<div class="track-info svelte-l8h85k"><div class="title text-ellipsis svelte-l8h85k"> </div> <div class="artist text-ellipsis svelte-l8h85k"> </div></div>'),Iu=E('<button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span> </span></button>'),Nu=E('<div class="empty-msg svelte-l8h85k">No custom playlists</div>'),Du=E("<!> <!>",1),Ou=E('<button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Play Now</span></button> <div class="sep svelte-l8h85k"></div> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Rename</span></button> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Delete Playlist</span></button>',1),ju=E('<button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Go to Album</span></button> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Go to Artist</span></button>',1),Fu=E('<div class="sep svelte-l8h85k"></div> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Remove from Playlist</span></button>',1),qu=E('<div class="sep svelte-l8h85k"></div> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Remove from Queue</span></button>',1),Bu=E('<button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Play Next</span></button> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Add to Queue</span></button> <button class="menu-row svelte-l8h85k"><span class="icon svelte-l8h85k"><!></span> <span>Add to Playlist...</span></button> <!> <button class="menu-row svelte-l8h85k"><span><!></span> <span> </span></button> <!> <!>',1),Uu=E('<div class="backdrop svelte-l8h85k"><div class="menu-card svelte-l8h85k"><div class="menu-header svelte-l8h85k"><!></div> <div class="menu-items scroll-y svelte-l8h85k"><!></div></div></div>');function Hu(e,r){yt(r,!1);const t=()=>xe(bs,"$contextMenu",i),a=()=>xe(Pr,"$favorites",i),s=()=>xe(ms,"$playlists",i),[i,o]=Nt(),l=T(),d=T(),c=T(),u=T(),h=T(),f=T(),p=T();let k=T(),S=T(),y=T(),x=T(0),H=T(0),Z=T("main"),K=T(!1);function te(M){t().isOpen&&(g(K,!1),Dt())}function le(){Dt()}function C(){t().track&&tr.playNext(t().track.file),Dt()}function O(){t().track&&tr.addToQueue(t().track.file),Dt()}function P(){t().track&&cr.toggleFavorite(t().track),Dt()}function be(){const M=t().track;M&&M.album&&Ir("tracks_by_album",{name:M.album,artist:M.artist}),Dt()}function he(){const M=t().track;M&&M.artist&&Ir("albums_by_artist",{name:M.artist}),Dt()}async function A(){const{playlistName:M,index:j}=t().context;M&&j!==null&&(za.update(ee=>{const ue=[...ee];return ue.splice(j,1),ue}),await cr.removeFromPlaylist(M,j)),Dt()}function N(){const{index:M}=t().context;M!=null&&tr.removeFromQueue(M),Dt()}function ae(){const M=t().context.playlist;M&&Me.send("stop").then(()=>Me.send("clear")).then(()=>Me.send(`load "${M.name.replace(/"/g,'\\"')}"`)).then(()=>Me.send("play 0")),Dt()}function U(){const M=t().context.playlist;M&&(Dt(),xr({title:"Rename Playlist",message:`Enter new name for "${M.name}":`,type:"prompt",placeholder:M.name,inputValue:M.name,confirmLabel:"Rename",onConfirm:j=>{j&&j!==M.name&&cr.renamePlaylist(M.name,j)}}))}function re(){const M=t().context.playlist;M&&(Dt(),xr({title:"Delete Playlist",message:`Are you sure you want to delete "${M.name}"? This cannot be undone.`,type:"confirm",confirmLabel:"Delete",onConfirm:()=>{cr.deletePlaylist(M.name)}}))}function I(){g(Z,"playlists")}function z(){g(Z,"main")}async function ge(M){const j=t().track;if(j)try{const ee=M.replace(/"/g,'\\"'),ue=j.file.replace(/"/g,'\\"');await Me.send(`playlistadd "${ee}" "${ue}"`),Fe(`Added to "${M}"`,"success"),Dt()}catch(ee){console.error(ee),Fe("Failed to add","error")}}J(()=>t(),()=>{t().isOpen&&g(Z,"main")}),J(()=>(t(),n(K)),()=>{t().isOpen?!n(K)&&typeof history<"u"&&(history.pushState({contextMenuOpen:!0},""),g(K,!0)):n(K)&&typeof history<"u"&&(history.back(),g(K,!1))}),J(()=>(t(),a()),()=>{g(l,t().track&&a().has(t().track.file))}),J(()=>t(),()=>{g(d,t().track&&(t().track.file.includes("http")||t().track.file.includes("://")))}),J(()=>t(),()=>{g(c,t().context?.type==="playlist")}),J(()=>t(),()=>{g(u,t().context?.type==="queue")}),J(()=>t(),()=>{g(h,t().context?.type==="playlist-card")}),J(()=>t(),()=>{g(f,t().context?.source==="miniplayer")}),J(()=>(t(),n(H),n(x),n(k),n(f),n(S)),()=>{g(p,(()=>{if(!t().isOpen)return"";const M=t().triggerRect,j=t().x,ee=t().y,ue=n(H)||220,V=n(x)||320;if(n(k)<=768&&n(f)&&M)return`
        position: fixed; 
        bottom: ${n(S)-M.top}px; 
        left: 50%; 
        transform: translateX(-50%); 
        margin: 0; 
        transform-origin: bottom center;
      `;let ne=0,q=0,X="top left";if(M){const pe=M.left+M.width/2,ye=M.top+M.height/2,B=pe>n(k)/2,me=ye>n(S)/2;B?(ne=M.right-ue,X=me?"bottom right":"top right"):(ne=M.left,X=me?"bottom left":"top left"),me?q=M.top-V:q=M.bottom}else ne=j,q=ee,ne+ue>n(k)&&(ne=n(k)-ue-10),q+V>n(S)&&(q=n(S)-V-10);const oe=8;return ne<oe&&(ne=oe),ne+ue>n(k)-oe&&(ne=n(k)-ue-oe),q<oe&&(q=oe),q+V>n(S)-oe&&(q=n(S)-V-oe),`position: fixed; top: ${q}px; left: ${ne}px; margin: 0; transform-origin: ${X};`})())}),Ht(),Mt();var F=Je();$("popstate",Ar,te);var W=Le(F);{var ce=M=>{var j=Uu(),ee=v(j),ue=v(ee),V=v(ue);{var ne=B=>{var me=Lu(),Pe=Le(me),Ae=v(Pe),R=v(Ae);ie(R,()=>(D(w),b(()=>w.BACK))),$("click",Pe,z),m(B,me)},q=B=>{var me=Je(),Pe=Le(me);{var Ae=G=>{var Q=zu(),fe=v(Q),Ee=v(fe);de(()=>ve(Ee,(t(),b(()=>t().context.playlist.name)))),m(G,Q)},R=G=>{var Q=Ru(),fe=v(Q),Ee=v(fe),ke=_(fe,2),Te=v(ke);de(()=>{ve(Ee,(t(),b(()=>t().track.title))),ve(Te,(t(),b(()=>t().track.artist)))}),m(G,Q)};L(Pe,G=>{n(h)?G(Ae):G(R,!1)},!0)}m(B,me)};L(V,B=>{n(Z)==="playlists"?B(ne):B(q,!1)})}var X=_(ue,2),oe=v(X);{var pe=B=>{var me=Du(),Pe=Le(me);St(Pe,1,s,Er,(G,Q)=>{var fe=Je(),Ee=Le(fe);{var ke=Te=>{var Ie=Iu(),$e=v(Ie),Se=v($e);ie(Se,()=>(D(w),b(()=>w.PLAYLISTS)));var Y=_($e,2),_e=v(Y);de(()=>ve(_e,(n(Q),b(()=>n(Q).name)))),$("click",Ie,()=>ge(n(Q).name)),m(Te,Ie)};L(Ee,Te=>{n(Q),b(()=>n(Q).name!=="Favorites")&&Te(ke)})}m(G,fe)});var Ae=_(Pe,2);{var R=G=>{var Q=Nu();m(G,Q)};L(Ae,G=>{s(),b(()=>s().filter(Q=>Q.name!=="Favorites").length===0)&&G(R)})}m(B,me)},ye=B=>{var me=Je(),Pe=Le(me);{var Ae=G=>{var Q=Ou(),fe=Le(Q),Ee=v(fe),ke=v(Ee);ie(ke,()=>(D(w),b(()=>w.PLAY)));var Te=_(fe,4),Ie=v(Te),$e=v(Ie);ie($e,()=>(D(w),b(()=>w.EDIT)));var Se=_(Te,2),Y=v(Se),_e=v(Y);ie(_e,()=>(D(w),b(()=>w.REMOVE))),$("click",fe,ae),$("click",Te,U),$("click",Se,re),m(G,Q)},R=G=>{var Q=Bu(),fe=Le(Q),Ee=v(fe),ke=v(Ee);ie(ke,()=>(D(w),b(()=>w.NEXT)));var Te=_(fe,2),Ie=v(Te),$e=v(Ie);ie($e,()=>(D(w),b(()=>w.MENU)));var Se=_(Te,2),Y=v(Se),_e=v(Y);ie(_e,()=>(D(w),b(()=>w.ADD_TO_PLAYLIST||w.ADD)));var se=_(Se,2);{var Ce=Re=>{var Be=ju(),Ze=Le(Be),st=v(Ze),it=v(st);ie(it,()=>(D(w),b(()=>w.ALBUM_LINK||w.ALBUMS)));var ft=_(Ze,2),Tt=v(ft),gt=v(Tt);ie(gt,()=>(D(w),b(()=>w.ARTIST_LINK||w.ARTISTS))),$("click",Ze,be),$("click",ft,he),m(Re,Be)};L(se,Re=>{n(d)||Re(Ce)})}var ze=_(se,2),Ke=v(ze);let rt;var Ne=v(Ke);ie(Ne,()=>(n(l),D(w),b(()=>n(l)?w.HEART_FILLED:w.HEART)));var De=_(Ke,2),Oe=v(De),He=_(ze,2);{var nt=Re=>{var Be=Fu(),Ze=_(Le(Be),2),st=v(Ze),it=v(st);ie(it,()=>(D(w),b(()=>w.REMOVE))),$("click",Ze,A),m(Re,Be)};L(He,Re=>{n(c)&&Re(nt)})}var Xe=_(He,2);{var qe=Re=>{var Be=qu(),Ze=_(Le(Be),2),st=v(Ze),it=v(st);ie(it,()=>(D(w),b(()=>w.REMOVE))),$("click",Ze,N),m(Re,Be)};L(Xe,Re=>{n(u)&&Re(qe)})}de(()=>{rt=Ye(Ke,1,"icon svelte-l8h85k",null,rt,{liked:n(l)}),ve(Oe,n(l)?"Unlike":"Like")}),$("click",fe,C),$("click",Te,O),$("click",Se,I),$("click",ze,P),m(G,Q)};L(Pe,G=>{n(h)?G(Ae):G(R,!1)},!0)}m(B,me)};L(oe,B=>{n(Z)==="playlists"?B(pe):B(ye,!1)})}Nr(ee,B=>g(y,B),()=>n(y)),de(()=>vt(ee,n(p))),Os(ee,"clientHeight",B=>g(x,B)),Os(ee,"clientWidth",B=>g(H,B)),At(3,ee,()=>_s,()=>({start:.95,duration:100})),$("click",ee,er(function(B){ja.call(this,r,B)})),$("click",j,le),At(3,j,()=>dr,()=>({duration:100})),m(M,j)};L(W,M=>{t(),b(()=>t().isOpen)&&M(ce)})}Fs("innerWidth",M=>g(k,M)),Fs("innerHeight",M=>g(S,M)),m(e,F),kt(),o()}var Vu=E('<p class="modal-message svelte-1bxxaoh"> </p>'),Yu=E('<div class="input-wrapper svelte-1bxxaoh"><input type="text" autoFocus/></div>'),Wu=E('<span class="check svelte-1bxxaoh">â</span>'),Qu=E("<button> <!></button>"),Ku=E('<div class="select-list svelte-1bxxaoh"></div>'),Xu=E('<button class="btn cancel svelte-1bxxaoh"> </button>'),Gu=E('<div class="modal-actions svelte-1bxxaoh"><!> <button class="btn confirm svelte-1bxxaoh"> </button></div>'),Zu=E('<div class="backdrop svelte-1bxxaoh"><div class="modal-card svelte-1bxxaoh"><div class="modal-header svelte-1bxxaoh"><span class="modal-title svelte-1bxxaoh"> </span></div> <div class="modal-body svelte-1bxxaoh"><!> <!></div> <!></div></div>');function Ju(e,r){yt(r,!1);const t=()=>xe(fn,"$modal",a),[a,s]=Nt();let i=T(!1),o=T();function l(){if(t().type==="prompt"){const S=t().inputValue?t().inputValue.trim():"";if(S.length===0){c();return}t().onConfirm&&t().onConfirm(S)}else t().onConfirm&&t().onConfirm();Za()}function d(S){t().onConfirm&&t().onConfirm(S),Za()}function c(){g(i,!0),n(o)&&n(o).focus(),setTimeout(()=>{g(i,!1)},400)}function u(){Za()}function h(S){S.key==="Enter"&&t().type!=="select"&&l(),n(i)&&g(i,!1)}J(()=>t(),()=>{t().isOpen||g(i,!1)}),Ht(),Mt();var f=Je(),p=Le(f);{var k=S=>{var y=Zu(),x=v(y),H=v(x),Z=v(H),K=v(Z),te=_(H,2),le=v(te);{var C=N=>{var ae=Vu(),U=v(ae);de(()=>ve(U,(t(),b(()=>t().message)))),m(N,ae)};L(le,N=>{t(),b(()=>t().message)&&N(C)})}var O=_(le,2);{var P=N=>{var ae=Yu(),U=v(ae);let re;Nr(U,I=>g(o,I),()=>n(o)),de(()=>{re=Ye(U,1,"modal-input svelte-1bxxaoh",null,re,{"shake-error":n(i)}),It(U,"placeholder",(t(),b(()=>t().placeholder)))}),En(U,()=>t().inputValue,I=>Ol(fn,b(t).inputValue=I,b(t))),$("keydown",U,h),m(N,ae)},be=N=>{var ae=Je(),U=Le(ae);{var re=I=>{var z=Ku();St(z,5,()=>(t(),b(()=>t().options)),Er,(ge,F)=>{var W=Qu();let ce;var M=v(W),j=_(M);{var ee=ue=>{var V=Wu();m(ue,V)};L(j,ue=>{n(F),t(),b(()=>n(F).value===t().inputValue)&&ue(ee)})}de(()=>{ce=Ye(W,1,"select-item svelte-1bxxaoh",null,ce,{active:n(F).value===t().inputValue}),ve(M,`${n(F),b(()=>n(F).label)??""} `)}),$("click",W,()=>d(n(F).value)),m(ge,W)}),m(I,z)};L(U,I=>{t(),b(()=>t().type==="select")&&I(re)},!0)}m(N,ae)};L(O,N=>{t(),b(()=>t().type==="prompt")?N(P):N(be,!1)})}var he=_(te,2);{var A=N=>{var ae=Gu(),U=v(ae);{var re=ge=>{var F=Xu(),W=v(F);de(()=>ve(W,(t(),b(()=>t().cancelLabel)))),$("click",F,function(...ce){Za?.apply(this,ce)}),m(ge,F)};L(U,ge=>{t(),b(()=>t().type==="confirm"||t().type==="prompt")&&ge(re)})}var I=_(U,2),z=v(I);de(()=>ve(z,(t(),b(()=>t().confirmLabel)))),$("click",I,l),m(N,ae)};L(he,N=>{t(),b(()=>t().type!=="select")&&N(A)})}de(()=>ve(K,(t(),b(()=>t().title)))),At(3,x,()=>_s,()=>({start:.95,duration:200})),$("click",x,er(function(N){ja.call(this,r,N)})),$("click",y,u),At(3,y,()=>dr,()=>({duration:150})),m(S,y)};L(p,S=>{t(),b(()=>t().isOpen)&&S(k)})}m(e,f),kt(),s()}const ni={init(){this.handleHashChange(),window.addEventListener("hashchange",()=>this.handleHashChange())},handleHashChange(){let e=window.location.hash.slice(1);for(;e.startsWith("/");)e=e.slice(1);if(!e){(We(Qt).length>1||We(jt)==="search")&&(this.setRootTab("artists"),window.location.hash="/artists");return}const r=e.split("/").map(decodeURIComponent),t=r[0];let a=Nc();switch(a||r.length>1&&(t==="album"&&r.length>=3?a={artist:r[1],name:r[2]}:t==="artist"&&r.length>=2?a={name:r[1]}:a={name:r[1],displayName:r[1]}),console.log(`[Router] Navigating: ${t}`,a),t){case"queue":this.setRootTab("queue");break;case"radio":this.setRootTab("radio");break;case"playlists":this.setRootTab("playlists");break;case"settings":this.setRootTab("settings");break;case"favorites":jt.set("favorites"),Qt.set([{view:"root"},{view:"details",data:{name:"Favorites"}}]);break;case"artists":this.setRootTab("artists");break;case"albums":this.setRootTab("albums");break;case"search":jt.set("search"),r[1]&&Ra.set(r[1]),Qt.set([{view:"root"}]);break;case"album":jt.set("albums"),Qt.set([{view:"root"},{view:"tracks_by_album",data:a}]);break;case"artist":jt.set("artists"),Qt.set([{view:"root"},{view:"albums_by_artist",data:a}]);break;case"playlist":jt.set("playlists"),Qt.set([{view:"root"},{view:"details",data:a}]);break;default:this.setRootTab("artists");break}},setRootTab(e){jt.set(e),Qt.set([{view:"root"}])},updateUrl(e,r){let t="";if(e==="root"){const a=We(jt);if(a==="search"){const s=We(Ra);t=s?`search/${encodeURIComponent(s)}`:"search"}else t=a}else if(e==="details"){const a=r.name||r;t=a==="Favorites"?"favorites":`playlist/${encodeURIComponent(a)}`}else if(e==="albums_by_artist"){const a=r.name||r;t=`artist/${encodeURIComponent(a)}`}else if(e==="tracks_by_album"){const a=r.name||r,s=r.artist;s?t=`album/${encodeURIComponent(s)}/${encodeURIComponent(a)}`:t=`album/${encodeURIComponent(a)}`}else e==="queue"&&(t="queue");if(t){const a=`#/${t}`;decodeURIComponent(window.location.hash)!==decodeURIComponent(a)&&(window.location.hash=`/${t}`)}}};var ef=E("<!> <!> <!>",1);function tf(e,r){yt(r,!1),Ea(async()=>{ni.init(),Ic((o,l)=>{ni.updateUrl(o,l)}),eo(),ns.loadRadioStations();try{const o=await Lr.getArtists();o.length>0?console.log(`[App] Database ready. Loaded ${o.length} artists from cache.`):(console.log("[App] Database empty. Starting initial sync..."),ns.syncLibrary())}catch(o){console.error("[App] DB Check failed:",o),Fe("Local DB error. Please update library manually.","error")}}),Mt();var t=ef(),a=Le(t);Pu(a,{});var s=_(a,2);Hu(s,{});var i=_(s,2);Ju(i,{}),m(e,t),kt()}wl(tf,{target:document.getElementById("app")});
